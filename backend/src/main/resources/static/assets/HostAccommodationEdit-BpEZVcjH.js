import{_ as Ke,s as Je,r as g,y as ce,b as We,c as i,d as k,e as s,A as f,t as d,C as v,z as w,E as p,H as $,F as _,f as x,p as pe,n as Ye,a3 as D,v as Qe,k as Xe,o as r}from"./index-Br9ce33d.js";const Ze={key:0,class:"loading-spinner"},es={key:1,class:"page-header"},ss={class:"header-controls"},ts={class:"toggle-label"},as={key:2,class:"form-content"},ls={class:"form-section"},os={class:"form-group"},ns={class:"form-group"},is={class:"form-group"},rs={class:"form-group"},us={class:"form-section"},ds={class:"form-group"},ms={class:"form-group"},vs={key:0,class:"error-message"},cs={class:"form-group"},ps={class:"form-section"},gs={class:"form-group"},fs={class:"form-group"},ks={class:"form-group"},bs={class:"form-group"},ys={class:"form-group"},ws={class:"form-section"},hs={class:"form-group"},Is={class:"form-section"},Ps={class:"form-row two-col"},Cs={class:"form-group"},_s={class:"time-selector-group"},Us=["value"],xs=["value"],Ts={key:0,class:"error-message"},As={class:"form-group"},Gs={class:"time-selector-group"},Ss=["value"],Ns=["value"],Os={key:0,class:"error-message"},Rs={class:"form-section"},Es={class:"form-group"},Vs={class:"amenities-grid"},$s=["checked","onChange"],Ds={class:"amenity-label"},Ls={class:"form-group mt-4"},Ms={class:"theme-category-title"},Fs={class:"theme-tags"},Hs=["checked","onChange"],qs={class:"form-section"},Bs={class:"form-group"},js={class:"banner-upload-area"},zs={key:0,class:"banner-preview-wrapper"},Ks=["src"],Js={key:1,class:"upload-box"},Ws={class:"form-group"},Ys={class:"detail-images-container"},Qs={class:"detail-images-preview"},Xs=["src"],Zs=["onClick"],et={key:0,class:"add-detail-image"},st={class:"form-section"},tt={class:"form-group"},at=["value"],lt={class:"form-group"},ot={class:"form-group"},nt={class:"form-section"},it={key:0,class:"room-list"},rt={class:"room-header"},ut={class:"room-name"},dt={class:"toggle-label-small"},mt=["onClick"],vt={class:"room-details"},ct={class:"detail-row"},pt={class:"detail-value"},gt={class:"detail-row"},ft={class:"detail-value"},kt={class:"detail-row"},bt={class:"detail-value"},yt={class:"detail-row"},wt={class:"detail-value"},ht={class:"room-actions"},It=["onClick"],Pt=["onClick"],Ct={key:1,class:"room-form-inline"},_t={class:"editing-room-header"},Ut={class:"editing-target-name"},xt={class:"form-group"},Tt={key:0,class:"error-message"},At={class:"form-group"},Gt={key:0,class:"room-image-preview"},St=["src"],Nt={key:1,class:"room-upload-box"},Ot={key:0,class:"error-message"},Rt={class:"form-group"},Et={class:"toggle-label-small"},Vt={key:0,class:"toggle-hint-small"},$t={class:"form-row two-col"},Dt={class:"form-group"},Lt={key:0,class:"error-message"},Mt={class:"form-group"},Ft={key:0,class:"error-message"},Ht={class:"form-row two-col"},qt={class:"form-group"},Bt={key:0,class:"error-message"},jt={class:"form-group"},zt={key:0,class:"error-message"},Kt={class:"form-row two-col"},Jt={class:"form-group"},Wt={class:"form-group"},Yt={class:"form-group"},Qt={class:"room-amenities-section"},Xt={class:"room-amenity-label"},Zt={class:"room-amenity-tags"},ea=["checked","onChange"],sa={key:0,class:"error-message"},ta={key:3,class:"room-form"},aa={class:"room-form-title"},la={class:"form-group"},oa={key:0,class:"error-message"},na={class:"form-group"},ia={key:0,class:"room-image-preview"},ra=["src"],ua={key:1,class:"room-upload-box"},da={key:0,class:"error-message"},ma={class:"form-row two-col"},va={class:"form-group"},ca={key:0,class:"error-message"},pa={class:"form-group"},ga={key:0,class:"error-message"},fa={class:"form-row two-col"},ka={class:"form-group"},ba={key:0,class:"error-message"},ya={class:"form-group"},wa={key:0,class:"error-message"},ha={class:"form-row two-col"},Ia={class:"form-group"},Pa={class:"form-group"},Ca={class:"form-group"},_a={class:"room-form-actions"},Ua={class:"bottom-actions"},xa={class:"modal-message"},Ta={__name:"HostAccommodationEdit",setup(Aa){const ge=Je(),j=Xe(),N=ge.params.id,O="/api",fe="",Q=a=>a?a.startsWith("blob:")||a.startsWith("http")?a:`${fe}${a}`:"",R=g(!0),X=g(""),Z=g(!1),z=g(!1),ee=g(""),se=g(!1),y=a=>{ee.value=a,z.value=!0},te=()=>{z.value=!1,se.value&&j.push("/host/accommodation")},L=g(null),A=g(null),ae=g(null),le=g(null),ke={GUESTHOUSE:"ê²ŒìŠ¤íŠ¸í•˜ìš°ìŠ¤",PENSION:"íœì…˜",HOTEL:"í˜¸í…”",MOTEL:"ëª¨í…”",RESORT:"ë¦¬ì¡°íŠ¸",HANOK:"í•œì˜¥",CAMPING:"ìº í•‘/ê¸€ë¨í•‘"},be={ê²ŒìŠ¤íŠ¸í•˜ìš°ìŠ¤:"GUESTHOUSE",íœì…˜:"PENSION",í˜¸í…”:"HOTEL",ëª¨í…”:"MOTEL",ë¦¬ì¡°íŠ¸:"RESORT",í•œì˜¥:"HANOK","ìº í•‘/ê¸€ë¨í•‘":"CAMPING"},ye=[{id:1,label:"ë¬´ì„  ì¸í„°ë„·"},{id:2,label:"ì—ì–´ì»¨"},{id:3,label:"ë‚œë°©"},{id:4,label:"TV"}],oe=g({}),K=g([]),we={MEETING:"ë§Œë‚¨/ì†Œì…œ",PERSONA:"í˜ë¥´ì†Œë‚˜/ì„±í–¥",FACILITY:"ì‹œì„¤/í¸ì˜",FOOD:"ì‹ì‚¬",PLAY:"ë†€ê±°ë¦¬"},he=async()=>{try{const a=await fetch(`${O}/themes`);if(!a.ok)throw new Error("í…Œë§ˆ ë¡œë“œ ì‹¤íŒ¨");const e=await a.json();K.value=e;const t={};e.forEach(n=>{const c=n.themeCategory||"ETC";t[c]||(t[c]={label:we[c]||c,items:[]}),t[c].items.push(n.themeName)}),oe.value=t}catch(a){console.error("í…Œë§ˆ ë¡œë“œ ì‹¤íŒ¨:",a),y("í…Œë§ˆ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.")}},Ie=a=>{const e=K.value.find(t=>t.themeName===a);return e?e.id:void 0},Pe=a=>{const e=K.value.find(t=>t.id===a);return e?e.themeName:void 0},Ce=["êµ­ë¯¼ì€í–‰","ì‹ í•œì€í–‰","ìš°ë¦¬ì€í–‰","í•˜ë‚˜ì€í–‰","ë†í˜‘","ì¹´ì¹´ì˜¤ë±…í¬","í† ìŠ¤ë±…í¬","ê¸°ì—…ì€í–‰"],l=g({name:"",type:"",phone:"",email:"",businessRegistrationNumber:"",city:"",district:"",township:"",address:"",latitude:null,longitude:null,description:"",shortDescription:"",transportInfo:"",checkInTime:"",checkOutTime:"",parkingInfo:"",sns:"",isActive:!0,approvalStatus:"PENDING",houseRules:"",amenities:[],themes:[],bannerImage:null,detailImages:[],bankName:"",accountHolder:"",accountNumber:""}),U=g([]),G=g([]),M=g(null),E=g(""),F=g(""),H=g(""),q=g(""),B=g(""),ne=Array.from({length:24},(a,e)=>String(e).padStart(2,"0")),ie=["00","30"];ce([F,H],([a,e])=>{a&&e&&(l.value.checkInTime=`${a}:${e}`)}),ce([q,B],([a,e])=>{a&&e&&(l.value.checkOutTime=`${a}:${e}`)});const _e=a=>{const e=l.value.amenities.indexOf(a);e===-1?l.value.amenities.push(a):l.value.amenities.splice(e,1)},Ue=a=>{const e=l.value.themes.indexOf(a);if(e===-1){if(l.value.themes.length>=6){y("í…Œë§ˆëŠ” ìµœëŒ€ 6ê°œê¹Œì§€ ì„ íƒ ê°€ëŠ¥í•©ë‹ˆë‹¤.");return}l.value.themes.push(a)}else l.value.themes.splice(e,1)},re=a=>l.value.amenities.includes(a),ue=a=>l.value.themes.includes(a),xe=async()=>{try{const a=D(),e=await fetch(`${O}/reservations/accommodation/${N}`,{headers:{Authorization:`Bearer ${a}`}});if(e.ok){const n=(await e.json()).filter(c=>c.reservationStatus===2);return Z.value=n.length>0,Z.value}return!1}catch(a){return console.error("ì˜ˆì•½ í™•ì¸ ì˜¤ë¥˜:",a),!1}},Te=async()=>{R.value=!0,X.value="";try{const a=D(),e=await fetch(`${O}/accommodations/${N}`,{headers:{Authorization:`Bearer ${a}`}});if(!e.ok)throw new Error("ìˆ™ì†Œ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");const t=await e.json();if(l.value={name:t.accommodationsName,type:ke[t.accommodationsCategory]||t.accommodationsCategory,phone:t.phone,email:t.email||"",businessRegistrationNumber:t.businessRegistrationNumber,city:t.city,district:t.district,township:t.township,address:t.addressDetail,latitude:t.latitude,longitude:t.longitude,description:t.accommodationsDescription,shortDescription:t.shortDescription,transportInfo:t.transportInfo,parkingInfo:t.parkingInfo,sns:t.sns,checkInTime:t.checkInTime||"",checkOutTime:t.checkOutTime||"",isActive:t.accommodationStatus===1,approvalStatus:t.approvalStatus||"PENDING",amenities:t.amenityIds||[],themes:t.themeIds?t.themeIds.map(n=>Pe(n)).filter(Boolean):[],bankName:t.bankName,accountNumber:t.accountNumber,accountHolder:t.accountHolder,bannerImage:null,detailImages:[]},t.images){const n=t.images.find(b=>b.imageType==="banner");n&&(l.value.bannerImage=Q(n.imageUrl));const c=t.images.filter(b=>b.imageType==="detail").sort((b,T)=>b.sortOrder-T.sortOrder);G.value=c.map((b,T)=>({id:b.id||T,url:Q(b.imageUrl),file:null,isNew:!1}))}if(t.checkInTime){const[n,c]=t.checkInTime.split(":");F.value=n?n.padStart(2,"0"):"",H.value=c?c.padStart(2,"0"):"00",l.value.checkInTime=t.checkInTime}if(t.checkOutTime){const[n,c]=t.checkOutTime.split(":");q.value=n?n.padStart(2,"0"):"",B.value=c?c.padStart(2,"0"):"00",l.value.checkOutTime=t.checkOutTime}t.rooms&&(U.value=t.rooms.map(n=>({id:n.roomId,name:n.roomName,weekdayPrice:n.price,weekendPrice:n.weekendPrice,minGuests:n.minGuests,maxGuests:n.maxGuests,bedCount:n.bedCount,bathroomCount:n.bathroomCount,description:n.roomDescription,mainImageUrl:n.mainImageUrl,amenities:n.amenities||[],isActive:n.roomStatus===1})))}catch(a){console.error("Load Error:",a),X.value=a.message}finally{R.value=!1,await Qe(),await Se(),setTimeout(()=>{Ae()},200)}},Ae=()=>{!window.kakao||!window.kakao.maps||!L.value||window.kakao.maps.load(()=>{le.value=new window.kakao.maps.services.Geocoder;const a=parseFloat(l.value.latitude),e=parseFloat(l.value.longitude);if(isNaN(a)||isNaN(e)){const c=`${l.value.city} ${l.value.district} ${l.value.township} ${l.value.address}`.trim();console.warn("Invalid coordinates, attempting fallback with address:",c),c&&le.value.addressSearch(c,(b,T)=>{if(T===window.kakao.maps.services.Status.OK){const m=b[0].y,P=b[0].x;l.value.latitude=m,l.value.longitude=P;const V=new window.kakao.maps.LatLng(m,P),ze={center:V,level:3};A.value=new window.kakao.maps.Map(L.value,ze),ae.value=new window.kakao.maps.Marker({position:V,map:A.value}),setTimeout(()=>{A.value&&A.value.relayout()},100)}else console.error("Geocoding failed for address:",l.value.address)});return}const t=new window.kakao.maps.LatLng(a,e),n={center:t,level:3};A.value=new window.kakao.maps.Map(L.value,n),ae.value=new window.kakao.maps.Marker({position:t,map:A.value}),setTimeout(()=>{A.value&&A.value.relayout()},100)})},h=g({}),Ge=()=>{h.value={};let a=!0;const e=[];return l.value.description?.trim()||(h.value.description="ìˆ™ì†Œ ì†Œê°œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ìˆ™ì†Œ ì†Œê°œ"),a=!1),l.value.checkInTime||(h.value.checkInTime="ì²´í¬ì¸ ì‹œê°„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ì²´í¬ì¸ ì‹œê°„"),a=!1),l.value.checkOutTime||(h.value.checkOutTime="ì²´í¬ì•„ì›ƒ ì‹œê°„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ì²´í¬ì•„ì›ƒ ì‹œê°„"),a=!1),(!l.value.themes||l.value.themes.length===0)&&(e.push("í…Œë§ˆ (ìµœì†Œ 1ê°œ ì„ íƒ)"),a=!1),U.value.length===0&&(h.value.rooms="ë“±ë¡ëœ ê°ì‹¤ì´ ì—†ìŠµë‹ˆë‹¤.",a=!1),{isValid:a,errorMessages:e}},Se=()=>new Promise(a=>{if(window.kakao&&window.kakao.maps)a();else{const e=setInterval(()=>{window.kakao&&window.kakao.maps&&(clearInterval(e),a())},100)}}),Ne=async()=>{if(S.value){y("ì‘ì„± ì¤‘ì¸ ê°ì‹¤ ì •ë³´ë¥¼ ë¨¼ì € ì €ì¥(ë“±ë¡/ìˆ˜ì •)í•´ì£¼ì„¸ìš”.");return}const{isValid:a,errorMessages:e}=Ge();if(!a){y(`ë‹¤ìŒ í•­ëª©ì„ í™•ì¸í•´ì£¼ì„¸ìš”:
${e.join(", ")}`);return}for(const t of U.value){if(!t.name||!t.name.trim()){y("ê°ì‹¤ëª…ì´ ë¹„ì–´ìˆëŠ” ê°ì‹¤ì´ ìˆìŠµë‹ˆë‹¤.");return}if(!t.weekdayPrice||parseInt(t.weekdayPrice)<0){y(`[${t.name}] ê°ì‹¤ì˜ ì£¼ì¤‘ ìš”ê¸ˆì„ í™•ì¸í•´ì£¼ì„¸ìš”.`);return}if(t.weekendPrice===void 0||t.weekendPrice===""||parseInt(t.weekendPrice)<0){y(`[${t.name}] ê°ì‹¤ì˜ ì£¼ë§ ìš”ê¸ˆì„ í™•ì¸í•´ì£¼ì„¸ìš”.`);return}if(!t.minGuests||parseInt(t.minGuests)<1){y(`[${t.name}] ê°ì‹¤ì˜ ìµœì†Œ ì¸ì›ì€ 1ëª… ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.`);return}if(!t.maxGuests||parseInt(t.maxGuests)<1){y(`[${t.name}] ê°ì‹¤ì˜ ìµœëŒ€ ì¸ì›ì€ 1ëª… ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.`);return}if(parseInt(t.minGuests)>parseInt(t.maxGuests)){y(`[${t.name}] ê°ì‹¤ì˜ ìµœëŒ€ ì¸ì›ì€ ìµœì†Œ ì¸ì›ë³´ë‹¤ ì»¤ì•¼ í•©ë‹ˆë‹¤.`);return}}try{const t=await Promise.all(U.value.map(async m=>{let P=null;return m.representativeImage instanceof File?P=await Y(m.representativeImage):m.representativeImagePreview&&m.representativeImagePreview.startsWith("http")?P=m.representativeImagePreview:m.mainImageUrl&&(P=m.mainImageUrl),{roomId:typeof m.id=="number"&&m.id>1e10?null:m.id,roomName:m.name,price:parseInt(m.weekdayPrice),weekendPrice:parseInt(m.weekendPrice),minGuests:parseInt(m.minGuests),maxGuests:parseInt(m.maxGuests),roomDescription:m.description||"",mainImageUrl:P,bathroomCount:parseInt(m.bathroomCount)||0,roomType:"STANDARD",bedCount:parseInt(m.bedCount)||0,roomStatus:m.isActive?1:0,amenities:m.amenities||[]}})),n=[];if(M.value){const m=await Y(M.value);n.push({imageUrl:m,imageType:"banner",sortOrder:0})}else l.value.bannerImage&&n.push({imageUrl:l.value.bannerImage,imageType:"banner",sortOrder:0});for(let m=0;m<G.value.length;m++){const P=G.value[m];if(P.isNew&&P.file){const V=await Y(P.file);n.push({imageUrl:V,imageType:"detail",sortOrder:m+1})}else n.push({imageUrl:P.url,imageType:"detail",sortOrder:m+1})}const c={accommodationsName:l.value.name,accommodationsCategory:be[l.value.type]||l.value.type,accommodationsDescription:l.value.description,shortDescription:l.value.shortDescription||"",transportInfo:l.value.transportInfo||"",accommodationStatus:l.value.isActive?1:0,parkingInfo:l.value.parkingInfo||"",sns:l.value.sns||"",phone:l.value.phone,checkInTime:l.value.checkInTime,checkOutTime:l.value.checkOutTime,latitude:l.value.latitude,longitude:l.value.longitude,bankName:l.value.bankName,accountNumber:l.value.accountNumber,accountHolder:l.value.accountHolder,rooms:t,images:n,amenityIds:l.value.amenities,themeIds:l.value.themes.map(m=>Ie(m)).filter(m=>m!==void 0)};console.log("Update Request:",c);const b=D(),T=await fetch(`${O}/accommodations/${N}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify(c)});if(T.ok){se.value=!0;try{const m=sessionStorage.getItem("hostResubmitMap"),P=m?JSON.parse(m):{};P[String(N)]=Date.now(),sessionStorage.setItem("hostResubmitMap",JSON.stringify(P))}catch(m){console.warn("Failed to store resubmit timestamp",m)}y("ìˆ™ì†Œ ì •ë³´ê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.")}else T.status===401?(alert("ë¡œê·¸ì¸ ì„¸ì…˜ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”."),j.push("/login")):(console.error("Update failed status:",T.status),y("ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. (Status: "+T.status+")"))}catch(t){console.error("HandleUpdate Error:",t),y("ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: "+t.message)}},S=g(!1),o=g({name:"",weekdayPrice:"",weekendPrice:"",minGuests:"",maxGuests:"",bedCount:"",bathroomCount:"",description:"",amenities:[],representativeImage:null,representativeImagePreview:"",isActive:!0}),u=g({}),I=g(null),C=a=>{const e=a.target.value;/[^0-9]/.test(e)&&(a.target.value=e.replace(/[^0-9]/g,""),a.target.dispatchEvent(new Event("input")))},Oe=()=>{u.value={};let a=!0;const e=[];o.value.name?.trim()||(u.value.name="ê°ì‹¤ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ê°ì‹¤ëª…"),a=!1);const t=n=>/^\d+$/.test(n);return(!o.value.weekdayPrice||!t(String(o.value.weekdayPrice))||parseInt(o.value.weekdayPrice)<=0)&&(u.value.weekdayPrice="ì£¼ì¤‘ ìš”ê¸ˆì„ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ì£¼ì¤‘ ìš”ê¸ˆ"),a=!1),(!o.value.weekendPrice||!t(String(o.value.weekendPrice))||parseInt(o.value.weekendPrice)<=0)&&(u.value.weekendPrice="ì£¼ë§ ìš”ê¸ˆì„ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ì£¼ë§ ìš”ê¸ˆ"),a=!1),(!o.value.minGuests||!t(String(o.value.minGuests))||parseInt(o.value.minGuests)<1)&&(u.value.minGuests="ìµœì†Œ ì¸ì›ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ìµœì†Œ ì¸ì›"),a=!1),(!o.value.maxGuests||!t(String(o.value.maxGuests))||parseInt(o.value.maxGuests)<1)&&(u.value.maxGuests="ìµœëŒ€ ì¸ì›ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ìµœëŒ€ ì¸ì›"),a=!1),parseInt(o.value.minGuests)>parseInt(o.value.maxGuests)&&(u.value.maxGuests="ìµœëŒ€ ì¸ì›ì€ ìµœì†Œ ì¸ì›ë³´ë‹¤ ì»¤ì•¼ í•©ë‹ˆë‹¤.",a=!1),o.value.bedCount&&!t(String(o.value.bedCount))&&(u.value.bedCount="ì¹¨ëŒ€ ìˆ˜ëŠ” ìˆ«ìë§Œ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ì¹¨ëŒ€ ìˆ˜"),a=!1),o.value.bathroomCount&&!t(String(o.value.bathroomCount))&&(u.value.bathroomCount="ìš•ì‹¤ ìˆ˜ëŠ” ìˆ«ìë§Œ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ìš•ì‹¤ ìˆ˜"),a=!1),!o.value.representativeImage&&!o.value.representativeImagePreview&&(u.value.representativeImage="ëŒ€í‘œ ì´ë¯¸ì§€ë¥¼ ë“±ë¡í•´ì£¼ì„¸ìš”.",e.push("ëŒ€í‘œ ì´ë¯¸ì§€"),a=!1),u.value._errorFields=e,a},de=a=>{const e=a.target.files[0];e&&(o.value.representativeImage=e,o.value.representativeImagePreview=URL.createObjectURL(e))},me=()=>{o.value.representativeImage=null,o.value.representativeImagePreview=""},ve=()=>{if(!Oe()){const t=u.value._errorFields||[];t.length>0?y(`ë‹¤ìŒ í•­ëª©ì„ í™•ì¸í•´ì£¼ì„¸ìš”: ${t.join(", ")}`):y("ê°ì‹¤ ì •ë³´ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.");return}let a=null;if(I.value){const t=U.value.find(n=>n.id===I.value);t&&(a=t.mainImageUrl)}const e={id:I.value||Date.now(),...o.value,weekdayPrice:parseInt(o.value.weekdayPrice),weekendPrice:parseInt(o.value.weekendPrice),minGuests:parseInt(o.value.minGuests),maxGuests:parseInt(o.value.maxGuests),bedCount:parseInt(o.value.bedCount)||0,bathroomCount:parseInt(o.value.bathroomCount)||0,amenities:[...o.value.amenities],mainImageUrl:o.value.representativeImage?null:a,representativeImage:o.value.representativeImage,representativeImagePreview:o.value.representativeImagePreview};if(I.value){const t=U.value.findIndex(n=>n.id===I.value);t!==-1&&(U.value[t]=e)}else U.value.push(e);S.value=!1,W(),y(I.value?"ê°ì‹¤ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.":"ê°ì‹¤ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤."),I.value=null},Re=a=>{I.value=a.id,o.value={...a},a.mainImageUrl?o.value.representativeImagePreview=a.mainImageUrl:a.representativeImagePreview&&(o.value.representativeImagePreview=a.representativeImagePreview),S.value=!1},Ee=()=>{I.value=null,W()},Ve=()=>{W(),I.value=null,S.value=!0},$e=async a=>{if(confirm("ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?"))try{const e=D(),t=await fetch(`${O}/rooms/${N}/${a}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}});if(t.ok)U.value=U.value.filter(n=>n.id!==a),alert("ê°ì‹¤ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.");else{const n=await t.json().catch(()=>({}));alert(n.message||"ê°ì‹¤ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}}catch(e){console.error("ê°ì‹¤ ì‚­ì œ ì˜¤ë¥˜:",e),alert("ê°ì‹¤ ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}},J=()=>l.value.approvalStatus==="APPROVED",De=()=>{if(!J()){y("ê´€ë¦¬ì ìŠ¹ì¸ í›„ ìš´ì˜ ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.");return}l.value.isActive&&alert("ìˆ™ì†Œ ìš´ì˜ ìƒíƒœê°€ ë¹„í™œì„±í™” ë˜ì—ˆìŠµë‹ˆë‹¤"),l.value.isActive=!l.value.isActive},Le=a=>{if(!J()){y("ê´€ë¦¬ì ìŠ¹ì¸ í›„ ê°ì‹¤ ìš´ì˜ ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.");return}a.isActive&&alert("ê°ì‹¤ ìš´ì˜ ìƒíƒœê°€ ë¹„í™œì„±í™” ë˜ì—ˆìŠµë‹ˆë‹¤ "),a.isActive=!a.isActive},Me=()=>{if(!J()){y("ê´€ë¦¬ì ìŠ¹ì¸ í›„ ê°ì‹¤ ìš´ì˜ ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.");return}o.value.isActive&&alert("ê°ì‹¤ ì‚¬ìš© ì¤‘ì§€"),o.value.isActive=!o.value.isActive},Fe=async()=>{if(await xe()){alert("ì˜ˆì•½ëœ ì •ë³´ê°€ ìˆì–´ ì‚­ì œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");return}if(confirm("ì •ë§ ìˆ™ì†Œë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."))try{const e=D();(await fetch(`${O}/accommodations/${N}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}})).ok?(alert("ìˆ™ì†Œê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."),j.push("/host/accommodation")):alert("ìˆ™ì†Œ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}catch(e){console.error("ìˆ™ì†Œ ì‚­ì œ ì˜¤ë¥˜:",e),alert("ìˆ™ì†Œ ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}},W=()=>{o.value={name:"",weekdayPrice:"",weekendPrice:"",minGuests:"",maxGuests:"",bedCount:"",bathroomCount:"",description:"",amenities:[],representativeImage:null,representativeImagePreview:"",isActive:!0},u.value={}},Y=a=>new Promise((e,t)=>{const n=new FileReader;n.onload=()=>e(n.result),n.onerror=t,n.readAsDataURL(a)}),He=a=>{const e=a.target.files[0];if(e){M.value=e;const t=URL.createObjectURL(e);E.value=t}},qe=()=>{M.value=null,E.value="",l.value.bannerImage=null},Be=a=>{const e=Array.from(a.target.files),t=5-G.value.length;e.slice(0,t).forEach(n=>{G.value.push({id:Date.now()+Math.random(),url:URL.createObjectURL(n),file:n,isNew:!0})}),a.target.value=""},je=a=>{G.value.splice(a,1)};return We(async()=>{await he(),Te()}),(a,e)=>(r(),i("div",{class:f(["register-page",{loading:R.value}])},[R.value?(r(),i("div",Ze,"Loading...")):(r(),i("div",es,[e[39]||(e[39]=s("div",{class:"header-top"},[s("div",{class:"title-area"},[s("h1",null,"ìˆ™ì†Œ ì •ë³´ ìˆ˜ì •"),s("p",{class:"subtitle"},"ë“±ë¡ëœ ìˆ™ì†Œ ì •ë³´ë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")])],-1)),s("div",ss,[s("div",{class:f(["approval-status-badge",l.value.approvalStatus.toLowerCase()])},d(l.value.approvalStatus==="APPROVED"?"ìŠ¹ì¸ì™„ë£Œ":l.value.approvalStatus==="PENDING"?"ìŠ¹ì¸ëŒ€ê¸°":"ìŠ¹ì¸ê±°ì ˆ"),3),s("div",{class:f(["toggle-wrapper",{disabled:l.value.approvalStatus!=="APPROVED"}])},[s("span",ts,d(l.value.isActive?"ìš´ì˜ ì¤‘":"ìš´ì˜ ì¤‘ì§€"),1),s("div",{class:f(["toggle-switch",{active:l.value.isActive,disabled:l.value.approvalStatus!=="APPROVED"}]),onClick:De},[...e[38]||(e[38]=[s("div",{class:"toggle-slider"},null,-1)])],2)],2)])])),R.value?k("",!0):(r(),i("div",as,[s("section",ls,[e[44]||(e[44]=s("h3",{class:"subsection-title"},"ê¸°ë³¸ì •ë³´",-1)),s("div",os,[e[40]||(e[40]=s("label",null,[w("ìˆ™ì†Œëª… "),s("span",{class:"required"},"*")],-1)),v(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>l.value.name=t),placeholder:"ìˆ™ì†Œëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"},null,512),[[p,l.value.name]])]),s("div",ns,[e[41]||(e[41]=s("label",null,"ìˆ™ì†Œìœ í˜•",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>l.value.type=t),readonly:"",class:"readonly-input"},null,512),[[p,l.value.type]])]),s("div",is,[e[42]||(e[42]=s("label",null,"ëŒ€í‘œ ì—°ë½ì²˜",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>l.value.phone=t),readonly:"",class:"readonly-input"},null,512),[[p,l.value.phone]])]),s("div",rs,[e[43]||(e[43]=s("label",null,"ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>l.value.businessRegistrationNumber=t),readonly:"",class:"readonly-input"},null,512),[[p,l.value.businessRegistrationNumber]])])]),s("section",us,[e[48]||(e[48]=s("h3",{class:"subsection-title"},"ìˆ™ì†Œ ìƒì„¸ ì •ë³´",-1)),s("div",ds,[e[45]||(e[45]=s("label",null,"í•œ ì¤„ ì„¤ëª…",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=t=>l.value.shortDescription=t),placeholder:"ìˆ™ì†Œ ë¦¬ìŠ¤íŠ¸ì— í‘œì‹œë  ì§§ì€ ì†Œê°œê¸€ì…ë‹ˆë‹¤."},null,512),[[p,l.value.shortDescription]])]),s("div",ms,[e[46]||(e[46]=s("label",null,[w("ìˆ™ì†Œ ì†Œê°œ(ìƒì„¸ì„¤ëª…) "),s("span",{class:"required"},"*")],-1)),v(s("textarea",{"onUpdate:modelValue":e[5]||(e[5]=t=>l.value.description=t),rows:"5",class:f({"input-error":h.value.description}),placeholder:"ìˆ™ì†Œì˜ ë§¤ë ¥ í¬ì¸íŠ¸, ì£¼ë³€ í™˜ê²½, í˜¸ìŠ¤íŒ… ìŠ¤íƒ€ì¼ ë“±ì„ ìƒì„¸íˆ ì ì–´ì£¼ì„¸ìš”."},null,2),[[p,l.value.description]]),h.value.description?(r(),i("span",vs,d(h.value.description),1)):k("",!0)]),s("div",cs,[e[47]||(e[47]=s("label",null,"SNS",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=t=>l.value.sns=t),placeholder:"@instagram_id"},null,512),[[p,l.value.sns]])])]),s("section",ps,[e[53]||(e[53]=s("h3",{class:"subsection-title"},"ìœ„ì¹˜ ì •ë³´ (ìˆ˜ì • ë¶ˆê°€)",-1)),s("div",gs,[e[49]||(e[49]=s("label",null,"ì‹œ/ë„",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=t=>l.value.city=t),readonly:"",class:"readonly-input"},null,512),[[p,l.value.city]])]),s("div",fs,[e[50]||(e[50]=s("label",null,"êµ¬/êµ°",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=t=>l.value.district=t),readonly:"",class:"readonly-input"},null,512),[[p,l.value.district]])]),s("div",ks,[e[51]||(e[51]=s("label",null,"ì/ë©´/ë™",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=t=>l.value.township=t),readonly:"",class:"readonly-input"},null,512),[[p,l.value.township]])]),s("div",bs,[e[52]||(e[52]=s("label",null,"ìƒì„¸ì£¼ì†Œ",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=t=>l.value.address=t),readonly:"",class:"readonly-input"},null,512),[[p,l.value.address]])]),s("div",ys,[s("div",{ref_key:"mapContainer",ref:L,class:"kakao-map"},null,512)])]),s("section",ws,[e[55]||(e[55]=s("h3",{class:"subsection-title"},"êµí†µ ë° ì£¼ì°¨ ì •ë³´",-1)),s("div",hs,[e[54]||(e[54]=s("label",null,"ì£¼ì°¨ì •ë³´",-1)),v(s("textarea",{"onUpdate:modelValue":e[11]||(e[11]=t=>l.value.parkingInfo=t),rows:"3",placeholder:"ì˜ˆ: ê±´ë¬¼ ë‚´ ë¬´ë£Œ ì£¼ì°¨ ê°€ëŠ¥"},null,512),[[p,l.value.parkingInfo]])])]),s("section",Is,[e[60]||(e[60]=s("h3",{class:"subsection-title"},"ì²´í¬ì¸/ì•„ì›ƒ ì •ë³´",-1)),s("div",Ps,[s("div",Cs,[e[57]||(e[57]=s("label",null,[w("ì²´í¬ì¸ ì‹œê°„ "),s("span",{class:"required"},"*")],-1)),s("div",_s,[v(s("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>F.value=t),class:"time-select"},[(r(!0),i(_,null,x(pe(ne),t=>(r(),i("option",{key:t,value:t},d(t)+"ì‹œ",9,Us))),128))],512),[[$,F.value]]),e[56]||(e[56]=s("span",{class:"time-separator"},":",-1)),v(s("select",{"onUpdate:modelValue":e[13]||(e[13]=t=>H.value=t),class:"time-select"},[(r(),i(_,null,x(ie,t=>s("option",{key:t,value:t},d(t)+"ë¶„",9,xs)),64))],512),[[$,H.value]])]),h.value.checkInTime?(r(),i("span",Ts,d(h.value.checkInTime),1)):k("",!0)]),s("div",As,[e[59]||(e[59]=s("label",null,[w("ì²´í¬ì•„ì›ƒ ì‹œê°„ "),s("span",{class:"required"},"*")],-1)),s("div",Gs,[v(s("select",{"onUpdate:modelValue":e[14]||(e[14]=t=>q.value=t),class:"time-select"},[(r(!0),i(_,null,x(pe(ne),t=>(r(),i("option",{key:t,value:t},d(t)+"ì‹œ",9,Ss))),128))],512),[[$,q.value]]),e[58]||(e[58]=s("span",{class:"time-separator"},":",-1)),v(s("select",{"onUpdate:modelValue":e[15]||(e[15]=t=>B.value=t),class:"time-select"},[(r(),i(_,null,x(ie,t=>s("option",{key:t,value:t},d(t)+"ë¶„",9,Ns)),64))],512),[[$,B.value]])]),h.value.checkOutTime?(r(),i("span",Os,d(h.value.checkOutTime),1)):k("",!0)])])]),s("section",Rs,[e[64]||(e[64]=s("h3",{class:"subsection-title"},"í¸ì˜ ì‹œì„¤ & í…Œë§ˆ",-1)),s("div",Es,[e[62]||(e[62]=s("label",{class:"mb-2"},"í¸ì˜ ì‹œì„¤",-1)),s("div",Vs,[(r(),i(_,null,x(ye,t=>s("label",{key:t.id,class:f(["amenity-checkbox",{checked:re(t.id)}])},[s("input",{type:"checkbox",checked:re(t.id),onChange:n=>_e(t.id)},null,40,$s),e[61]||(e[61]=s("span",{class:"checkmark"},null,-1)),s("span",Ds,d(t.label),1)],2)),64))])]),s("div",Ls,[e[63]||(e[63]=s("label",{class:"mb-2"},"í…Œë§ˆ (ìµœëŒ€ 6ê°œ)",-1)),(r(!0),i(_,null,x(oe.value,(t,n)=>(r(),i("div",{key:n,class:"theme-category"},[s("div",Ms,d(t.label),1),s("div",Fs,[(r(!0),i(_,null,x(t.items,c=>(r(),i("label",{key:c,class:f(["theme-tag",{selected:ue(c)}])},[s("input",{type:"checkbox",checked:ue(c),onChange:b=>Ue(c)},null,40,Hs),w(" "+d(c),1)],2))),128))])]))),128))])]),s("section",qs,[e[69]||(e[69]=s("h3",{class:"subsection-title"},"ìˆ™ì†Œ ì´ë¯¸ì§€",-1)),s("div",Bs,[e[66]||(e[66]=s("label",null,[w("ë°°ë„ˆ ì´ë¯¸ì§€ "),s("span",{class:"required"},"*")],-1)),s("div",js,[E.value||l.value.bannerImage?(r(),i("div",zs,[s("img",{src:E.value?E.value:l.value.bannerImage,class:"banner-preview"},null,8,Ks),s("button",{type:"button",class:"remove-image-btn",onClick:qe},"âœ•")])):(r(),i("label",Js,[s("input",{type:"file",accept:"image/*",onChange:He},null,32),e[65]||(e[65]=s("div",{class:"upload-placeholder"},[s("span",{class:"upload-icon"},"ğŸ“·"),s("span",{class:"upload-text"},"ë°°ë„ˆ ì´ë¯¸ì§€ ì—…ë¡œë“œ"),s("span",{class:"upload-info"},"ê¶Œì¥ í¬ê¸°: 1200 x 400px")],-1))]))])]),s("div",Ws,[e[68]||(e[68]=s("label",null,"ìƒì„¸ ì´ë¯¸ì§€ (ìµœëŒ€ 5ì¥)",-1)),s("div",Ys,[s("div",Qs,[(r(!0),i(_,null,x(G.value,(t,n)=>(r(),i("div",{key:t.id,class:"detail-image-item"},[s("img",{src:t.url},null,8,Xs),s("button",{type:"button",class:"remove-image-btn",onClick:c=>je(n)},"âœ•",8,Zs)]))),128)),G.value.length<5?(r(),i("label",et,[s("input",{type:"file",accept:"image/*",multiple:"",onChange:Be},null,32),e[67]||(e[67]=s("span",null,"+",-1))])):k("",!0)])])])]),s("section",st,[e[74]||(e[74]=s("h3",{class:"subsection-title"},"ì •ì‚° ê³„ì¢Œ",-1)),s("div",tt,[e[71]||(e[71]=s("label",null,"ì€í–‰ëª…",-1)),v(s("select",{"onUpdate:modelValue":e[16]||(e[16]=t=>l.value.bankName=t)},[e[70]||(e[70]=s("option",{value:"",disabled:""},"ì„ íƒí•´ì£¼ì„¸ìš”",-1)),(r(),i(_,null,x(Ce,t=>s("option",{key:t,value:t},d(t),9,at)),64))],512),[[$,l.value.bankName]])]),s("div",lt,[e[72]||(e[72]=s("label",null,"ì˜ˆê¸ˆì£¼",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[17]||(e[17]=t=>l.value.accountHolder=t),placeholder:"ì˜ˆê¸ˆì£¼ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"},null,512),[[p,l.value.accountHolder]])]),s("div",ot,[e[73]||(e[73]=s("label",null,"ê³„ì¢Œë²ˆí˜¸",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[18]||(e[18]=t=>l.value.accountNumber=t),placeholder:"'-' ì—†ì´ ìˆ«ìë§Œ ì…ë ¥",onInput:C},null,544),[[p,l.value.accountNumber]])])]),s("section",nt,[e[104]||(e[104]=s("h3",{class:"subsection-title"},"ê°ì‹¤ ê´€ë¦¬",-1)),U.value.length>0?(r(),i("div",it,[(r(!0),i(_,null,x(U.value,t=>(r(),i("div",{key:t.id,class:"room-card"},[I.value!==t.id?(r(),i(_,{key:0},[s("div",rt,[s("h4",ut,d(t.name),1),s("div",{class:f(["room-toggle",{disabled:l.value.approvalStatus!=="APPROVED"}])},[s("span",dt,d(t.isActive?"ìš´ì˜ ì¤‘":"ìš´ì˜ ì¤‘ì§€"),1),s("div",{class:f(["toggle-switch small",{active:t.isActive,disabled:l.value.approvalStatus!=="APPROVED"}]),onClick:n=>Le(t)},[...e[75]||(e[75]=[s("div",{class:"toggle-slider"},null,-1)])],10,mt)],2)]),s("div",vt,[s("div",ct,[e[76]||(e[76]=s("span",{class:"detail-label"},"ì£¼ì¤‘ ìš”ê¸ˆ",-1)),s("span",pt,"â‚©"+d(Number(t.weekdayPrice).toLocaleString()),1)]),s("div",gt,[e[77]||(e[77]=s("span",{class:"detail-label"},"ì£¼ë§ ìš”ê¸ˆ",-1)),s("span",ft,"â‚©"+d(Number(t.weekendPrice).toLocaleString()),1)]),s("div",kt,[e[78]||(e[78]=s("span",{class:"detail-label"},"ì¸ì›",-1)),s("span",bt,d(t.minGuests)+"~"+d(t.maxGuests)+"ëª…",1)]),s("div",yt,[e[79]||(e[79]=s("span",{class:"detail-label"},"ì¹¨ëŒ€/ìš•ì‹¤",-1)),s("span",wt,"ì¹¨ëŒ€ "+d(t.bedCount||0)+"ê°œ | ìš•ì‹¤ "+d(t.bathroomCount||0)+"ê°œ",1)])]),s("div",ht,[s("button",{class:"room-btn edit",onClick:n=>Re(t)},"ìˆ˜ì •",8,It),s("button",{class:"room-btn delete",onClick:n=>$e(t.id)},"ì‚­ì œ",8,Pt)])],64)):(r(),i("div",Ct,[s("div",_t,[e[80]||(e[80]=s("span",{class:"editing-badge"},"ìˆ˜ì • ì¤‘",-1)),s("h4",Ut,d(t.name),1)]),s("div",xt,[e[81]||(e[81]=s("label",null,[w("ê°ì‹¤ëª… "),s("span",{class:"required"},"*")],-1)),v(s("input",{type:"text","onUpdate:modelValue":e[19]||(e[19]=n=>o.value.name=n),class:f({"input-error":u.value.name}),placeholder:"ê°ì‹¤ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"},null,2),[[p,o.value.name]]),u.value.name?(r(),i("span",Tt,d(u.value.name),1)):k("",!0)]),s("div",At,[e[83]||(e[83]=s("label",null,[w("ê°ì‹¤ ëŒ€í‘œ ì´ë¯¸ì§€ "),s("span",{class:"required"},"*")],-1)),s("div",{class:f(["room-image-upload-area",{"upload-error":u.value.representativeImage}])},[o.value.representativeImagePreview?(r(),i("div",Gt,[s("img",{src:o.value.representativeImagePreview,alt:"ê°ì‹¤ ëŒ€í‘œ ì´ë¯¸ì§€"},null,8,St),s("button",{type:"button",class:"room-remove-image-btn",onClick:me},"âœ•")])):(r(),i("label",Nt,[s("input",{type:"file",accept:"image/*",onChange:de,class:"hidden-file-input"},null,32),e[82]||(e[82]=s("div",{class:"room-upload-content"},[s("span",{class:"room-upload-icon"},"ğŸ“·"),s("span",{class:"room-upload-text"},"ì´ë¯¸ì§€ ì—…ë¡œë“œ")],-1))]))],2),u.value.representativeImage?(r(),i("span",Ot,d(u.value.representativeImage),1)):k("",!0)]),s("div",Rt,[e[85]||(e[85]=s("label",null,"ìš´ì˜ ìƒíƒœ",-1)),s("div",{class:f(["room-status-toggle",{disabled:l.value.approvalStatus!=="APPROVED"}])},[s("span",Et,d(o.value.isActive?"ìš´ì˜ ì¤‘":"ìš´ì˜ ì¤‘ì§€"),1),s("div",{class:f(["toggle-switch small",{active:o.value.isActive,disabled:l.value.approvalStatus!=="APPROVED"}]),onClick:Me},[...e[84]||(e[84]=[s("div",{class:"toggle-slider"},null,-1)])],2),l.value.approvalStatus!=="APPROVED"?(r(),i("span",Vt,"ìŠ¹ì¸ í›„ ë³€ê²½ ê°€ëŠ¥")):k("",!0)],2)]),s("div",$t,[s("div",Dt,[e[86]||(e[86]=s("label",null,[w("ì£¼ì¤‘ ìš”ê¸ˆ "),s("span",{class:"required"},"*")],-1)),v(s("input",{type:"number","onUpdate:modelValue":e[20]||(e[20]=n=>o.value.weekdayPrice=n),class:f({"input-error":u.value.weekdayPrice}),onInput:C},null,34),[[p,o.value.weekdayPrice]]),u.value.weekdayPrice?(r(),i("span",Lt,d(u.value.weekdayPrice),1)):k("",!0)]),s("div",Mt,[e[87]||(e[87]=s("label",null,[w("ì£¼ë§ ìš”ê¸ˆ "),s("span",{class:"required"},"*")],-1)),v(s("input",{type:"number","onUpdate:modelValue":e[21]||(e[21]=n=>o.value.weekendPrice=n),class:f({"input-error":u.value.weekendPrice}),onInput:C},null,34),[[p,o.value.weekendPrice]]),u.value.weekendPrice?(r(),i("span",Ft,d(u.value.weekendPrice),1)):k("",!0)])]),s("div",Ht,[s("div",qt,[e[88]||(e[88]=s("label",null,"ìµœì†Œ ì¸ì›",-1)),v(s("input",{type:"number","onUpdate:modelValue":e[22]||(e[22]=n=>o.value.minGuests=n),class:f({"input-error":u.value.minGuests}),onInput:C},null,34),[[p,o.value.minGuests]]),u.value.minGuests?(r(),i("span",Bt,d(u.value.minGuests),1)):k("",!0)]),s("div",jt,[e[89]||(e[89]=s("label",null,"ìµœëŒ€ ì¸ì›",-1)),v(s("input",{type:"number","onUpdate:modelValue":e[23]||(e[23]=n=>o.value.maxGuests=n),class:f({"input-error":u.value.maxGuests}),onInput:C},null,34),[[p,o.value.maxGuests]]),u.value.maxGuests?(r(),i("span",zt,d(u.value.maxGuests),1)):k("",!0)])]),s("div",Kt,[s("div",Jt,[e[90]||(e[90]=s("label",null,"ì¹¨ëŒ€ ê°œìˆ˜",-1)),v(s("input",{"onUpdate:modelValue":e[24]||(e[24]=n=>o.value.bedCount=n),type:"number",onInput:C},null,544),[[p,o.value.bedCount]])]),s("div",Wt,[e[91]||(e[91]=s("label",null,"ìš•ì‹¤ ê°œìˆ˜",-1)),v(s("input",{"onUpdate:modelValue":e[25]||(e[25]=n=>o.value.bathroomCount=n),type:"number",onInput:C},null,544),[[p,o.value.bathroomCount]])])]),s("div",Yt,[e[92]||(e[92]=s("label",null,"ê°ì‹¤ ì„¤ëª…",-1)),v(s("textarea",{"onUpdate:modelValue":e[26]||(e[26]=n=>o.value.description=n),rows:"3"},null,512),[[p,o.value.description]])]),s("div",Qt,[(r(!0),i(_,null,x(a.roomAmenityOptions,(n,c)=>(r(),i("div",{key:c,class:"room-amenity-category"},[s("div",Xt,d(n.label),1),s("div",Zt,[(r(!0),i(_,null,x(n.items,b=>(r(),i("label",{key:b,class:f(["room-amenity-tag",{selected:o.value.amenities.includes(b)}])},[s("input",{type:"checkbox",checked:o.value.amenities.includes(b),onChange:T=>a.toggleRoomAmenity(b)},null,40,ea),w(" "+d(b),1)],2))),128))])]))),128))]),s("div",{class:"room-form-actions"},[s("button",{class:"btn-outline",onClick:Ee},"ì·¨ì†Œ"),s("button",{class:"btn-primary",onClick:ve},"ìˆ˜ì •")])]))]))),128))])):(r(),i("p",{key:1,class:f(["no-rooms",{"no-rooms-error":h.value.rooms}])},[e[93]||(e[93]=w(" ë“±ë¡ëœ ê°ì‹¤ì´ ì—†ìŠµë‹ˆë‹¤. ",-1)),h.value.rooms?(r(),i("span",sa,d(h.value.rooms),1)):k("",!0)],2)),!S.value&&!I.value?(r(),i("button",{key:2,class:"add-room-btn",onClick:Ve}," + ê°ì‹¤ ì¶”ê°€í•˜ê¸° ")):k("",!0),S.value&&!I.value?(r(),i("div",ta,[s("h4",aa,d(I.value?"ê°ì‹¤ ìˆ˜ì •":"ìƒˆ ê°ì‹¤ ì¶”ê°€"),1),s("div",la,[e[94]||(e[94]=s("label",null,[w("ê°ì‹¤ëª… "),s("span",{class:"required"},"*")],-1)),v(s("input",{type:"text","onUpdate:modelValue":e[27]||(e[27]=t=>o.value.name=t),class:f({"input-error":u.value.name}),placeholder:"ê°ì‹¤ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"},null,2),[[p,o.value.name]]),u.value.name?(r(),i("span",oa,d(u.value.name),1)):k("",!0)]),s("div",na,[e[96]||(e[96]=s("label",null,[w("ê°ì‹¤ ëŒ€í‘œ ì´ë¯¸ì§€ "),s("span",{class:"required"},"*")],-1)),s("div",{class:f(["room-image-upload-area",{"upload-error":u.value.representativeImage}])},[o.value.representativeImagePreview?(r(),i("div",ia,[s("img",{src:o.value.representativeImagePreview,alt:"ê°ì‹¤ ëŒ€í‘œ ì´ë¯¸ì§€"},null,8,ra),s("button",{type:"button",class:"room-remove-image-btn",onClick:me},"âœ•")])):(r(),i("label",ua,[s("input",{type:"file",accept:"image/*",onChange:de,class:"hidden-file-input"},null,32),e[95]||(e[95]=s("div",{class:"room-upload-content"},[s("span",{class:"room-upload-icon"},"ğŸ“·"),s("span",{class:"room-upload-text"},"ì´ë¯¸ì§€ ì—…ë¡œë“œ")],-1))]))],2),u.value.representativeImage?(r(),i("span",da,d(u.value.representativeImage),1)):k("",!0)]),s("div",ma,[s("div",va,[e[97]||(e[97]=s("label",null,[w("ì£¼ì¤‘ ìš”ê¸ˆ "),s("span",{class:"required"},"*")],-1)),v(s("input",{type:"number","onUpdate:modelValue":e[28]||(e[28]=t=>o.value.weekdayPrice=t),class:f({"input-error":u.value.weekdayPrice}),onInput:C},null,34),[[p,o.value.weekdayPrice]]),u.value.weekdayPrice?(r(),i("span",ca,d(u.value.weekdayPrice),1)):k("",!0)]),s("div",pa,[e[98]||(e[98]=s("label",null,[w("ì£¼ë§ ìš”ê¸ˆ "),s("span",{class:"required"},"*")],-1)),v(s("input",{type:"number","onUpdate:modelValue":e[29]||(e[29]=t=>o.value.weekendPrice=t),class:f({"input-error":u.value.weekendPrice}),onInput:C},null,34),[[p,o.value.weekendPrice]]),u.value.weekendPrice?(r(),i("span",ga,d(u.value.weekendPrice),1)):k("",!0)])]),s("div",fa,[s("div",ka,[e[99]||(e[99]=s("label",null,"ìµœì†Œ ì¸ì›",-1)),v(s("input",{type:"number","onUpdate:modelValue":e[30]||(e[30]=t=>o.value.minGuests=t),class:f({"input-error":u.value.minGuests}),onInput:C},null,34),[[p,o.value.minGuests]]),u.value.minGuests?(r(),i("span",ba,d(u.value.minGuests),1)):k("",!0)]),s("div",ya,[e[100]||(e[100]=s("label",null,"ìµœëŒ€ ì¸ì›",-1)),v(s("input",{type:"number","onUpdate:modelValue":e[31]||(e[31]=t=>o.value.maxGuests=t),class:f({"input-error":u.value.maxGuests}),onInput:C},null,34),[[p,o.value.maxGuests]]),u.value.maxGuests?(r(),i("span",wa,d(u.value.maxGuests),1)):k("",!0)])]),s("div",ha,[s("div",Ia,[e[101]||(e[101]=s("label",null,"ì¹¨ëŒ€ ê°œìˆ˜",-1)),v(s("input",{"onUpdate:modelValue":e[32]||(e[32]=t=>o.value.bedCount=t),type:"number",onInput:C},null,544),[[p,o.value.bedCount]])]),s("div",Pa,[e[102]||(e[102]=s("label",null,"ìš•ì‹¤ ê°œìˆ˜",-1)),v(s("input",{"onUpdate:modelValue":e[33]||(e[33]=t=>o.value.bathroomCount=t),type:"number",onInput:C},null,544),[[p,o.value.bathroomCount]])])]),s("div",Ca,[e[103]||(e[103]=s("label",null,"ê°ì‹¤ ì„¤ëª…",-1)),v(s("textarea",{"onUpdate:modelValue":e[34]||(e[34]=t=>o.value.description=t),rows:"3"},null,512),[[p,o.value.description]])]),s("div",_a,[s("button",{class:"btn-outline",onClick:e[35]||(e[35]=t=>S.value=!1)},"ì·¨ì†Œ"),s("button",{class:"btn-primary",onClick:ve},d(I.value?"ìˆ˜ì •":"ë“±ë¡"),1)])])):k("",!0)]),s("div",Ua,[s("button",{class:"btn-cancel",onClick:e[36]||(e[36]=t=>a.$router.push("/host/accommodation"))},"ì·¨ì†Œ"),s("button",{class:"btn-delete",onClick:Fe},"ìˆ™ì†Œ ì‚­ì œ"),s("button",{class:"btn-submit",onClick:Ne},"ìˆ˜ì • ì™„ë£Œ")])])),z.value?(r(),i("div",{key:3,class:"modal-overlay",onClick:te},[s("div",{class:"modal-content",onClick:e[37]||(e[37]=Ye(()=>{},["stop"]))},[s("p",xa,d(ee.value),1),s("button",{class:"modal-btn",onClick:te},"í™•ì¸")])])):k("",!0)],2))}},Sa=Ke(Ta,[["__scopeId","data-v-f56ae716"]]);export{Sa as default};
