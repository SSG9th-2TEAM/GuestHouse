import{_ as h,r as n,y,c as d,e as s,d as k,A as v,C as m,E as g,t as p,Z as E,k as x,o as c}from"./index-GmEodlcO.js";const V={class:"find-email-page"},w={class:"find-email-container"},C={key:0,class:"form-section"},B={class:"input-group"},D={class:"input-group"},F=["disabled"],N={key:0,class:"error-message"},T={key:1,class:"result-section"},L={class:"found-email-display"},M={__name:"FindEmailView",setup(U){const f=x(),i=n(""),l=n(""),r=n(""),o=n(""),u=n(!1);y(l,t=>{let e=t.replace(/\D/g,""),a="";e.startsWith("010")&&e.length>3?e.length<8?a=e.substring(0,3)+"-"+e.substring(3):a=e.substring(0,3)+"-"+e.substring(3,7)+"-"+e.substring(7,11):e.length>0&&(a=e),a!==t&&(l.value=a)});const _=async()=>{if(o.value="",r.value="",!i.value||!l.value){o.value="이름과 전화번호를 모두 입력해주세요.";return}u.value=!0;try{const t=await E({name:i.value,phone:l.value});t.ok&&t.data?r.value=t.data.email:o.value=t.data?.message||"일치하는 이메일을 찾을 수 없습니다."}catch(t){console.error("이메일 찾기 오류:",t),o.value="이메일 찾기 중 오류가 발생했습니다. 잠시 후 다시 시도해주세요."}finally{u.value=!1}},b=()=>{f.push("/login")};return(t,e)=>(c(),d("div",V,[s("div",w,[e[6]||(e[6]=s("h1",{class:"page-title"},"이메일 찾기",-1)),r.value?(c(),d("div",T,[e[5]||(e[5]=s("p",{class:"success-message"},"회원님의 이메일 주소입니다.",-1)),s("p",L,p(r.value),1),s("button",{class:"go-to-login-btn",onClick:b},"로그인 페이지로 이동")])):(c(),d("div",C,[e[4]||(e[4]=s("p",{class:"description"},[v("회원가입 시 입력했던 "),s("br"),v("이름과 전화번호를 입력해주세요.")],-1)),s("div",B,[e[2]||(e[2]=s("label",{for:"name"},"이름",-1)),m(s("input",{type:"text",id:"name","onUpdate:modelValue":e[0]||(e[0]=a=>i.value=a),placeholder:"이름을 입력하세요"},null,512),[[g,i.value]])]),s("div",D,[e[3]||(e[3]=s("label",{for:"phone"},"전화번호",-1)),m(s("input",{type:"tel",id:"phone","onUpdate:modelValue":e[1]||(e[1]=a=>l.value=a),placeholder:"010-1234-5678"},null,512),[[g,l.value]])]),s("button",{class:"submit-btn",onClick:_,disabled:u.value},p(u.value?"찾는 중...":"이메일 찾기"),9,F),o.value?(c(),d("p",N,p(o.value),1)):k("",!0)]))])]))}},I=h(M,[["__scopeId","data-v-d79513d7"]]);export{I as default};
