import{u as g}from"./index-Ds_d9er1.js";const a=t=>{if(t==null||t==="")return null;const n=Array.isArray(t)?t[0]:t,i=Number(n);return Number.isFinite(i)?i:null},m=t=>{if(!(t instanceof Date)||Number.isNaN(t.getTime()))return null;const n=t.getFullYear(),i=String(t.getMonth()+1).padStart(2,"0"),e=String(t.getDate()).padStart(2,"0");return`${n}-${i}-${e}`},N=t=>t?(Array.isArray(t)?t.join(","):String(t)).split(",").map(i=>Number(i)).filter(i=>Number.isFinite(i)):[],b=t=>{const n=a(t);return Number.isFinite(n)?Math.max(1,n):1},l=t=>{if(!t)return null;const n=Array.isArray(t)?t[0]:t;if(!n)return null;const[i,e,r]=String(n).trim().split("-"),s=Number(i),u=Number(e),o=Number(r);if(!Number.isFinite(s)||!Number.isFinite(u)||!Number.isFinite(o))return null;const c=new Date(s,u-1,o);return Number.isNaN(c.getTime())?null:c},f=()=>{const t=g();return{applyRouteFilters:(e={})=>{const r=a(e.min??e.minPrice),s=a(e.max??e.maxPrice),u=N(e.themeIds),o=b(e.guestCount),c=l(e.checkin??e.checkIn),h=l(e.checkout??e.checkOut);t.setPriceRange(r,s),t.setThemeIds(u),t.setGuestCount(o),t.setStartDate(c??null),t.setEndDate(h??null)},buildFilterQuery:e=>{const r={};t.minPrice!==null&&(r.min=String(t.minPrice)),t.maxPrice!==null&&(r.max=String(t.maxPrice)),t.themeIds.length&&(r.themeIds=t.themeIds.join(",")),t.guestCount>0&&(r.guestCount=String(t.guestCount));const s=m(t.startDate),u=m(t.endDate);s&&u&&(r.checkin=s,r.checkout=u);const o=String(e??t.keyword??"").trim();return o&&(r.keyword=o),r}}};export{f as u};
