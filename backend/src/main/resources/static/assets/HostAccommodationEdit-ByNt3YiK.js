import{_ as Xe,s as Ze,r as g,y as be,b as es,c as i,d as w,e as s,m as ss,H as ts,K as as,z as f,t as m,A as h,F as _,f as T,C as v,E as p,I as z,p as ke,n as ls,G as j,v as os,k as ns,o as r}from"./index-CMhx5Eqk.js";import{r as is}from"./ai-4nysBT9_.js";const we=(K,M=1024,E=1024)=>new Promise((V,R)=>{if(!K||!K.type.match(/image.*/)){R(new Error("íŒŒì¼ì´ ì´ë¯¸ì§€ê°€ ì•„ë‹™ë‹ˆë‹¤."));return}const F=new FileReader;F.onload=J=>{const U=new Image;U.onload=()=>{let G=U.width,S=U.height;(G>M||S>E)&&(G>S?G>M&&(S*=M/G,G=M):S>E&&(G*=E/S,S=E));const N=document.createElement("canvas");N.width=G,N.height=S,N.getContext("2d").drawImage(U,0,0,G,S);const Q=N.toDataURL("image/jpeg",.8);V(Q)},U.onerror=()=>R(new Error("ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨")),U.src=J.target.result},F.onerror=()=>R(new Error("íŒŒì¼ ì½ê¸° ì‹¤íŒ¨")),F.readAsDataURL(K)}),rs={key:0,class:"loading-spinner"},us={key:1,class:"page-header"},ds={class:"header-top"},ms={class:"title-area"},cs={class:"title-row"},vs={class:"header-controls"},ps={class:"toggle-label"},gs={key:2,class:"form-content"},fs={class:"form-section"},bs={class:"image-ai-container"},ks={class:"form-section image-section"},ws={class:"image-grid-layout"},ys={key:0,class:"banner-preview-wrapper"},hs=["src"],Is={key:1,class:"upload-placeholder banner-placeholder"},Ps={class:"detail-upload-grid"},Cs=["src"],As=["onClick"],_s={key:0,class:"upload-placeholder detail-placeholder"},Us={class:"ai-action-area"},xs=["disabled"],Ts={class:"label"},Gs={class:"form-group"},Ss={class:"form-group"},Ns={class:"form-group"},Rs={class:"form-group"},Os={class:"form-section"},Es={class:"form-group"},Vs={class:"form-group"},$s={key:0,class:"error-message"},Ds={class:"form-group"},Ls={class:"form-section"},Ms={class:"form-group"},Fs={class:"form-group"},qs={class:"form-group"},Bs={class:"form-group"},Hs={class:"form-group"},zs={class:"form-section"},js={class:"form-group"},Ks={class:"form-section"},Js={class:"form-row two-col"},Ys={class:"form-group"},Qs={class:"time-selector-group"},Ws=["value"],Xs=["value"],Zs={key:0,class:"error-message"},et={class:"form-group"},st={class:"time-selector-group"},tt=["value"],at=["value"],lt={key:0,class:"error-message"},ot={class:"form-section"},nt={class:"form-group"},it={class:"amenities-grid"},rt=["checked","onChange"],ut={class:"amenity-label"},dt={class:"form-group mt-4"},mt={class:"theme-category-title"},ct={class:"theme-tags"},vt=["checked","onChange"],pt={class:"form-section"},gt={class:"form-group"},ft=["value"],bt={class:"form-group"},kt={class:"form-group"},wt={class:"form-section"},yt={key:0,class:"room-list"},ht={class:"room-header"},It={class:"room-name"},Pt={class:"toggle-label-small"},Ct=["onClick"],At={class:"room-details"},_t={class:"detail-row"},Ut={class:"detail-value"},xt={class:"detail-row"},Tt={class:"detail-value"},Gt={class:"detail-row"},St={class:"detail-value"},Nt={class:"detail-row"},Rt={class:"detail-value"},Ot={class:"room-actions"},Et=["onClick"],Vt=["onClick"],$t={key:1,class:"room-form-inline"},Dt={class:"editing-room-header"},Lt={class:"editing-target-name"},Mt={class:"form-group"},Ft={key:0,class:"error-message"},qt={class:"form-group"},Bt={key:0,class:"room-image-preview"},Ht=["src"],zt={key:1,class:"room-upload-box"},jt={key:0,class:"error-message"},Kt={class:"form-group"},Jt={class:"toggle-label-small"},Yt={key:0,class:"toggle-hint-small"},Qt={class:"form-row two-col"},Wt={class:"form-group"},Xt={key:0,class:"error-message"},Zt={class:"form-group"},ea={key:0,class:"error-message"},sa={class:"form-row two-col"},ta={class:"form-group"},aa={key:0,class:"error-message"},la={class:"form-group"},oa={key:0,class:"error-message"},na={class:"form-row two-col"},ia={class:"form-group"},ra={class:"form-group"},ua={class:"form-group"},da={class:"room-amenities-section"},ma={class:"room-amenity-label"},ca={class:"room-amenity-tags"},va=["checked","onChange"],pa={key:0,class:"error-message"},ga={key:3,class:"room-form"},fa={class:"room-form-title"},ba={class:"form-group"},ka={key:0,class:"error-message"},wa={class:"form-group"},ya={key:0,class:"room-image-preview"},ha=["src"],Ia={key:1,class:"room-upload-box"},Pa={key:0,class:"error-message"},Ca={class:"form-row two-col"},Aa={class:"form-group"},_a={key:0,class:"error-message"},Ua={class:"form-group"},xa={key:0,class:"error-message"},Ta={class:"form-row two-col"},Ga={class:"form-group"},Sa={key:0,class:"error-message"},Na={class:"form-group"},Ra={key:0,class:"error-message"},Oa={class:"form-row two-col"},Ea={class:"form-group"},Va={class:"form-group"},$a={class:"form-group"},Da={class:"room-form-actions"},La={class:"bottom-actions"},Ma={class:"modal-message"},Fa={__name:"HostAccommodationEdit",setup(K){const M=Ze(),E=ns(),V=M.params.id,R="/api",F="",J=a=>a?a.startsWith("blob:")||a.startsWith("http")?a:`${F}${a}`:"",U=g(!0),G=g(""),S=g(!1),N=g(!1),Y=g(!1),Q=g(""),oe=g(!1),b=a=>{Q.value=a,Y.value=!0},ne=()=>{Y.value=!1,oe.value&&E.push("/host/accommodation")},W=g(null),$=g(null),ie=g(null),re=g(null),ye={GUESTHOUSE:"ê²ŒìŠ¤íŠ¸í•˜ìš°ìŠ¤",PENSION:"íœì…˜",HOTEL:"í˜¸í…”",MOTEL:"ëª¨í…”",RESORT:"ë¦¬ì¡°íŠ¸",HANOK:"í•œì˜¥",CAMPING:"ìº í•‘/ê¸€ë¨í•‘"},he={ê²ŒìŠ¤íŠ¸í•˜ìš°ìŠ¤:"GUESTHOUSE",íœì…˜:"PENSION",í˜¸í…”:"HOTEL",ëª¨í…”:"MOTEL",ë¦¬ì¡°íŠ¸:"RESORT",í•œì˜¥:"HANOK","ìº í•‘/ê¸€ë¨í•‘":"CAMPING"},Ie=[{id:1,label:"ë¬´ì„  ì¸í„°ë„·"},{id:2,label:"ì—ì–´ì»¨"},{id:3,label:"ë‚œë°©"},{id:4,label:"TV"}],ue=g({}),te=g([]),Pe={MEETING:"ë§Œë‚¨/ì†Œì…œ",PERSONA:"í˜ë¥´ì†Œë‚˜/ì„±í–¥",FACILITY:"ì‹œì„¤/í¸ì˜",FOOD:"ì‹ì‚¬",PLAY:"ë†€ê±°ë¦¬"},Ce=async()=>{try{const a=await fetch(`${R}/themes`);if(!a.ok)throw new Error("í…Œë§ˆ ë¡œë“œ ì‹¤íŒ¨");const e=await a.json();te.value=e;const o={};e.forEach(t=>{const u=t.themeCategory||"ETC";o[u]||(o[u]={label:Pe[u]||u,items:[]}),o[u].items.push(t.themeName)}),ue.value=o}catch(a){console.error("í…Œë§ˆ ë¡œë“œ ì‹¤íŒ¨:",a),b("í…Œë§ˆ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.")}},Ae=a=>{const e=te.value.find(o=>o.themeName===a);return e?e.id:void 0},_e=a=>{const e=te.value.find(o=>o.id===a);return e?e.themeName:void 0},Ue=["êµ­ë¯¼ì€í–‰","ì‹ í•œì€í–‰","ìš°ë¦¬ì€í–‰","í•˜ë‚˜ì€í–‰","ë†í˜‘","ì¹´ì¹´ì˜¤ë±…í¬","í† ìŠ¤ë±…í¬","ê¸°ì—…ì€í–‰"],l=g({name:"",type:"",phone:"",email:"",businessRegistrationNumber:"",city:"",district:"",township:"",address:"",latitude:null,longitude:null,description:"",shortDescription:"",transportInfo:"",checkInTime:"",checkOutTime:"",parkingInfo:"",sns:"",isActive:!0,approvalStatus:"PENDING",houseRules:"",amenities:[],themes:[],bannerImage:null,detailImages:[],bankName:"",accountHolder:"",accountNumber:""}),x=g([]),O=g([]),D=g(null),q=g(""),X=g(""),Z=g(""),ee=g(""),se=g(""),de=Array.from({length:24},(a,e)=>String(e).padStart(2,"0")),me=["00","30"];be([X,Z],([a,e])=>{a&&e&&(l.value.checkInTime=`${a}:${e}`)}),be([ee,se],([a,e])=>{a&&e&&(l.value.checkOutTime=`${a}:${e}`)});const xe=a=>{const e=l.value.amenities.indexOf(a);e===-1?l.value.amenities.push(a):l.value.amenities.splice(e,1)},Te=a=>{const e=l.value.themes.indexOf(a);if(e===-1){if(l.value.themes.length>=6){b("í…Œë§ˆëŠ” ìµœëŒ€ 6ê°œê¹Œì§€ ì„ íƒ ê°€ëŠ¥í•©ë‹ˆë‹¤.");return}l.value.themes.push(a)}else l.value.themes.splice(e,1)},ce=a=>l.value.amenities.includes(a),ve=a=>l.value.themes.includes(a),Ge=async()=>{try{const a=j(),e=await fetch(`${R}/reservations/accommodation/${V}`,{headers:{Authorization:`Bearer ${a}`}});if(e.ok){const t=(await e.json()).filter(u=>u.reservationStatus===2);return S.value=t.length>0,S.value}return!1}catch(a){return console.error("ì˜ˆì•½ í™•ì¸ ì˜¤ë¥˜:",a),!1}},Se=async()=>{U.value=!0,G.value="";try{const a=j(),e=await fetch(`${R}/accommodations/${V}`,{headers:{Authorization:`Bearer ${a}`}});if(!e.ok)throw new Error("ìˆ™ì†Œ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");const o=await e.json();if(l.value={name:o.accommodationsName,type:ye[o.accommodationsCategory]||o.accommodationsCategory,phone:o.phone,email:o.email||"",businessRegistrationNumber:o.businessRegistrationNumber,city:o.city,district:o.district,township:o.township,address:o.addressDetail,latitude:o.latitude,longitude:o.longitude,description:o.accommodationsDescription,shortDescription:o.shortDescription,transportInfo:o.transportInfo,parkingInfo:o.parkingInfo,sns:o.sns,checkInTime:o.checkInTime||"",checkOutTime:o.checkOutTime||"",isActive:o.accommodationStatus===1,approvalStatus:o.approvalStatus||"PENDING",amenities:o.amenityIds||[],themes:o.themeIds?o.themeIds.map(t=>_e(t)).filter(Boolean):[],bankName:o.bankName,accountNumber:o.accountNumber,accountHolder:o.accountHolder,bannerImage:null,detailImages:[]},o.images){const t=o.images.find(k=>k.imageType==="banner");t&&(l.value.bannerImage=J(t.imageUrl));const u=o.images.filter(k=>k.imageType==="detail").sort((k,y)=>k.sortOrder-y.sortOrder);O.value=u.map((k,y)=>({id:k.id||y,url:J(k.imageUrl),file:null,isNew:!1}))}if(o.checkInTime){const[t,u]=o.checkInTime.split(":");X.value=t?t.padStart(2,"0"):"",Z.value=u?u.padStart(2,"0"):"00",l.value.checkInTime=o.checkInTime}if(o.checkOutTime){const[t,u]=o.checkOutTime.split(":");ee.value=t?t.padStart(2,"0"):"",se.value=u?u.padStart(2,"0"):"00",l.value.checkOutTime=o.checkOutTime}o.rooms&&(x.value=o.rooms.map(t=>({id:t.roomId,name:t.roomName,weekdayPrice:t.price,weekendPrice:t.weekendPrice,minGuests:t.minGuests,maxGuests:t.maxGuests,bedCount:t.bedCount,bathroomCount:t.bathroomCount,description:t.roomDescription,mainImageUrl:t.mainImageUrl,amenities:t.amenities||[],isActive:t.roomStatus===1})))}catch(a){console.error("Load Error:",a),G.value=a.message}finally{U.value=!1,await os(),await Oe(),setTimeout(()=>{Ne()},200)}},Ne=()=>{!window.kakao||!window.kakao.maps||!W.value||window.kakao.maps.load(()=>{re.value=new window.kakao.maps.services.Geocoder;const a=parseFloat(l.value.latitude),e=parseFloat(l.value.longitude);if(isNaN(a)||isNaN(e)){const u=`${l.value.city} ${l.value.district} ${l.value.township} ${l.value.address}`.trim();console.warn("Invalid coordinates, attempting fallback with address:",u),u&&re.value.addressSearch(u,(k,y)=>{if(y===window.kakao.maps.services.Status.OK){const c=k[0].y,C=k[0].x;l.value.latitude=c,l.value.longitude=C;const H=new window.kakao.maps.LatLng(c,C),We={center:H,level:3};$.value=new window.kakao.maps.Map(W.value,We),ie.value=new window.kakao.maps.Marker({position:H,map:$.value}),setTimeout(()=>{$.value&&$.value.relayout()},100)}else console.error("Geocoding failed for address:",l.value.address)});return}const o=new window.kakao.maps.LatLng(a,e),t={center:o,level:3};$.value=new window.kakao.maps.Map(W.value,t),ie.value=new window.kakao.maps.Marker({position:o,map:$.value}),setTimeout(()=>{$.value&&$.value.relayout()},100)})},I=g({}),Re=()=>{I.value={};let a=!0;const e=[];return l.value.description?.trim()||(I.value.description="ìˆ™ì†Œ ì†Œê°œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ìˆ™ì†Œ ì†Œê°œ"),a=!1),l.value.checkInTime||(I.value.checkInTime="ì²´í¬ì¸ ì‹œê°„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ì²´í¬ì¸ ì‹œê°„"),a=!1),l.value.checkOutTime||(I.value.checkOutTime="ì²´í¬ì•„ì›ƒ ì‹œê°„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ì²´í¬ì•„ì›ƒ ì‹œê°„"),a=!1),(!l.value.themes||l.value.themes.length===0)&&(e.push("í…Œë§ˆ (ìµœì†Œ 1ê°œ ì„ íƒ)"),a=!1),x.value.length===0&&(I.value.rooms="ë“±ë¡ëœ ê°ì‹¤ì´ ì—†ìŠµë‹ˆë‹¤.",a=!1),{isValid:a,errorMessages:e}},Oe=()=>new Promise(a=>{if(window.kakao&&window.kakao.maps)a();else{const e=setInterval(()=>{window.kakao&&window.kakao.maps&&(clearInterval(e),a())},100)}}),Ee=async()=>{if(L.value){b("ì‘ì„± ì¤‘ì¸ ê°ì‹¤ ì •ë³´ë¥¼ ë¨¼ì € ì €ì¥(ë“±ë¡/ìˆ˜ì •)í•´ì£¼ì„¸ìš”.");return}const{isValid:a,errorMessages:e}=Re();if(!a){b(`ë‹¤ìŒ í•­ëª©ì„ í™•ì¸í•´ì£¼ì„¸ìš”:
${e.join(", ")}`);return}for(const o of x.value){if(!o.name||!o.name.trim()){b("ê°ì‹¤ëª…ì´ ë¹„ì–´ìˆëŠ” ê°ì‹¤ì´ ìˆìŠµë‹ˆë‹¤.");return}if(!o.weekdayPrice||parseInt(o.weekdayPrice)<0){b(`[${o.name}] ê°ì‹¤ì˜ ì£¼ì¤‘ ìš”ê¸ˆì„ í™•ì¸í•´ì£¼ì„¸ìš”.`);return}if(o.weekendPrice===void 0||o.weekendPrice===""||parseInt(o.weekendPrice)<0){b(`[${o.name}] ê°ì‹¤ì˜ ì£¼ë§ ìš”ê¸ˆì„ í™•ì¸í•´ì£¼ì„¸ìš”.`);return}if(!o.minGuests||parseInt(o.minGuests)<1){b(`[${o.name}] ê°ì‹¤ì˜ ìµœì†Œ ì¸ì›ì€ 1ëª… ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.`);return}if(!o.maxGuests||parseInt(o.maxGuests)<1){b(`[${o.name}] ê°ì‹¤ì˜ ìµœëŒ€ ì¸ì›ì€ 1ëª… ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.`);return}if(parseInt(o.minGuests)>parseInt(o.maxGuests)){b(`[${o.name}] ê°ì‹¤ì˜ ìµœëŒ€ ì¸ì›ì€ ìµœì†Œ ì¸ì›ë³´ë‹¤ ì»¤ì•¼ í•©ë‹ˆë‹¤.`);return}}try{const o=await Promise.all(x.value.map(async c=>{let C=null;return c.representativeImage instanceof File?C=await B(c.representativeImage):c.representativeImagePreview&&c.representativeImagePreview.startsWith("http")?C=c.representativeImagePreview:c.mainImageUrl&&(C=c.mainImageUrl),{roomId:typeof c.id=="number"&&c.id>1e10?null:c.id,roomName:c.name,price:parseInt(c.weekdayPrice),weekendPrice:parseInt(c.weekendPrice),minGuests:parseInt(c.minGuests),maxGuests:parseInt(c.maxGuests),roomDescription:c.description||"",mainImageUrl:C,bathroomCount:parseInt(c.bathroomCount)||0,roomType:"STANDARD",bedCount:parseInt(c.bedCount)||0,roomStatus:c.isActive?1:0,amenities:c.amenities||[]}})),t=[];if(D.value){const c=await B(D.value);t.push({imageUrl:c,imageType:"banner",sortOrder:0})}else l.value.bannerImage&&t.push({imageUrl:l.value.bannerImage,imageType:"banner",sortOrder:0});for(let c=0;c<O.value.length;c++){const C=O.value[c];if(C.isNew&&C.file){const H=await B(C.file);t.push({imageUrl:H,imageType:"detail",sortOrder:c+1})}else t.push({imageUrl:C.url,imageType:"detail",sortOrder:c+1})}const u={accommodationsName:l.value.name,accommodationsCategory:he[l.value.type]||l.value.type,accommodationsDescription:l.value.description,shortDescription:l.value.shortDescription||"",transportInfo:l.value.transportInfo||"",accommodationStatus:l.value.isActive?1:0,parkingInfo:l.value.parkingInfo||"",sns:l.value.sns||"",phone:l.value.phone,checkInTime:l.value.checkInTime,checkOutTime:l.value.checkOutTime,latitude:l.value.latitude,longitude:l.value.longitude,bankName:l.value.bankName,accountNumber:l.value.accountNumber,accountHolder:l.value.accountHolder,rooms:o,images:t,amenityIds:l.value.amenities,themeIds:l.value.themes.map(c=>Ae(c)).filter(c=>c!==void 0)};console.log("Update Request:",u);const k=j(),y=await fetch(`${R}/accommodations/${V}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k}`},body:JSON.stringify(u)});if(y.ok){oe.value=!0;try{const c=sessionStorage.getItem("hostResubmitMap"),C=c?JSON.parse(c):{};C[String(V)]=Date.now(),sessionStorage.setItem("hostResubmitMap",JSON.stringify(C))}catch(c){console.warn("Failed to store resubmit timestamp",c)}b("ìˆ™ì†Œ ì •ë³´ê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.")}else y.status===401?(alert("ë¡œê·¸ì¸ ì„¸ì…˜ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”."),E.push("/login")):(console.error("Update failed status:",y.status),b("ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. (Status: "+y.status+")"))}catch(o){console.error("HandleUpdate Error:",o),b("ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: "+o.message)}},L=g(!1),n=g({name:"",weekdayPrice:"",weekendPrice:"",minGuests:"",maxGuests:"",bedCount:"",bathroomCount:"",description:"",amenities:[],representativeImage:null,representativeImagePreview:"",isActive:!0}),d=g({}),P=g(null),A=a=>{const e=a.target.value;/[^0-9]/.test(e)&&(a.target.value=e.replace(/[^0-9]/g,""),a.target.dispatchEvent(new Event("input")))},Ve=()=>{d.value={};let a=!0;const e=[];n.value.name?.trim()||(d.value.name="ê°ì‹¤ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ê°ì‹¤ëª…"),a=!1);const o=t=>/^\d+$/.test(t);return(!n.value.weekdayPrice||!o(String(n.value.weekdayPrice))||parseInt(n.value.weekdayPrice)<=0)&&(d.value.weekdayPrice="ì£¼ì¤‘ ìš”ê¸ˆì„ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ì£¼ì¤‘ ìš”ê¸ˆ"),a=!1),(!n.value.weekendPrice||!o(String(n.value.weekendPrice))||parseInt(n.value.weekendPrice)<=0)&&(d.value.weekendPrice="ì£¼ë§ ìš”ê¸ˆì„ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ì£¼ë§ ìš”ê¸ˆ"),a=!1),(!n.value.minGuests||!o(String(n.value.minGuests))||parseInt(n.value.minGuests)<1)&&(d.value.minGuests="ìµœì†Œ ì¸ì›ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ìµœì†Œ ì¸ì›"),a=!1),(!n.value.maxGuests||!o(String(n.value.maxGuests))||parseInt(n.value.maxGuests)<1)&&(d.value.maxGuests="ìµœëŒ€ ì¸ì›ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ìµœëŒ€ ì¸ì›"),a=!1),parseInt(n.value.minGuests)>parseInt(n.value.maxGuests)&&(d.value.maxGuests="ìµœëŒ€ ì¸ì›ì€ ìµœì†Œ ì¸ì›ë³´ë‹¤ ì»¤ì•¼ í•©ë‹ˆë‹¤.",a=!1),n.value.bedCount&&!o(String(n.value.bedCount))&&(d.value.bedCount="ì¹¨ëŒ€ ìˆ˜ëŠ” ìˆ«ìë§Œ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ì¹¨ëŒ€ ìˆ˜"),a=!1),n.value.bathroomCount&&!o(String(n.value.bathroomCount))&&(d.value.bathroomCount="ìš•ì‹¤ ìˆ˜ëŠ” ìˆ«ìë§Œ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ìš•ì‹¤ ìˆ˜"),a=!1),!n.value.representativeImage&&!n.value.representativeImagePreview&&(d.value.representativeImage="ëŒ€í‘œ ì´ë¯¸ì§€ë¥¼ ë“±ë¡í•´ì£¼ì„¸ìš”.",e.push("ëŒ€í‘œ ì´ë¯¸ì§€"),a=!1),d.value._errorFields=e,a},pe=a=>{const e=a.target.files[0];e&&(n.value.representativeImage=e,n.value.representativeImagePreview=URL.createObjectURL(e))},ge=()=>{n.value.representativeImage=null,n.value.representativeImagePreview=""},fe=()=>{if(!Ve()){const o=d.value._errorFields||[];o.length>0?b(`ë‹¤ìŒ í•­ëª©ì„ í™•ì¸í•´ì£¼ì„¸ìš”: ${o.join(", ")}`):b("ê°ì‹¤ ì •ë³´ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.");return}let a=null;if(P.value){const o=x.value.find(t=>t.id===P.value);o&&(a=o.mainImageUrl)}const e={id:P.value||Date.now(),...n.value,weekdayPrice:parseInt(n.value.weekdayPrice),weekendPrice:parseInt(n.value.weekendPrice),minGuests:parseInt(n.value.minGuests),maxGuests:parseInt(n.value.maxGuests),bedCount:parseInt(n.value.bedCount)||0,bathroomCount:parseInt(n.value.bathroomCount)||0,amenities:[...n.value.amenities],mainImageUrl:n.value.representativeImage?null:a,representativeImage:n.value.representativeImage,representativeImagePreview:n.value.representativeImagePreview};if(P.value){const o=x.value.findIndex(t=>t.id===P.value);o!==-1&&(x.value[o]=e)}else x.value.push(e);L.value=!1,le(),b(P.value?"ê°ì‹¤ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.":"ê°ì‹¤ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤."),P.value=null},$e=a=>{P.value=a.id,n.value={...a},a.mainImageUrl?n.value.representativeImagePreview=a.mainImageUrl:a.representativeImagePreview&&(n.value.representativeImagePreview=a.representativeImagePreview),L.value=!1},De=()=>{P.value=null,le()},Le=()=>{le(),P.value=null,L.value=!0},Me=async a=>{if(confirm("ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?"))try{const e=j(),o=await fetch(`${R}/rooms/${V}/${a}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}});if(o.ok)x.value=x.value.filter(t=>t.id!==a),alert("ê°ì‹¤ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.");else{const t=await o.json().catch(()=>({}));alert(t.message||"ê°ì‹¤ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}}catch(e){console.error("ê°ì‹¤ ì‚­ì œ ì˜¤ë¥˜:",e),alert("ê°ì‹¤ ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}},ae=()=>l.value.approvalStatus==="APPROVED",Fe=()=>{if(!ae()){b("ê´€ë¦¬ì ìŠ¹ì¸ í›„ ìš´ì˜ ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.");return}l.value.isActive&&alert("ìˆ™ì†Œ ìš´ì˜ ìƒíƒœê°€ ë¹„í™œì„±í™” ë˜ì—ˆìŠµë‹ˆë‹¤"),l.value.isActive=!l.value.isActive},qe=a=>{if(!ae()){b("ê´€ë¦¬ì ìŠ¹ì¸ í›„ ê°ì‹¤ ìš´ì˜ ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.");return}a.isActive&&alert("ê°ì‹¤ ìš´ì˜ ìƒíƒœê°€ ë¹„í™œì„±í™” ë˜ì—ˆìŠµë‹ˆë‹¤ "),a.isActive=!a.isActive},Be=()=>{if(!ae()){b("ê´€ë¦¬ì ìŠ¹ì¸ í›„ ê°ì‹¤ ìš´ì˜ ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.");return}n.value.isActive&&alert("ê°ì‹¤ ì‚¬ìš© ì¤‘ì§€"),n.value.isActive=!n.value.isActive},He=async()=>{if(await Ge()){alert("ì˜ˆì•½ëœ ì •ë³´ê°€ ìˆì–´ ì‚­ì œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");return}if(confirm("ì •ë§ ìˆ™ì†Œë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."))try{const e=j();(await fetch(`${R}/accommodations/${V}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}})).ok?(alert("ìˆ™ì†Œê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."),E.push("/host/accommodation")):alert("ìˆ™ì†Œ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}catch(e){console.error("ìˆ™ì†Œ ì‚­ì œ ì˜¤ë¥˜:",e),alert("ìˆ™ì†Œ ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}},le=()=>{n.value={name:"",weekdayPrice:"",weekendPrice:"",minGuests:"",maxGuests:"",bedCount:"",bathroomCount:"",description:"",amenities:[],representativeImage:null,representativeImagePreview:"",isActive:!0},d.value={}},B=a=>new Promise((e,o)=>{const t=new FileReader;t.onload=()=>e(t.result),t.onerror=o,t.readAsDataURL(a)}),ze=async()=>{const a=[];if(D.value)try{a.push(await we(D.value))}catch(e){console.warn("Banner resize failed",e),a.push(await B(D.value))}else l.value.bannerImage&&a.push(l.value.bannerImage);for(const e of O.value)if(e.file)try{a.push(await we(e.file))}catch(o){console.warn("Detail image resize failed",o),a.push(await B(e.file))}else e.url&&a.push(e.url);return a},je=async()=>{if(!N.value)try{const a=await ze();if(a.length===0){b("AI ì¶”ì²œì„ ì‚¬ìš©í•˜ë ¤ë©´ ë¨¼ì € ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•˜ê±°ë‚˜ ê¸°ì¡´ ì´ë¯¸ì§€ë¥¼ ìœ ì§€í•´ì£¼ì„¸ìš”.");return}N.value=!0;const e={images:a,language:"ko",context:{city:l.value.city,district:l.value.district,township:l.value.township,stayType:l.value.type,themes:l.value.themes,existingName:l.value.name,existingDescription:l.value.description}},o=await is(e);if(!o.ok){const u=o?.data?.message||"AI ì¶”ì²œì„ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.";throw new Error(u)}const t=o.data||{};t.name&&(l.value.name=t.name),t.description&&(l.value.description=t.description),b("AI ì¶”ì²œ ê²°ê³¼ë¥¼ ì ìš©í–ˆìŠµë‹ˆë‹¤.")}catch(a){console.error("AI ì¶”ì²œ ì‹¤íŒ¨:",a),b(`AI ì¶”ì²œ ì‹¤íŒ¨: ${a?.message||"ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”."}`)}finally{N.value=!1}},Ke=a=>{const e=a.target.files[0];if(e){D.value=e;const o=URL.createObjectURL(e);q.value=o}},Je=()=>{D.value=null,q.value="",l.value.bannerImage=null},Ye=a=>{const e=Array.from(a.target.files),o=5-O.value.length;e.slice(0,o).forEach(t=>{O.value.push({id:Date.now()+Math.random(),url:URL.createObjectURL(t),file:t,isNew:!0})}),a.target.value=""},Qe=a=>{O.value.splice(a,1)};return es(async()=>{await Ce(),Se()}),(a,e)=>{const o=as("RouterLink");return r(),i("div",{class:f(["register-page",{loading:U.value}])},[U.value?(r(),i("div",rs,"Loading...")):(r(),i("div",us,[s("div",ds,[s("div",ms,[s("div",cs,[e[39]||(e[39]=s("h1",null,"ìˆ™ì†Œ ì •ë³´ ìˆ˜ì •",-1)),ss(o,{class:"policy-link",to:{path:"/policy",query:{tab:"host"}},target:"_blank",rel:"noopener"},{default:ts(()=>[...e[38]||(e[38]=[h(" ìˆ™ì†Œë“±ë¡ ì´ìš©ì•½ê´€ ë°”ë¡œê°€ê¸° ",-1)])]),_:1})])])]),s("div",vs,[s("div",{class:f(["approval-status-badge",l.value.approvalStatus.toLowerCase()])},m(l.value.approvalStatus==="APPROVED"?"ìŠ¹ì¸ì™„ë£Œ":l.value.approvalStatus==="PENDING"?"ìŠ¹ì¸ëŒ€ê¸°":"ìŠ¹ì¸ê±°ì ˆ"),3),s("div",{class:f(["toggle-wrapper",{disabled:l.value.approvalStatus!=="APPROVED"}])},[s("span",ps,m(l.value.isActive?"ìš´ì˜ ì¤‘":"ìš´ì˜ ì¤‘ì§€"),1),s("div",{class:f(["toggle-switch",{active:l.value.isActive,disabled:l.value.approvalStatus!=="APPROVED"}]),onClick:Fe},[...e[40]||(e[40]=[s("div",{class:"toggle-slider"},null,-1)])],2)],2)])])),U.value?w("",!0):(r(),i("div",gs,[s("section",fs,[e[54]||(e[54]=s("h2",{class:"section-title"},"ìˆ™ì†Œ ìˆ˜ì •",-1)),e[55]||(e[55]=s("p",{class:"section-desc"},"ìˆ™ì†Œì˜ ì •ë³´ë¥¼ ìˆ˜ì •í•´ì£¼ì„¸ìš”.",-1)),s("div",bs,[s("section",ks,[e[46]||(e[46]=s("h3",{class:"subsection-title"},[h("ìˆ™ì†Œ ì´ë¯¸ì§€ "),s("span",{class:"required"},"*")],-1)),e[47]||(e[47]=s("p",{class:"section-desc"},"ë©‹ì§„ ìˆ™ì†Œ ì‚¬ì§„ì„ ì˜¬ë ¤ì£¼ì„¸ìš”. AIê°€ ì‚¬ì§„ì„ ë¶„ì„í•´ ì†Œê°œê¸€ì„ ë§Œë“¤ì–´ë“œë ¤ìš”.",-1)),s("div",ws,[s("div",{class:f(["banner-upload-area",{"has-error":!1}])},[q.value||l.value.bannerImage?(r(),i("div",ys,[s("img",{src:q.value?q.value:l.value.bannerImage,class:"banner-preview"},null,8,hs),s("button",{type:"button",class:"remove-btn",onClick:Je},[...e[41]||(e[41]=[s("i",{class:"fas fa-times"},null,-1)])]),e[42]||(e[42]=s("span",{class:"badge-banner"},"ëŒ€í‘œ ì´ë¯¸ì§€",-1))])):(r(),i("label",Is,[s("input",{type:"file",accept:"image/*",onChange:Ke,hidden:""},null,32),e[43]||(e[43]=s("div",{class:"placeholder-content"},[s("span",{class:"icon"},"ğŸ“·"),s("span",{class:"text"},"ëŒ€í‘œ ì´ë¯¸ì§€ ì—…ë¡œë“œ"),s("span",{class:"sub-text"},"1920x600 ê¶Œì¥")],-1))]))]),s("div",Ps,[(r(!0),i(_,null,T(O.value,(t,u)=>(r(),i("div",{key:t.id||u,class:"detail-image-item"},[s("img",{src:t.url},null,8,Cs),s("button",{type:"button",class:"remove-btn",onClick:k=>Qe(u)},[...e[44]||(e[44]=[s("i",{class:"fas fa-times"},null,-1)])],8,As)]))),128)),O.value.length<5?(r(),i("label",_s,[s("input",{type:"file",accept:"image/*",multiple:"",onChange:Ye,hidden:""},null,32),e[45]||(e[45]=s("div",{class:"placeholder-content"},[s("span",{class:"icon"},"ï¼‹"),s("span",{class:"text"},"ì¶”ê°€")],-1))])):w("",!0)])])]),s("div",Us,[s("button",{type:"button",class:f(["ai-magic-btn",{"is-loading":N.value}]),onClick:je,disabled:N.value},[e[48]||(e[48]=s("span",{class:"icon"},"âœ¨",-1)),s("span",Ts,m(N.value?"AIê°€ ë¶„ì„ì¤‘...":"AIë¡œ ì†Œê°œê¸€ ì™„ì„±í•˜ê¸°"),1)],10,xs),e[49]||(e[49]=s("p",{class:"ai-hint"},"ì´ë¯¸ì§€ë¥¼ ì˜¬ë¦¬ê³  ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì œëª©ê³¼ ì†Œê°œë¥¼ ìë™ìœ¼ë¡œ ì‘ì„±í•´ë“œë ¤ìš”.",-1))])]),e[56]||(e[56]=s("h3",{class:"subsection-title"},"ê¸°ë³¸ì •ë³´",-1)),s("div",Gs,[e[50]||(e[50]=s("label",null,[h("ìˆ™ì†Œëª… "),s("span",{class:"required"},"*")],-1)),v(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>l.value.name=t),placeholder:"ìˆ™ì†Œëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"},null,512),[[p,l.value.name]])]),s("div",Ss,[e[51]||(e[51]=s("label",null,"ìˆ™ì†Œìœ í˜•",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>l.value.type=t),readonly:"",class:"readonly-input"},null,512),[[p,l.value.type]])]),s("div",Ns,[e[52]||(e[52]=s("label",null,"ëŒ€í‘œ ì—°ë½ì²˜",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>l.value.phone=t),readonly:"",class:"readonly-input"},null,512),[[p,l.value.phone]])]),s("div",Rs,[e[53]||(e[53]=s("label",null,"ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>l.value.businessRegistrationNumber=t),readonly:"",class:"readonly-input"},null,512),[[p,l.value.businessRegistrationNumber]])])]),s("section",Os,[e[60]||(e[60]=s("h3",{class:"subsection-title"},"ìˆ™ì†Œ ìƒì„¸ ì •ë³´",-1)),s("div",Es,[e[57]||(e[57]=s("label",null,"í•œ ì¤„ ì„¤ëª…",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=t=>l.value.shortDescription=t),placeholder:"ìˆ™ì†Œ ë¦¬ìŠ¤íŠ¸ì— í‘œì‹œë  ì§§ì€ ì†Œê°œê¸€ì…ë‹ˆë‹¤."},null,512),[[p,l.value.shortDescription]])]),s("div",Vs,[e[58]||(e[58]=s("label",null,[h("ìˆ™ì†Œ ì†Œê°œ(ìƒì„¸ì„¤ëª…) "),s("span",{class:"required"},"*")],-1)),v(s("textarea",{"onUpdate:modelValue":e[5]||(e[5]=t=>l.value.description=t),rows:"5",class:f({"input-error":I.value.description}),placeholder:"ìˆ™ì†Œì˜ ë§¤ë ¥ í¬ì¸íŠ¸, ì£¼ë³€ í™˜ê²½, í˜¸ìŠ¤íŒ… ìŠ¤íƒ€ì¼ ë“±ì„ ìƒì„¸íˆ ì ì–´ì£¼ì„¸ìš”."},null,2),[[p,l.value.description]]),I.value.description?(r(),i("span",$s,m(I.value.description),1)):w("",!0)]),s("div",Ds,[e[59]||(e[59]=s("label",null,"SNS",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=t=>l.value.sns=t),placeholder:"@instagram_id"},null,512),[[p,l.value.sns]])])]),s("section",Ls,[e[65]||(e[65]=s("h3",{class:"subsection-title"},"ìœ„ì¹˜ ì •ë³´ (ìˆ˜ì • ë¶ˆê°€)",-1)),s("div",Ms,[e[61]||(e[61]=s("label",null,"ì‹œ/ë„",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=t=>l.value.city=t),readonly:"",class:"readonly-input"},null,512),[[p,l.value.city]])]),s("div",Fs,[e[62]||(e[62]=s("label",null,"êµ¬/êµ°",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=t=>l.value.district=t),readonly:"",class:"readonly-input"},null,512),[[p,l.value.district]])]),s("div",qs,[e[63]||(e[63]=s("label",null,"ì/ë©´/ë™",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=t=>l.value.township=t),readonly:"",class:"readonly-input"},null,512),[[p,l.value.township]])]),s("div",Bs,[e[64]||(e[64]=s("label",null,"ìƒì„¸ì£¼ì†Œ",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=t=>l.value.address=t),readonly:"",class:"readonly-input"},null,512),[[p,l.value.address]])]),s("div",Hs,[s("div",{ref_key:"mapContainer",ref:W,class:"kakao-map"},null,512)])]),s("section",zs,[e[67]||(e[67]=s("h3",{class:"subsection-title"},"êµí†µ ë° ì£¼ì°¨ ì •ë³´",-1)),s("div",js,[e[66]||(e[66]=s("label",null,"ì£¼ì°¨ì •ë³´",-1)),v(s("textarea",{"onUpdate:modelValue":e[11]||(e[11]=t=>l.value.parkingInfo=t),rows:"3",placeholder:"ì˜ˆ: ê±´ë¬¼ ë‚´ ë¬´ë£Œ ì£¼ì°¨ ê°€ëŠ¥"},null,512),[[p,l.value.parkingInfo]])])]),s("section",Ks,[e[72]||(e[72]=s("h3",{class:"subsection-title"},"ì²´í¬ì¸/ì•„ì›ƒ ì •ë³´",-1)),s("div",Js,[s("div",Ys,[e[69]||(e[69]=s("label",null,[h("ì²´í¬ì¸ ì‹œê°„ "),s("span",{class:"required"},"*")],-1)),s("div",Qs,[v(s("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>X.value=t),class:"time-select"},[(r(!0),i(_,null,T(ke(de),t=>(r(),i("option",{key:t,value:t},m(t)+"ì‹œ",9,Ws))),128))],512),[[z,X.value]]),e[68]||(e[68]=s("span",{class:"time-separator"},":",-1)),v(s("select",{"onUpdate:modelValue":e[13]||(e[13]=t=>Z.value=t),class:"time-select"},[(r(),i(_,null,T(me,t=>s("option",{key:t,value:t},m(t)+"ë¶„",9,Xs)),64))],512),[[z,Z.value]])]),I.value.checkInTime?(r(),i("span",Zs,m(I.value.checkInTime),1)):w("",!0)]),s("div",et,[e[71]||(e[71]=s("label",null,[h("ì²´í¬ì•„ì›ƒ ì‹œê°„ "),s("span",{class:"required"},"*")],-1)),s("div",st,[v(s("select",{"onUpdate:modelValue":e[14]||(e[14]=t=>ee.value=t),class:"time-select"},[(r(!0),i(_,null,T(ke(de),t=>(r(),i("option",{key:t,value:t},m(t)+"ì‹œ",9,tt))),128))],512),[[z,ee.value]]),e[70]||(e[70]=s("span",{class:"time-separator"},":",-1)),v(s("select",{"onUpdate:modelValue":e[15]||(e[15]=t=>se.value=t),class:"time-select"},[(r(),i(_,null,T(me,t=>s("option",{key:t,value:t},m(t)+"ë¶„",9,at)),64))],512),[[z,se.value]])]),I.value.checkOutTime?(r(),i("span",lt,m(I.value.checkOutTime),1)):w("",!0)])])]),s("section",ot,[e[76]||(e[76]=s("h3",{class:"subsection-title"},"í¸ì˜ ì‹œì„¤ & í…Œë§ˆ",-1)),s("div",nt,[e[74]||(e[74]=s("label",{class:"mb-2"},"í¸ì˜ ì‹œì„¤",-1)),s("div",it,[(r(),i(_,null,T(Ie,t=>s("label",{key:t.id,class:f(["amenity-checkbox",{checked:ce(t.id)}])},[s("input",{type:"checkbox",checked:ce(t.id),onChange:u=>xe(t.id)},null,40,rt),e[73]||(e[73]=s("span",{class:"checkmark"},null,-1)),s("span",ut,m(t.label),1)],2)),64))])]),s("div",dt,[e[75]||(e[75]=s("label",{class:"mb-2"},"í…Œë§ˆ (ìµœëŒ€ 6ê°œ)",-1)),(r(!0),i(_,null,T(ue.value,(t,u)=>(r(),i("div",{key:u,class:"theme-category"},[s("div",mt,m(t.label),1),s("div",ct,[(r(!0),i(_,null,T(t.items,k=>(r(),i("label",{key:k,class:f(["theme-tag",{selected:ve(k)}])},[s("input",{type:"checkbox",checked:ve(k),onChange:y=>Te(k)},null,40,vt),h(" "+m(k),1)],2))),128))])]))),128))])]),s("section",pt,[e[81]||(e[81]=s("h3",{class:"subsection-title"},"ì •ì‚° ê³„ì¢Œ",-1)),s("div",gt,[e[78]||(e[78]=s("label",null,"ì€í–‰ëª…",-1)),v(s("select",{"onUpdate:modelValue":e[16]||(e[16]=t=>l.value.bankName=t)},[e[77]||(e[77]=s("option",{value:"",disabled:""},"ì„ íƒí•´ì£¼ì„¸ìš”",-1)),(r(),i(_,null,T(Ue,t=>s("option",{key:t,value:t},m(t),9,ft)),64))],512),[[z,l.value.bankName]])]),s("div",bt,[e[79]||(e[79]=s("label",null,"ì˜ˆê¸ˆì£¼",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[17]||(e[17]=t=>l.value.accountHolder=t),placeholder:"ì˜ˆê¸ˆì£¼ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"},null,512),[[p,l.value.accountHolder]])]),s("div",kt,[e[80]||(e[80]=s("label",null,"ê³„ì¢Œë²ˆí˜¸",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[18]||(e[18]=t=>l.value.accountNumber=t),placeholder:"'-' ì—†ì´ ìˆ«ìë§Œ ì…ë ¥",onInput:A},null,544),[[p,l.value.accountNumber]])])]),s("section",wt,[e[111]||(e[111]=s("h3",{class:"subsection-title"},"ê°ì‹¤ ê´€ë¦¬",-1)),x.value.length>0?(r(),i("div",yt,[(r(!0),i(_,null,T(x.value,t=>(r(),i("div",{key:t.id,class:"room-card"},[P.value!==t.id?(r(),i(_,{key:0},[s("div",ht,[s("h4",It,m(t.name),1),s("div",{class:f(["room-toggle",{disabled:l.value.approvalStatus!=="APPROVED"}])},[s("span",Pt,m(t.isActive?"ìš´ì˜ ì¤‘":"ìš´ì˜ ì¤‘ì§€"),1),s("div",{class:f(["toggle-switch small",{active:t.isActive,disabled:l.value.approvalStatus!=="APPROVED"}]),onClick:u=>qe(t)},[...e[82]||(e[82]=[s("div",{class:"toggle-slider"},null,-1)])],10,Ct)],2)]),s("div",At,[s("div",_t,[e[83]||(e[83]=s("span",{class:"detail-label"},"ì£¼ì¤‘ ìš”ê¸ˆ",-1)),s("span",Ut,"â‚©"+m(Number(t.weekdayPrice).toLocaleString()),1)]),s("div",xt,[e[84]||(e[84]=s("span",{class:"detail-label"},"ì£¼ë§ ìš”ê¸ˆ",-1)),s("span",Tt,"â‚©"+m(Number(t.weekendPrice).toLocaleString()),1)]),s("div",Gt,[e[85]||(e[85]=s("span",{class:"detail-label"},"ì¸ì›",-1)),s("span",St,m(t.minGuests)+"~"+m(t.maxGuests)+"ëª…",1)]),s("div",Nt,[e[86]||(e[86]=s("span",{class:"detail-label"},"ì¹¨ëŒ€/ìš•ì‹¤",-1)),s("span",Rt,"ì¹¨ëŒ€ "+m(t.bedCount||0)+"ê°œ | ìš•ì‹¤ "+m(t.bathroomCount||0)+"ê°œ",1)])]),s("div",Ot,[s("button",{class:"room-btn edit",onClick:u=>$e(t)},"ìˆ˜ì •",8,Et),s("button",{class:"room-btn delete",onClick:u=>Me(t.id)},"ì‚­ì œ",8,Vt)])],64)):(r(),i("div",$t,[s("div",Dt,[e[87]||(e[87]=s("span",{class:"editing-badge"},"ìˆ˜ì • ì¤‘",-1)),s("h4",Lt,m(t.name),1)]),s("div",Mt,[e[88]||(e[88]=s("label",null,[h("ê°ì‹¤ëª… "),s("span",{class:"required"},"*")],-1)),v(s("input",{type:"text","onUpdate:modelValue":e[19]||(e[19]=u=>n.value.name=u),class:f({"input-error":d.value.name}),placeholder:"ê°ì‹¤ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"},null,2),[[p,n.value.name]]),d.value.name?(r(),i("span",Ft,m(d.value.name),1)):w("",!0)]),s("div",qt,[e[90]||(e[90]=s("label",null,[h("ê°ì‹¤ ëŒ€í‘œ ì´ë¯¸ì§€ "),s("span",{class:"required"},"*")],-1)),s("div",{class:f(["room-image-upload-area",{"upload-error":d.value.representativeImage}])},[n.value.representativeImagePreview?(r(),i("div",Bt,[s("img",{src:n.value.representativeImagePreview,alt:"ê°ì‹¤ ëŒ€í‘œ ì´ë¯¸ì§€"},null,8,Ht),s("button",{type:"button",class:"room-remove-image-btn",onClick:ge},"âœ•")])):(r(),i("label",zt,[s("input",{type:"file",accept:"image/*",onChange:pe,class:"hidden-file-input"},null,32),e[89]||(e[89]=s("div",{class:"room-upload-content"},[s("span",{class:"room-upload-icon"},"ğŸ“·"),s("span",{class:"room-upload-text"},"ì´ë¯¸ì§€ ì—…ë¡œë“œ")],-1))]))],2),d.value.representativeImage?(r(),i("span",jt,m(d.value.representativeImage),1)):w("",!0)]),s("div",Kt,[e[92]||(e[92]=s("label",null,"ìš´ì˜ ìƒíƒœ",-1)),s("div",{class:f(["room-status-toggle",{disabled:l.value.approvalStatus!=="APPROVED"}])},[s("span",Jt,m(n.value.isActive?"ìš´ì˜ ì¤‘":"ìš´ì˜ ì¤‘ì§€"),1),s("div",{class:f(["toggle-switch small",{active:n.value.isActive,disabled:l.value.approvalStatus!=="APPROVED"}]),onClick:Be},[...e[91]||(e[91]=[s("div",{class:"toggle-slider"},null,-1)])],2),l.value.approvalStatus!=="APPROVED"?(r(),i("span",Yt,"ìŠ¹ì¸ í›„ ë³€ê²½ ê°€ëŠ¥")):w("",!0)],2)]),s("div",Qt,[s("div",Wt,[e[93]||(e[93]=s("label",null,[h("ì£¼ì¤‘ ìš”ê¸ˆ "),s("span",{class:"required"},"*")],-1)),v(s("input",{type:"number","onUpdate:modelValue":e[20]||(e[20]=u=>n.value.weekdayPrice=u),class:f({"input-error":d.value.weekdayPrice}),onInput:A},null,34),[[p,n.value.weekdayPrice]]),d.value.weekdayPrice?(r(),i("span",Xt,m(d.value.weekdayPrice),1)):w("",!0)]),s("div",Zt,[e[94]||(e[94]=s("label",null,[h("ì£¼ë§ ìš”ê¸ˆ "),s("span",{class:"required"},"*")],-1)),v(s("input",{type:"number","onUpdate:modelValue":e[21]||(e[21]=u=>n.value.weekendPrice=u),class:f({"input-error":d.value.weekendPrice}),onInput:A},null,34),[[p,n.value.weekendPrice]]),d.value.weekendPrice?(r(),i("span",ea,m(d.value.weekendPrice),1)):w("",!0)])]),s("div",sa,[s("div",ta,[e[95]||(e[95]=s("label",null,"ìµœì†Œ ì¸ì›",-1)),v(s("input",{type:"number","onUpdate:modelValue":e[22]||(e[22]=u=>n.value.minGuests=u),class:f({"input-error":d.value.minGuests}),onInput:A},null,34),[[p,n.value.minGuests]]),d.value.minGuests?(r(),i("span",aa,m(d.value.minGuests),1)):w("",!0)]),s("div",la,[e[96]||(e[96]=s("label",null,"ìµœëŒ€ ì¸ì›",-1)),v(s("input",{type:"number","onUpdate:modelValue":e[23]||(e[23]=u=>n.value.maxGuests=u),class:f({"input-error":d.value.maxGuests}),onInput:A},null,34),[[p,n.value.maxGuests]]),d.value.maxGuests?(r(),i("span",oa,m(d.value.maxGuests),1)):w("",!0)])]),s("div",na,[s("div",ia,[e[97]||(e[97]=s("label",null,"ì¹¨ëŒ€ ê°œìˆ˜",-1)),v(s("input",{"onUpdate:modelValue":e[24]||(e[24]=u=>n.value.bedCount=u),type:"number",onInput:A},null,544),[[p,n.value.bedCount]])]),s("div",ra,[e[98]||(e[98]=s("label",null,"ìš•ì‹¤ ê°œìˆ˜",-1)),v(s("input",{"onUpdate:modelValue":e[25]||(e[25]=u=>n.value.bathroomCount=u),type:"number",onInput:A},null,544),[[p,n.value.bathroomCount]])])]),s("div",ua,[e[99]||(e[99]=s("label",null,"ê°ì‹¤ ì„¤ëª…",-1)),v(s("textarea",{"onUpdate:modelValue":e[26]||(e[26]=u=>n.value.description=u),rows:"3"},null,512),[[p,n.value.description]])]),s("div",da,[(r(!0),i(_,null,T(a.roomAmenityOptions,(u,k)=>(r(),i("div",{key:k,class:"room-amenity-category"},[s("div",ma,m(u.label),1),s("div",ca,[(r(!0),i(_,null,T(u.items,y=>(r(),i("label",{key:y,class:f(["room-amenity-tag",{selected:n.value.amenities.includes(y)}])},[s("input",{type:"checkbox",checked:n.value.amenities.includes(y),onChange:c=>a.toggleRoomAmenity(y)},null,40,va),h(" "+m(y),1)],2))),128))])]))),128))]),s("div",{class:"room-form-actions"},[s("button",{class:"btn-outline",onClick:De},"ì·¨ì†Œ"),s("button",{class:"btn-primary",onClick:fe},"ìˆ˜ì •")])]))]))),128))])):(r(),i("p",{key:1,class:f(["no-rooms",{"no-rooms-error":I.value.rooms}])},[e[100]||(e[100]=h(" ë“±ë¡ëœ ê°ì‹¤ì´ ì—†ìŠµë‹ˆë‹¤. ",-1)),I.value.rooms?(r(),i("span",pa,m(I.value.rooms),1)):w("",!0)],2)),!L.value&&!P.value?(r(),i("button",{key:2,class:"add-room-btn",onClick:Le}," + ê°ì‹¤ ì¶”ê°€í•˜ê¸° ")):w("",!0),L.value&&!P.value?(r(),i("div",ga,[s("h4",fa,m(P.value?"ê°ì‹¤ ìˆ˜ì •":"ìƒˆ ê°ì‹¤ ì¶”ê°€"),1),s("div",ba,[e[101]||(e[101]=s("label",null,[h("ê°ì‹¤ëª… "),s("span",{class:"required"},"*")],-1)),v(s("input",{type:"text","onUpdate:modelValue":e[27]||(e[27]=t=>n.value.name=t),class:f({"input-error":d.value.name}),placeholder:"ê°ì‹¤ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"},null,2),[[p,n.value.name]]),d.value.name?(r(),i("span",ka,m(d.value.name),1)):w("",!0)]),s("div",wa,[e[103]||(e[103]=s("label",null,[h("ê°ì‹¤ ëŒ€í‘œ ì´ë¯¸ì§€ "),s("span",{class:"required"},"*")],-1)),s("div",{class:f(["room-image-upload-area",{"upload-error":d.value.representativeImage}])},[n.value.representativeImagePreview?(r(),i("div",ya,[s("img",{src:n.value.representativeImagePreview,alt:"ê°ì‹¤ ëŒ€í‘œ ì´ë¯¸ì§€"},null,8,ha),s("button",{type:"button",class:"room-remove-image-btn",onClick:ge},"âœ•")])):(r(),i("label",Ia,[s("input",{type:"file",accept:"image/*",onChange:pe,class:"hidden-file-input"},null,32),e[102]||(e[102]=s("div",{class:"room-upload-content"},[s("span",{class:"room-upload-icon"},"ğŸ“·"),s("span",{class:"room-upload-text"},"ì´ë¯¸ì§€ ì—…ë¡œë“œ")],-1))]))],2),d.value.representativeImage?(r(),i("span",Pa,m(d.value.representativeImage),1)):w("",!0)]),s("div",Ca,[s("div",Aa,[e[104]||(e[104]=s("label",null,[h("ì£¼ì¤‘ ìš”ê¸ˆ "),s("span",{class:"required"},"*")],-1)),v(s("input",{type:"number","onUpdate:modelValue":e[28]||(e[28]=t=>n.value.weekdayPrice=t),class:f({"input-error":d.value.weekdayPrice}),onInput:A},null,34),[[p,n.value.weekdayPrice]]),d.value.weekdayPrice?(r(),i("span",_a,m(d.value.weekdayPrice),1)):w("",!0)]),s("div",Ua,[e[105]||(e[105]=s("label",null,[h("ì£¼ë§ ìš”ê¸ˆ "),s("span",{class:"required"},"*")],-1)),v(s("input",{type:"number","onUpdate:modelValue":e[29]||(e[29]=t=>n.value.weekendPrice=t),class:f({"input-error":d.value.weekendPrice}),onInput:A},null,34),[[p,n.value.weekendPrice]]),d.value.weekendPrice?(r(),i("span",xa,m(d.value.weekendPrice),1)):w("",!0)])]),s("div",Ta,[s("div",Ga,[e[106]||(e[106]=s("label",null,"ìµœì†Œ ì¸ì›",-1)),v(s("input",{type:"number","onUpdate:modelValue":e[30]||(e[30]=t=>n.value.minGuests=t),class:f({"input-error":d.value.minGuests}),onInput:A},null,34),[[p,n.value.minGuests]]),d.value.minGuests?(r(),i("span",Sa,m(d.value.minGuests),1)):w("",!0)]),s("div",Na,[e[107]||(e[107]=s("label",null,"ìµœëŒ€ ì¸ì›",-1)),v(s("input",{type:"number","onUpdate:modelValue":e[31]||(e[31]=t=>n.value.maxGuests=t),class:f({"input-error":d.value.maxGuests}),onInput:A},null,34),[[p,n.value.maxGuests]]),d.value.maxGuests?(r(),i("span",Ra,m(d.value.maxGuests),1)):w("",!0)])]),s("div",Oa,[s("div",Ea,[e[108]||(e[108]=s("label",null,"ì¹¨ëŒ€ ê°œìˆ˜",-1)),v(s("input",{"onUpdate:modelValue":e[32]||(e[32]=t=>n.value.bedCount=t),type:"number",onInput:A},null,544),[[p,n.value.bedCount]])]),s("div",Va,[e[109]||(e[109]=s("label",null,"ìš•ì‹¤ ê°œìˆ˜",-1)),v(s("input",{"onUpdate:modelValue":e[33]||(e[33]=t=>n.value.bathroomCount=t),type:"number",onInput:A},null,544),[[p,n.value.bathroomCount]])])]),s("div",$a,[e[110]||(e[110]=s("label",null,"ê°ì‹¤ ì„¤ëª…",-1)),v(s("textarea",{"onUpdate:modelValue":e[34]||(e[34]=t=>n.value.description=t),rows:"3"},null,512),[[p,n.value.description]])]),s("div",Da,[s("button",{class:"btn-outline",onClick:e[35]||(e[35]=t=>L.value=!1)},"ì·¨ì†Œ"),s("button",{class:"btn-primary",onClick:fe},m(P.value?"ìˆ˜ì •":"ë“±ë¡"),1)])])):w("",!0)]),s("div",La,[s("button",{class:"btn-cancel",onClick:e[36]||(e[36]=t=>a.$router.push("/host/accommodation"))},"ì·¨ì†Œ"),s("button",{class:"btn-delete",onClick:He},"ìˆ™ì†Œ ì‚­ì œ"),s("button",{class:"btn-submit",onClick:Ee},"ìˆ˜ì • ì™„ë£Œ")])])),Y.value?(r(),i("div",{key:3,class:"modal-overlay",onClick:ne},[s("div",{class:"modal-content",onClick:e[37]||(e[37]=ls(()=>{},["stop"]))},[s("p",Ma,m(Q.value),1),s("button",{class:"modal-btn",onClick:ne},"í™•ì¸")])])):w("",!0)],2)}}},Ha=Xe(Fa,[["__scopeId","data-v-2d652e20"]]);export{Ha as default};
