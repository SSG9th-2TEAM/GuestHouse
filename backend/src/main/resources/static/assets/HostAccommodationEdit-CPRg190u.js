import{_ as es,s as ss,r as b,y as he,b as ts,c as r,d as k,e as s,m as as,H as os,K as ls,z as f,t as m,A as I,F as C,f as U,C as v,E as g,I as L,p as ye,n as ns,G as M,v as is,k as rs,o as u}from"./index-_lApdx98.js";import{r as us}from"./ai-LFIVfc2D.js";const ds={key:0,class:"loading-spinner"},cs={key:1,class:"page-header"},ms={class:"header-top"},vs={class:"title-area"},ps={class:"title-row"},gs={class:"header-controls"},bs={class:"toggle-label"},fs={key:2,class:"form-content"},ks={class:"form-section"},hs={class:"form-group"},ys={class:"banner-upload-area"},ws={key:0,class:"banner-preview-wrapper"},Is=["src"],_s={key:1,class:"upload-box"},Ps={class:"form-group"},Cs={class:"detail-images-container"},As={class:"detail-images-preview"},Us=["src"],xs=["onClick"],Ts={key:0,class:"add-detail-image"},Gs={class:"ai-helper"},Rs=["disabled"],Ns={class:"form-group"},Ss={class:"form-group"},Os={class:"form-group"},Es={class:"form-group"},Vs={class:"form-section"},$s={class:"form-group"},Ds={class:"form-group"},Ls={key:0,class:"error-message"},Ms={class:"form-group"},Fs={class:"form-section"},Hs={class:"form-group"},qs={class:"banner-upload-area"},Bs={key:0,class:"banner-preview-wrapper"},js=["src"],zs={key:1,class:"upload-box"},Ks={class:"form-group"},Js={class:"detail-images-container"},Ws={class:"detail-images-preview"},Ys=["src"],Xs=["onClick"],Qs={key:0,class:"add-detail-image"},Zs={class:"form-section"},et={class:"form-group"},st={class:"form-group"},tt={class:"form-group"},at={class:"form-group"},ot={class:"form-group"},lt={class:"form-section"},nt={class:"form-group"},it={class:"form-section"},rt={class:"form-row two-col"},ut={class:"form-group"},dt={class:"time-selector-group"},ct=["value"],mt=["value"],vt={key:0,class:"error-message"},pt={class:"form-group"},gt={class:"time-selector-group"},bt=["value"],ft=["value"],kt={key:0,class:"error-message"},ht={class:"form-section"},yt={class:"form-group"},wt={class:"amenities-grid"},It=["checked","onChange"],_t={class:"amenity-label"},Pt={class:"form-group mt-4"},Ct={class:"theme-category-title"},At={class:"theme-tags"},Ut=["checked","onChange"],xt={class:"form-section"},Tt={class:"form-group"},Gt=["value"],Rt={class:"form-group"},Nt={class:"form-group"},St={class:"form-section"},Ot={key:0,class:"room-list"},Et={class:"room-header"},Vt={class:"room-name"},$t={class:"toggle-label-small"},Dt=["onClick"],Lt={class:"room-details"},Mt={class:"detail-row"},Ft={class:"detail-value"},Ht={class:"detail-row"},qt={class:"detail-value"},Bt={class:"detail-row"},jt={class:"detail-value"},zt={class:"detail-row"},Kt={class:"detail-value"},Jt={class:"room-actions"},Wt=["onClick"],Yt=["onClick"],Xt={key:1,class:"room-form-inline"},Qt={class:"editing-room-header"},Zt={class:"editing-target-name"},ea={class:"form-group"},sa={key:0,class:"error-message"},ta={class:"form-group"},aa={key:0,class:"room-image-preview"},oa=["src"],la={key:1,class:"room-upload-box"},na={key:0,class:"error-message"},ia={class:"form-group"},ra={class:"toggle-label-small"},ua={key:0,class:"toggle-hint-small"},da={class:"form-row two-col"},ca={class:"form-group"},ma={key:0,class:"error-message"},va={class:"form-group"},pa={key:0,class:"error-message"},ga={class:"form-row two-col"},ba={class:"form-group"},fa={key:0,class:"error-message"},ka={class:"form-group"},ha={key:0,class:"error-message"},ya={class:"form-row two-col"},wa={class:"form-group"},Ia={class:"form-group"},_a={class:"form-group"},Pa={class:"room-amenities-section"},Ca={class:"room-amenity-label"},Aa={class:"room-amenity-tags"},Ua=["checked","onChange"],xa={key:0,class:"error-message"},Ta={key:3,class:"room-form"},Ga={class:"room-form-title"},Ra={class:"form-group"},Na={key:0,class:"error-message"},Sa={class:"form-group"},Oa={key:0,class:"room-image-preview"},Ea=["src"],Va={key:1,class:"room-upload-box"},$a={key:0,class:"error-message"},Da={class:"form-row two-col"},La={class:"form-group"},Ma={key:0,class:"error-message"},Fa={class:"form-group"},Ha={key:0,class:"error-message"},qa={class:"form-row two-col"},Ba={class:"form-group"},ja={key:0,class:"error-message"},za={class:"form-group"},Ka={key:0,class:"error-message"},Ja={class:"form-row two-col"},Wa={class:"form-group"},Ya={class:"form-group"},Xa={class:"form-group"},Qa={class:"room-form-actions"},Za={class:"bottom-actions"},eo={class:"modal-message"},we=5,Ie=1024,so=.85,to={__name:"HostAccommodationEdit",setup(ao){const _e=ss(),z=rs(),S=_e.params.id,O="/api",Pe="",K=a=>a?a.startsWith("blob:")||a.startsWith("http")?a:`${Pe}${a}`:"",$=b(!0),Z=b(""),ee=b(!1),D=b(!1),J=b(!1),se=b(""),te=b(!1),h=a=>{se.value=a,J.value=!0},ae=()=>{J.value=!1,te.value&&z.push("/host/accommodation")},F=b(null),G=b(null),oe=b(null),le=b(null),Ce={GUESTHOUSE:"ê²ŒìŠ¤íŠ¸í•˜ìš°ìŠ¤",PENSION:"íœì…˜",HOTEL:"í˜¸í…”",MOTEL:"ëª¨í…”",RESORT:"ë¦¬ì¡°íŠ¸",HANOK:"í•œì˜¥",CAMPING:"ìº í•‘/ê¸€ë¨í•‘"},Ae={ê²ŒìŠ¤íŠ¸í•˜ìš°ìŠ¤:"GUESTHOUSE",íœì…˜:"PENSION",í˜¸í…”:"HOTEL",ëª¨í…”:"MOTEL",ë¦¬ì¡°íŠ¸:"RESORT",í•œì˜¥:"HANOK","ìº í•‘/ê¸€ë¨í•‘":"CAMPING"},Ue=[{id:1,label:"ë¬´ì„  ì¸í„°ë„·"},{id:2,label:"ì—ì–´ì»¨"},{id:3,label:"ë‚œë°©"},{id:4,label:"TV"}],ne=b({}),W=b([]),xe={MEETING:"ë§Œë‚¨/ì†Œì…œ",PERSONA:"í˜ë¥´ì†Œë‚˜/ì„±í–¥",FACILITY:"ì‹œì„¤/í¸ì˜",FOOD:"ì‹ì‚¬",PLAY:"ë†€ê±°ë¦¬"},Te=async()=>{try{const a=await fetch(`${O}/themes`);if(!a.ok)throw new Error("í…Œë§ˆ ë¡œë“œ ì‹¤íŒ¨");const e=await a.json();W.value=e;const o={};e.forEach(t=>{const i=t.themeCategory||"ETC";o[i]||(o[i]={label:xe[i]||i,items:[]}),o[i].items.push(t.themeName)}),ne.value=o}catch(a){console.error("í…Œë§ˆ ë¡œë“œ ì‹¤íŒ¨:",a),h("í…Œë§ˆ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.")}},Ge=a=>{const e=W.value.find(o=>o.themeName===a);return e?e.id:void 0},Re=a=>{const e=W.value.find(o=>o.id===a);return e?e.themeName:void 0},Ne=["êµ­ë¯¼ì€í–‰","ì‹ í•œì€í–‰","ìš°ë¦¬ì€í–‰","í•˜ë‚˜ì€í–‰","ë†í˜‘","ì¹´ì¹´ì˜¤ë±…í¬","í† ìŠ¤ë±…í¬","ê¸°ì—…ì€í–‰"],l=b({name:"",type:"",phone:"",email:"",businessRegistrationNumber:"",city:"",district:"",township:"",address:"",latitude:null,longitude:null,description:"",shortDescription:"",transportInfo:"",checkInTime:"",checkOutTime:"",parkingInfo:"",sns:"",isActive:!0,approvalStatus:"PENDING",houseRules:"",amenities:[],themes:[],bannerImage:null,detailImages:[],bankName:"",accountHolder:"",accountNumber:""}),x=b([]),T=b([]),E=b(null),R=b(""),H=b(""),q=b(""),B=b(""),j=b(""),ie=Array.from({length:24},(a,e)=>String(e).padStart(2,"0")),re=["00","30"];he([H,q],([a,e])=>{a&&e&&(l.value.checkInTime=`${a}:${e}`)}),he([B,j],([a,e])=>{a&&e&&(l.value.checkOutTime=`${a}:${e}`)});const Se=a=>{const e=l.value.amenities.indexOf(a);e===-1?l.value.amenities.push(a):l.value.amenities.splice(e,1)},Oe=a=>{const e=l.value.themes.indexOf(a);if(e===-1){if(l.value.themes.length>=6){h("í…Œë§ˆëŠ” ìµœëŒ€ 6ê°œê¹Œì§€ ì„ íƒ ê°€ëŠ¥í•©ë‹ˆë‹¤.");return}l.value.themes.push(a)}else l.value.themes.splice(e,1)},ue=a=>l.value.amenities.includes(a),de=a=>l.value.themes.includes(a),Ee=async()=>{try{const a=M(),e=await fetch(`${O}/reservations/accommodation/${S}`,{headers:{Authorization:`Bearer ${a}`}});if(e.ok){const t=(await e.json()).filter(i=>i.reservationStatus===2);return ee.value=t.length>0,ee.value}return!1}catch(a){return console.error("ì˜ˆì•½ í™•ì¸ ì˜¤ë¥˜:",a),!1}},Ve=async()=>{$.value=!0,Z.value="";try{const a=M(),e=await fetch(`${O}/accommodations/${S}`,{headers:{Authorization:`Bearer ${a}`}});if(!e.ok)throw new Error("ìˆ™ì†Œ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");const o=await e.json();if(l.value={name:o.accommodationsName,type:Ce[o.accommodationsCategory]||o.accommodationsCategory,phone:o.phone,email:o.email||"",businessRegistrationNumber:o.businessRegistrationNumber,city:o.city,district:o.district,township:o.township,address:o.addressDetail,latitude:o.latitude,longitude:o.longitude,description:o.accommodationsDescription,shortDescription:o.shortDescription,transportInfo:o.transportInfo,parkingInfo:o.parkingInfo,sns:o.sns,checkInTime:o.checkInTime||"",checkOutTime:o.checkOutTime||"",isActive:o.accommodationStatus===1,approvalStatus:o.approvalStatus||"PENDING",amenities:o.amenityIds||[],themes:o.themeIds?o.themeIds.map(t=>Re(t)).filter(Boolean):[],bankName:o.bankName,accountNumber:o.accountNumber,accountHolder:o.accountHolder,bannerImage:null,detailImages:[]},o.images){const t=o.images.find(p=>p.imageType==="banner");t&&(l.value.bannerImage=K(t.imageUrl));const i=o.images.filter(p=>p.imageType==="detail").sort((p,y)=>p.sortOrder-y.sortOrder);T.value=i.map((p,y)=>({id:p.id||y,url:K(p.imageUrl),file:null,isNew:!1}))}if(o.checkInTime){const[t,i]=o.checkInTime.split(":");H.value=t?t.padStart(2,"0"):"",q.value=i?i.padStart(2,"0"):"00",l.value.checkInTime=o.checkInTime}if(o.checkOutTime){const[t,i]=o.checkOutTime.split(":");B.value=t?t.padStart(2,"0"):"",j.value=i?i.padStart(2,"0"):"00",l.value.checkOutTime=o.checkOutTime}o.rooms&&(x.value=o.rooms.map(t=>({id:t.roomId,name:t.roomName,weekdayPrice:t.price,weekendPrice:t.weekendPrice,minGuests:t.minGuests,maxGuests:t.maxGuests,bedCount:t.bedCount,bathroomCount:t.bathroomCount,description:t.roomDescription,mainImageUrl:t.mainImageUrl,amenities:t.amenities||[],isActive:t.roomStatus===1})))}catch(a){console.error("Load Error:",a),Z.value=a.message}finally{$.value=!1,await is(),await Le(),setTimeout(()=>{$e()},200)}},$e=()=>{!window.kakao||!window.kakao.maps||!F.value||window.kakao.maps.load(()=>{le.value=new window.kakao.maps.services.Geocoder;const a=parseFloat(l.value.latitude),e=parseFloat(l.value.longitude);if(isNaN(a)||isNaN(e)){const i=`${l.value.city} ${l.value.district} ${l.value.township} ${l.value.address}`.trim();console.warn("Invalid coordinates, attempting fallback with address:",i),i&&le.value.addressSearch(i,(p,y)=>{if(y===window.kakao.maps.services.Status.OK){const c=p[0].y,w=p[0].x;l.value.latitude=c,l.value.longitude=w;const V=new window.kakao.maps.LatLng(c,w),Ze={center:V,level:3};G.value=new window.kakao.maps.Map(F.value,Ze),oe.value=new window.kakao.maps.Marker({position:V,map:G.value}),setTimeout(()=>{G.value&&G.value.relayout()},100)}else console.error("Geocoding failed for address:",l.value.address)});return}const o=new window.kakao.maps.LatLng(a,e),t={center:o,level:3};G.value=new window.kakao.maps.Map(F.value,t),oe.value=new window.kakao.maps.Marker({position:o,map:G.value}),setTimeout(()=>{G.value&&G.value.relayout()},100)})},_=b({}),De=()=>{_.value={};let a=!0;const e=[];return l.value.description?.trim()||(_.value.description="ìˆ™ì†Œ ì†Œê°œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ìˆ™ì†Œ ì†Œê°œ"),a=!1),l.value.checkInTime||(_.value.checkInTime="ì²´í¬ì¸ ì‹œê°„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ì²´í¬ì¸ ì‹œê°„"),a=!1),l.value.checkOutTime||(_.value.checkOutTime="ì²´í¬ì•„ì›ƒ ì‹œê°„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ì²´í¬ì•„ì›ƒ ì‹œê°„"),a=!1),(!l.value.themes||l.value.themes.length===0)&&(e.push("í…Œë§ˆ (ìµœì†Œ 1ê°œ ì„ íƒ)"),a=!1),x.value.length===0&&(_.value.rooms="ë“±ë¡ëœ ê°ì‹¤ì´ ì—†ìŠµë‹ˆë‹¤.",a=!1),{isValid:a,errorMessages:e}},Le=()=>new Promise(a=>{if(window.kakao&&window.kakao.maps)a();else{const e=setInterval(()=>{window.kakao&&window.kakao.maps&&(clearInterval(e),a())},100)}}),Me=async()=>{if(N.value){h("ì‘ì„± ì¤‘ì¸ ê°ì‹¤ ì •ë³´ë¥¼ ë¨¼ì € ì €ì¥(ë“±ë¡/ìˆ˜ì •)í•´ì£¼ì„¸ìš”.");return}const{isValid:a,errorMessages:e}=De();if(!a){h(`ë‹¤ìŒ í•­ëª©ì„ í™•ì¸í•´ì£¼ì„¸ìš”:
${e.join(", ")}`);return}for(const o of x.value){if(!o.name||!o.name.trim()){h("ê°ì‹¤ëª…ì´ ë¹„ì–´ìˆëŠ” ê°ì‹¤ì´ ìˆìŠµë‹ˆë‹¤.");return}if(!o.weekdayPrice||parseInt(o.weekdayPrice)<0){h(`[${o.name}] ê°ì‹¤ì˜ ì£¼ì¤‘ ìš”ê¸ˆì„ í™•ì¸í•´ì£¼ì„¸ìš”.`);return}if(o.weekendPrice===void 0||o.weekendPrice===""||parseInt(o.weekendPrice)<0){h(`[${o.name}] ê°ì‹¤ì˜ ì£¼ë§ ìš”ê¸ˆì„ í™•ì¸í•´ì£¼ì„¸ìš”.`);return}if(!o.minGuests||parseInt(o.minGuests)<1){h(`[${o.name}] ê°ì‹¤ì˜ ìµœì†Œ ì¸ì›ì€ 1ëª… ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.`);return}if(!o.maxGuests||parseInt(o.maxGuests)<1){h(`[${o.name}] ê°ì‹¤ì˜ ìµœëŒ€ ì¸ì›ì€ 1ëª… ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.`);return}if(parseInt(o.minGuests)>parseInt(o.maxGuests)){h(`[${o.name}] ê°ì‹¤ì˜ ìµœëŒ€ ì¸ì›ì€ ìµœì†Œ ì¸ì›ë³´ë‹¤ ì»¤ì•¼ í•©ë‹ˆë‹¤.`);return}}try{const o=await Promise.all(x.value.map(async c=>{let w=null;return c.representativeImage instanceof File?w=await Q(c.representativeImage):c.representativeImagePreview&&c.representativeImagePreview.startsWith("http")?w=c.representativeImagePreview:c.mainImageUrl&&(w=c.mainImageUrl),{roomId:typeof c.id=="number"&&c.id>1e10?null:c.id,roomName:c.name,price:parseInt(c.weekdayPrice),weekendPrice:parseInt(c.weekendPrice),minGuests:parseInt(c.minGuests),maxGuests:parseInt(c.maxGuests),roomDescription:c.description||"",mainImageUrl:w,bathroomCount:parseInt(c.bathroomCount)||0,roomType:"STANDARD",bedCount:parseInt(c.bedCount)||0,roomStatus:c.isActive?1:0,amenities:c.amenities||[]}})),t=[];if(E.value){const c=await Q(E.value);t.push({imageUrl:c,imageType:"banner",sortOrder:0})}else l.value.bannerImage&&t.push({imageUrl:l.value.bannerImage,imageType:"banner",sortOrder:0});for(let c=0;c<T.value.length;c++){const w=T.value[c];if(w.isNew&&w.file){const V=await Q(w.file);t.push({imageUrl:V,imageType:"detail",sortOrder:c+1})}else t.push({imageUrl:w.url,imageType:"detail",sortOrder:c+1})}const i={accommodationsName:l.value.name,accommodationsCategory:Ae[l.value.type]||l.value.type,accommodationsDescription:l.value.description,shortDescription:l.value.shortDescription||"",transportInfo:l.value.transportInfo||"",accommodationStatus:l.value.isActive?1:0,parkingInfo:l.value.parkingInfo||"",sns:l.value.sns||"",phone:l.value.phone,checkInTime:l.value.checkInTime,checkOutTime:l.value.checkOutTime,latitude:l.value.latitude,longitude:l.value.longitude,bankName:l.value.bankName,accountNumber:l.value.accountNumber,accountHolder:l.value.accountHolder,rooms:o,images:t,amenityIds:l.value.amenities,themeIds:l.value.themes.map(c=>Ge(c)).filter(c=>c!==void 0)};console.log("Update Request:",i);const p=M(),y=await fetch(`${O}/accommodations/${S}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify(i)});if(y.ok){te.value=!0;try{const c=sessionStorage.getItem("hostResubmitMap"),w=c?JSON.parse(c):{};w[String(S)]=Date.now(),sessionStorage.setItem("hostResubmitMap",JSON.stringify(w))}catch(c){console.warn("Failed to store resubmit timestamp",c)}h("ìˆ™ì†Œ ì •ë³´ê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.")}else y.status===401?(alert("ë¡œê·¸ì¸ ì„¸ì…˜ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”."),z.push("/login")):(console.error("Update failed status:",y.status),h("ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. (Status: "+y.status+")"))}catch(o){console.error("HandleUpdate Error:",o),h("ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: "+o.message)}},N=b(!1),n=b({name:"",weekdayPrice:"",weekendPrice:"",minGuests:"",maxGuests:"",bedCount:"",bathroomCount:"",description:"",amenities:[],representativeImage:null,representativeImagePreview:"",isActive:!0}),d=b({}),P=b(null),A=a=>{const e=a.target.value;/[^0-9]/.test(e)&&(a.target.value=e.replace(/[^0-9]/g,""),a.target.dispatchEvent(new Event("input")))},Fe=()=>{d.value={};let a=!0;const e=[];n.value.name?.trim()||(d.value.name="ê°ì‹¤ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ê°ì‹¤ëª…"),a=!1);const o=t=>/^\d+$/.test(t);return(!n.value.weekdayPrice||!o(String(n.value.weekdayPrice))||parseInt(n.value.weekdayPrice)<=0)&&(d.value.weekdayPrice="ì£¼ì¤‘ ìš”ê¸ˆì„ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ì£¼ì¤‘ ìš”ê¸ˆ"),a=!1),(!n.value.weekendPrice||!o(String(n.value.weekendPrice))||parseInt(n.value.weekendPrice)<=0)&&(d.value.weekendPrice="ì£¼ë§ ìš”ê¸ˆì„ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ì£¼ë§ ìš”ê¸ˆ"),a=!1),(!n.value.minGuests||!o(String(n.value.minGuests))||parseInt(n.value.minGuests)<1)&&(d.value.minGuests="ìµœì†Œ ì¸ì›ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ìµœì†Œ ì¸ì›"),a=!1),(!n.value.maxGuests||!o(String(n.value.maxGuests))||parseInt(n.value.maxGuests)<1)&&(d.value.maxGuests="ìµœëŒ€ ì¸ì›ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ìµœëŒ€ ì¸ì›"),a=!1),parseInt(n.value.minGuests)>parseInt(n.value.maxGuests)&&(d.value.maxGuests="ìµœëŒ€ ì¸ì›ì€ ìµœì†Œ ì¸ì›ë³´ë‹¤ ì»¤ì•¼ í•©ë‹ˆë‹¤.",a=!1),n.value.bedCount&&!o(String(n.value.bedCount))&&(d.value.bedCount="ì¹¨ëŒ€ ìˆ˜ëŠ” ìˆ«ìë§Œ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ì¹¨ëŒ€ ìˆ˜"),a=!1),n.value.bathroomCount&&!o(String(n.value.bathroomCount))&&(d.value.bathroomCount="ìš•ì‹¤ ìˆ˜ëŠ” ìˆ«ìë§Œ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ìš•ì‹¤ ìˆ˜"),a=!1),!n.value.representativeImage&&!n.value.representativeImagePreview&&(d.value.representativeImage="ëŒ€í‘œ ì´ë¯¸ì§€ë¥¼ ë“±ë¡í•´ì£¼ì„¸ìš”.",e.push("ëŒ€í‘œ ì´ë¯¸ì§€"),a=!1),d.value._errorFields=e,a},ce=a=>{const e=a.target.files[0];e&&(n.value.representativeImage=e,n.value.representativeImagePreview=URL.createObjectURL(e))},me=()=>{n.value.representativeImage=null,n.value.representativeImagePreview=""},ve=()=>{if(!Fe()){const o=d.value._errorFields||[];o.length>0?h(`ë‹¤ìŒ í•­ëª©ì„ í™•ì¸í•´ì£¼ì„¸ìš”: ${o.join(", ")}`):h("ê°ì‹¤ ì •ë³´ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.");return}let a=null;if(P.value){const o=x.value.find(t=>t.id===P.value);o&&(a=o.mainImageUrl)}const e={id:P.value||Date.now(),...n.value,weekdayPrice:parseInt(n.value.weekdayPrice),weekendPrice:parseInt(n.value.weekendPrice),minGuests:parseInt(n.value.minGuests),maxGuests:parseInt(n.value.maxGuests),bedCount:parseInt(n.value.bedCount)||0,bathroomCount:parseInt(n.value.bathroomCount)||0,amenities:[...n.value.amenities],mainImageUrl:n.value.representativeImage?null:a,representativeImage:n.value.representativeImage,representativeImagePreview:n.value.representativeImagePreview};if(P.value){const o=x.value.findIndex(t=>t.id===P.value);o!==-1&&(x.value[o]=e)}else x.value.push(e);N.value=!1,X(),h(P.value?"ê°ì‹¤ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.":"ê°ì‹¤ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤."),P.value=null},He=a=>{P.value=a.id,n.value={...a},a.mainImageUrl?n.value.representativeImagePreview=a.mainImageUrl:a.representativeImagePreview&&(n.value.representativeImagePreview=a.representativeImagePreview),N.value=!1},qe=()=>{P.value=null,X()},Be=()=>{X(),P.value=null,N.value=!0},je=async a=>{if(confirm("ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?"))try{const e=M(),o=await fetch(`${O}/rooms/${S}/${a}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}});if(o.ok)x.value=x.value.filter(t=>t.id!==a),alert("ê°ì‹¤ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.");else{const t=await o.json().catch(()=>({}));alert(t.message||"ê°ì‹¤ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}}catch(e){console.error("ê°ì‹¤ ì‚­ì œ ì˜¤ë¥˜:",e),alert("ê°ì‹¤ ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}},Y=()=>l.value.approvalStatus==="APPROVED",ze=()=>{if(!Y()){h("ê´€ë¦¬ì ìŠ¹ì¸ í›„ ìš´ì˜ ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.");return}l.value.isActive&&alert("ìˆ™ì†Œ ìš´ì˜ ìƒíƒœê°€ ë¹„í™œì„±í™” ë˜ì—ˆìŠµë‹ˆë‹¤"),l.value.isActive=!l.value.isActive},Ke=a=>{if(!Y()){h("ê´€ë¦¬ì ìŠ¹ì¸ í›„ ê°ì‹¤ ìš´ì˜ ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.");return}a.isActive&&alert("ê°ì‹¤ ìš´ì˜ ìƒíƒœê°€ ë¹„í™œì„±í™” ë˜ì—ˆìŠµë‹ˆë‹¤ "),a.isActive=!a.isActive},Je=()=>{if(!Y()){h("ê´€ë¦¬ì ìŠ¹ì¸ í›„ ê°ì‹¤ ìš´ì˜ ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.");return}n.value.isActive&&alert("ê°ì‹¤ ì‚¬ìš© ì¤‘ì§€"),n.value.isActive=!n.value.isActive},We=async()=>{if(await Ee()){alert("ì˜ˆì•½ëœ ì •ë³´ê°€ ìˆì–´ ì‚­ì œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");return}if(confirm("ì •ë§ ìˆ™ì†Œë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."))try{const e=M();(await fetch(`${O}/accommodations/${S}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}})).ok?(alert("ìˆ™ì†Œê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."),z.push("/host/accommodation")):alert("ìˆ™ì†Œ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}catch(e){console.error("ìˆ™ì†Œ ì‚­ì œ ì˜¤ë¥˜:",e),alert("ìˆ™ì†Œ ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}},X=()=>{n.value={name:"",weekdayPrice:"",weekendPrice:"",minGuests:"",maxGuests:"",bedCount:"",bathroomCount:"",description:"",amenities:[],representativeImage:null,representativeImagePreview:"",isActive:!0},d.value={}},Q=a=>new Promise((e,o)=>{const t=new FileReader;t.onload=()=>e(t.result),t.onerror=o,t.readAsDataURL(a)}),Ye=a=>new Promise((e,o)=>{const t=new Image,i=URL.createObjectURL(a);t.onload=()=>{URL.revokeObjectURL(i);const p=Math.min(Ie/t.width,Ie/t.height,1),y=Math.round(t.width*p),c=Math.round(t.height*p),w=document.createElement("canvas");w.width=y,w.height=c,w.getContext("2d").drawImage(t,0,0,y,c),e(w.toDataURL("image/jpeg",so))},t.onerror=p=>{URL.revokeObjectURL(i),o(p)},t.src=i}),pe=async a=>{if(!a)return null;const e=K(a),o=await fetch(e);return o.ok?await o.blob():(console.warn("ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤:",e),null)},Xe=async()=>{const a=[];if(E.value)a.push(E.value);else if(l.value.bannerImage){const e=await pe(l.value.bannerImage);e&&a.push(e)}for(const e of T.value){if(a.length>=we)break;if(e.file)a.push(e.file);else if(e.url){const o=await pe(e.url);o&&a.push(o)}}return a.slice(0,we)},Qe=async()=>{if(!D.value)try{const a=await Xe();if(a.length===0){h("AI ì¶”ì²œì„ ì‚¬ìš©í•˜ë ¤ë©´ ë¨¼ì € ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•˜ê±°ë‚˜ ê¸°ì¡´ ì´ë¯¸ì§€ë¥¼ ìœ ì§€í•´ì£¼ì„¸ìš”.");return}D.value=!0;const o={images:await Promise.all(a.map(p=>Ye(p))),language:"ko",context:{city:l.value.city,district:l.value.district,township:l.value.township,stayType:l.value.type,themes:l.value.themes,existingName:l.value.name,existingDescription:l.value.description}},t=await us(o);if(!t.ok){const p=t?.data?.message||"AI ì¶”ì²œì„ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.";throw new Error(p)}const i=t.data||{};i.name&&(l.value.name=i.name),i.description&&(l.value.description=i.description),h("AI ì¶”ì²œ ê²°ê³¼ë¥¼ ì ìš©í–ˆìŠµë‹ˆë‹¤.")}catch(a){console.error("AI ì¶”ì²œ ì‹¤íŒ¨:",a),h(`AI ì¶”ì²œ ì‹¤íŒ¨: ${a?.message||"ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”."}`)}finally{D.value=!1}},ge=a=>{const e=a.target.files[0];if(e){E.value=e;const o=URL.createObjectURL(e);R.value=o}},be=()=>{E.value=null,R.value="",l.value.bannerImage=null},fe=a=>{const e=Array.from(a.target.files),o=5-T.value.length;e.slice(0,o).forEach(t=>{T.value.push({id:Date.now()+Math.random(),url:URL.createObjectURL(t),file:t,isNew:!0})}),a.target.value=""},ke=a=>{T.value.splice(a,1)};return ts(async()=>{await Te(),Ve()}),(a,e)=>{const o=ls("RouterLink");return u(),r("div",{class:f(["register-page",{loading:$.value}])},[$.value?(u(),r("div",ds,"Loading...")):(u(),r("div",cs,[s("div",ms,[s("div",vs,[s("div",ps,[e[39]||(e[39]=s("h1",null,"ìˆ™ì†Œ ì •ë³´ ìˆ˜ì •",-1)),as(o,{class:"policy-link",to:{path:"/policy",query:{tab:"host"}},target:"_blank",rel:"noopener"},{default:os(()=>[...e[38]||(e[38]=[I(" ìˆ™ì†Œë“±ë¡ ì´ìš©ì•½ê´€ ë°”ë¡œê°€ê¸° ",-1)])]),_:1})])])]),s("div",gs,[s("div",{class:f(["approval-status-badge",l.value.approvalStatus.toLowerCase()])},m(l.value.approvalStatus==="APPROVED"?"ìŠ¹ì¸ì™„ë£Œ":l.value.approvalStatus==="PENDING"?"ìŠ¹ì¸ëŒ€ê¸°":"ìŠ¹ì¸ê±°ì ˆ"),3),s("div",{class:f(["toggle-wrapper",{disabled:l.value.approvalStatus!=="APPROVED"}])},[s("span",bs,m(l.value.isActive?"ìš´ì˜ ì¤‘":"ìš´ì˜ ì¤‘ì§€"),1),s("div",{class:f(["toggle-switch",{active:l.value.isActive,disabled:l.value.approvalStatus!=="APPROVED"}]),onClick:ze},[...e[40]||(e[40]=[s("div",{class:"toggle-slider"},null,-1)])],2)],2)])])),$.value?k("",!0):(u(),r("div",fs,[s("section",ks,[e[50]||(e[50]=s("h3",{class:"subsection-title"},"ê¸°ë³¸ì •ë³´",-1)),s("div",hs,[e[42]||(e[42]=s("label",null,[I("ë°°ë„ˆ ì´ë¯¸ì§€ "),s("span",{class:"required"},"*")],-1)),s("div",ys,[R.value||l.value.bannerImage?(u(),r("div",ws,[s("img",{src:R.value?R.value:l.value.bannerImage,class:"banner-preview"},null,8,Is),s("button",{type:"button",class:"remove-image-btn",onClick:be},"âœ•")])):(u(),r("label",_s,[s("input",{type:"file",accept:"image/*",onChange:ge},null,32),e[41]||(e[41]=s("div",{class:"upload-placeholder"},[s("span",{class:"upload-icon"},"ğŸ“·"),s("span",{class:"upload-text"},"ë°°ë„ˆ ì´ë¯¸ì§€ ì—…ë¡œë“œ"),s("span",{class:"upload-info"},"ê¶Œì¥ í¬ê¸°: 1200 x 400px")],-1))]))])]),s("div",Ps,[e[44]||(e[44]=s("label",null,"ìƒì„¸ ì´ë¯¸ì§€ (ìµœëŒ€ 5ì¥)",-1)),s("div",Cs,[s("div",As,[(u(!0),r(C,null,U(T.value,(t,i)=>(u(),r("div",{key:t.id,class:"detail-image-item"},[s("img",{src:t.url},null,8,Us),s("button",{type:"button",class:"remove-image-btn",onClick:p=>ke(i)},"âœ•",8,xs)]))),128)),T.value.length<5?(u(),r("label",Ts,[s("input",{type:"file",accept:"image/*",multiple:"",onChange:fe},null,32),e[43]||(e[43]=s("span",null,"+",-1))])):k("",!0)])])]),s("div",Gs,[s("button",{type:"button",class:"ai-suggest-btn",onClick:Qe,disabled:D.value},m(D.value?"AI ì¶”ì²œ ìƒì„± ì¤‘...":"AIë¡œ ìˆ™ì†Œ ì†Œê°œ ë°›ê¸°"),9,Rs),e[45]||(e[45]=s("p",{class:"ai-helper-note"},"í˜„ì¬ ì´ë¯¸ì§€ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìˆ™ì†Œëª…ê³¼ ì†Œê°œë¬¸ì„ ìë™ìœ¼ë¡œ ì œì•ˆí•©ë‹ˆë‹¤.",-1))]),s("div",Ns,[e[46]||(e[46]=s("label",null,[I("ìˆ™ì†Œëª… "),s("span",{class:"required"},"*")],-1)),v(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>l.value.name=t),placeholder:"ìˆ™ì†Œëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"},null,512),[[g,l.value.name]])]),s("div",Ss,[e[47]||(e[47]=s("label",null,"ìˆ™ì†Œìœ í˜•",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>l.value.type=t),readonly:"",class:"readonly-input"},null,512),[[g,l.value.type]])]),s("div",Os,[e[48]||(e[48]=s("label",null,"ëŒ€í‘œ ì—°ë½ì²˜",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>l.value.phone=t),readonly:"",class:"readonly-input"},null,512),[[g,l.value.phone]])]),s("div",Es,[e[49]||(e[49]=s("label",null,"ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>l.value.businessRegistrationNumber=t),readonly:"",class:"readonly-input"},null,512),[[g,l.value.businessRegistrationNumber]])])]),s("section",Vs,[e[54]||(e[54]=s("h3",{class:"subsection-title"},"ìˆ™ì†Œ ìƒì„¸ ì •ë³´",-1)),s("div",$s,[e[51]||(e[51]=s("label",null,"í•œ ì¤„ ì„¤ëª…",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=t=>l.value.shortDescription=t),placeholder:"ìˆ™ì†Œ ë¦¬ìŠ¤íŠ¸ì— í‘œì‹œë  ì§§ì€ ì†Œê°œê¸€ì…ë‹ˆë‹¤."},null,512),[[g,l.value.shortDescription]])]),s("div",Ds,[e[52]||(e[52]=s("label",null,[I("ìˆ™ì†Œ ì†Œê°œ(ìƒì„¸ì„¤ëª…) "),s("span",{class:"required"},"*")],-1)),v(s("textarea",{"onUpdate:modelValue":e[5]||(e[5]=t=>l.value.description=t),rows:"5",class:f({"input-error":_.value.description}),placeholder:"ìˆ™ì†Œì˜ ë§¤ë ¥ í¬ì¸íŠ¸, ì£¼ë³€ í™˜ê²½, í˜¸ìŠ¤íŒ… ìŠ¤íƒ€ì¼ ë“±ì„ ìƒì„¸íˆ ì ì–´ì£¼ì„¸ìš”."},null,2),[[g,l.value.description]]),_.value.description?(u(),r("span",Ls,m(_.value.description),1)):k("",!0)]),s("div",Ms,[e[53]||(e[53]=s("label",null,"SNS",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=t=>l.value.sns=t),placeholder:"@instagram_id"},null,512),[[g,l.value.sns]])])]),s("section",Fs,[e[59]||(e[59]=s("h3",{class:"subsection-title"},"ìˆ™ì†Œ ì´ë¯¸ì§€",-1)),s("div",Hs,[e[56]||(e[56]=s("label",null,[I("ë°°ë„ˆ ì´ë¯¸ì§€ "),s("span",{class:"required"},"*")],-1)),s("div",qs,[R.value||l.value.bannerImage?(u(),r("div",Bs,[s("img",{src:R.value?R.value:l.value.bannerImage,class:"banner-preview"},null,8,js),s("button",{type:"button",class:"remove-image-btn",onClick:be},"âœ•")])):(u(),r("label",zs,[s("input",{type:"file",accept:"image/*",onChange:ge},null,32),e[55]||(e[55]=s("div",{class:"upload-placeholder"},[s("span",{class:"upload-icon"},"ğŸ“·"),s("span",{class:"upload-text"},"ë°°ë„ˆ ì´ë¯¸ì§€ ì—…ë¡œë“œ"),s("span",{class:"upload-info"},"ê¶Œì¥ í¬ê¸°: 1200 x 400px")],-1))]))])]),s("div",Ks,[e[58]||(e[58]=s("label",null,"ìƒì„¸ ì´ë¯¸ì§€ (ìµœëŒ€ 5ì¥)",-1)),s("div",Js,[s("div",Ws,[(u(!0),r(C,null,U(T.value,(t,i)=>(u(),r("div",{key:t.id,class:"detail-image-item"},[s("img",{src:t.url},null,8,Ys),s("button",{type:"button",class:"remove-image-btn",onClick:p=>ke(i)},"âœ•",8,Xs)]))),128)),T.value.length<5?(u(),r("label",Qs,[s("input",{type:"file",accept:"image/*",multiple:"",onChange:fe},null,32),e[57]||(e[57]=s("span",null,"+",-1))])):k("",!0)])])])]),s("section",Zs,[e[64]||(e[64]=s("h3",{class:"subsection-title"},"ìœ„ì¹˜ ì •ë³´ (ìˆ˜ì • ë¶ˆê°€)",-1)),s("div",et,[e[60]||(e[60]=s("label",null,"ì‹œ/ë„",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=t=>l.value.city=t),readonly:"",class:"readonly-input"},null,512),[[g,l.value.city]])]),s("div",st,[e[61]||(e[61]=s("label",null,"êµ¬/êµ°",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=t=>l.value.district=t),readonly:"",class:"readonly-input"},null,512),[[g,l.value.district]])]),s("div",tt,[e[62]||(e[62]=s("label",null,"ì/ë©´/ë™",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=t=>l.value.township=t),readonly:"",class:"readonly-input"},null,512),[[g,l.value.township]])]),s("div",at,[e[63]||(e[63]=s("label",null,"ìƒì„¸ì£¼ì†Œ",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=t=>l.value.address=t),readonly:"",class:"readonly-input"},null,512),[[g,l.value.address]])]),s("div",ot,[s("div",{ref_key:"mapContainer",ref:F,class:"kakao-map"},null,512)])]),s("section",lt,[e[66]||(e[66]=s("h3",{class:"subsection-title"},"êµí†µ ë° ì£¼ì°¨ ì •ë³´",-1)),s("div",nt,[e[65]||(e[65]=s("label",null,"ì£¼ì°¨ì •ë³´",-1)),v(s("textarea",{"onUpdate:modelValue":e[11]||(e[11]=t=>l.value.parkingInfo=t),rows:"3",placeholder:"ì˜ˆ: ê±´ë¬¼ ë‚´ ë¬´ë£Œ ì£¼ì°¨ ê°€ëŠ¥"},null,512),[[g,l.value.parkingInfo]])])]),s("section",it,[e[71]||(e[71]=s("h3",{class:"subsection-title"},"ì²´í¬ì¸/ì•„ì›ƒ ì •ë³´",-1)),s("div",rt,[s("div",ut,[e[68]||(e[68]=s("label",null,[I("ì²´í¬ì¸ ì‹œê°„ "),s("span",{class:"required"},"*")],-1)),s("div",dt,[v(s("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>H.value=t),class:"time-select"},[(u(!0),r(C,null,U(ye(ie),t=>(u(),r("option",{key:t,value:t},m(t)+"ì‹œ",9,ct))),128))],512),[[L,H.value]]),e[67]||(e[67]=s("span",{class:"time-separator"},":",-1)),v(s("select",{"onUpdate:modelValue":e[13]||(e[13]=t=>q.value=t),class:"time-select"},[(u(),r(C,null,U(re,t=>s("option",{key:t,value:t},m(t)+"ë¶„",9,mt)),64))],512),[[L,q.value]])]),_.value.checkInTime?(u(),r("span",vt,m(_.value.checkInTime),1)):k("",!0)]),s("div",pt,[e[70]||(e[70]=s("label",null,[I("ì²´í¬ì•„ì›ƒ ì‹œê°„ "),s("span",{class:"required"},"*")],-1)),s("div",gt,[v(s("select",{"onUpdate:modelValue":e[14]||(e[14]=t=>B.value=t),class:"time-select"},[(u(!0),r(C,null,U(ye(ie),t=>(u(),r("option",{key:t,value:t},m(t)+"ì‹œ",9,bt))),128))],512),[[L,B.value]]),e[69]||(e[69]=s("span",{class:"time-separator"},":",-1)),v(s("select",{"onUpdate:modelValue":e[15]||(e[15]=t=>j.value=t),class:"time-select"},[(u(),r(C,null,U(re,t=>s("option",{key:t,value:t},m(t)+"ë¶„",9,ft)),64))],512),[[L,j.value]])]),_.value.checkOutTime?(u(),r("span",kt,m(_.value.checkOutTime),1)):k("",!0)])])]),s("section",ht,[e[75]||(e[75]=s("h3",{class:"subsection-title"},"í¸ì˜ ì‹œì„¤ & í…Œë§ˆ",-1)),s("div",yt,[e[73]||(e[73]=s("label",{class:"mb-2"},"í¸ì˜ ì‹œì„¤",-1)),s("div",wt,[(u(),r(C,null,U(Ue,t=>s("label",{key:t.id,class:f(["amenity-checkbox",{checked:ue(t.id)}])},[s("input",{type:"checkbox",checked:ue(t.id),onChange:i=>Se(t.id)},null,40,It),e[72]||(e[72]=s("span",{class:"checkmark"},null,-1)),s("span",_t,m(t.label),1)],2)),64))])]),s("div",Pt,[e[74]||(e[74]=s("label",{class:"mb-2"},"í…Œë§ˆ (ìµœëŒ€ 6ê°œ)",-1)),(u(!0),r(C,null,U(ne.value,(t,i)=>(u(),r("div",{key:i,class:"theme-category"},[s("div",Ct,m(t.label),1),s("div",At,[(u(!0),r(C,null,U(t.items,p=>(u(),r("label",{key:p,class:f(["theme-tag",{selected:de(p)}])},[s("input",{type:"checkbox",checked:de(p),onChange:y=>Oe(p)},null,40,Ut),I(" "+m(p),1)],2))),128))])]))),128))])]),s("section",xt,[e[80]||(e[80]=s("h3",{class:"subsection-title"},"ì •ì‚° ê³„ì¢Œ",-1)),s("div",Tt,[e[77]||(e[77]=s("label",null,"ì€í–‰ëª…",-1)),v(s("select",{"onUpdate:modelValue":e[16]||(e[16]=t=>l.value.bankName=t)},[e[76]||(e[76]=s("option",{value:"",disabled:""},"ì„ íƒí•´ì£¼ì„¸ìš”",-1)),(u(),r(C,null,U(Ne,t=>s("option",{key:t,value:t},m(t),9,Gt)),64))],512),[[L,l.value.bankName]])]),s("div",Rt,[e[78]||(e[78]=s("label",null,"ì˜ˆê¸ˆì£¼",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[17]||(e[17]=t=>l.value.accountHolder=t),placeholder:"ì˜ˆê¸ˆì£¼ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"},null,512),[[g,l.value.accountHolder]])]),s("div",Nt,[e[79]||(e[79]=s("label",null,"ê³„ì¢Œë²ˆí˜¸",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[18]||(e[18]=t=>l.value.accountNumber=t),placeholder:"'-' ì—†ì´ ìˆ«ìë§Œ ì…ë ¥",onInput:A},null,544),[[g,l.value.accountNumber]])])]),s("section",St,[e[110]||(e[110]=s("h3",{class:"subsection-title"},"ê°ì‹¤ ê´€ë¦¬",-1)),x.value.length>0?(u(),r("div",Ot,[(u(!0),r(C,null,U(x.value,t=>(u(),r("div",{key:t.id,class:"room-card"},[P.value!==t.id?(u(),r(C,{key:0},[s("div",Et,[s("h4",Vt,m(t.name),1),s("div",{class:f(["room-toggle",{disabled:l.value.approvalStatus!=="APPROVED"}])},[s("span",$t,m(t.isActive?"ìš´ì˜ ì¤‘":"ìš´ì˜ ì¤‘ì§€"),1),s("div",{class:f(["toggle-switch small",{active:t.isActive,disabled:l.value.approvalStatus!=="APPROVED"}]),onClick:i=>Ke(t)},[...e[81]||(e[81]=[s("div",{class:"toggle-slider"},null,-1)])],10,Dt)],2)]),s("div",Lt,[s("div",Mt,[e[82]||(e[82]=s("span",{class:"detail-label"},"ì£¼ì¤‘ ìš”ê¸ˆ",-1)),s("span",Ft,"â‚©"+m(Number(t.weekdayPrice).toLocaleString()),1)]),s("div",Ht,[e[83]||(e[83]=s("span",{class:"detail-label"},"ì£¼ë§ ìš”ê¸ˆ",-1)),s("span",qt,"â‚©"+m(Number(t.weekendPrice).toLocaleString()),1)]),s("div",Bt,[e[84]||(e[84]=s("span",{class:"detail-label"},"ì¸ì›",-1)),s("span",jt,m(t.minGuests)+"~"+m(t.maxGuests)+"ëª…",1)]),s("div",zt,[e[85]||(e[85]=s("span",{class:"detail-label"},"ì¹¨ëŒ€/ìš•ì‹¤",-1)),s("span",Kt,"ì¹¨ëŒ€ "+m(t.bedCount||0)+"ê°œ | ìš•ì‹¤ "+m(t.bathroomCount||0)+"ê°œ",1)])]),s("div",Jt,[s("button",{class:"room-btn edit",onClick:i=>He(t)},"ìˆ˜ì •",8,Wt),s("button",{class:"room-btn delete",onClick:i=>je(t.id)},"ì‚­ì œ",8,Yt)])],64)):(u(),r("div",Xt,[s("div",Qt,[e[86]||(e[86]=s("span",{class:"editing-badge"},"ìˆ˜ì • ì¤‘",-1)),s("h4",Zt,m(t.name),1)]),s("div",ea,[e[87]||(e[87]=s("label",null,[I("ê°ì‹¤ëª… "),s("span",{class:"required"},"*")],-1)),v(s("input",{type:"text","onUpdate:modelValue":e[19]||(e[19]=i=>n.value.name=i),class:f({"input-error":d.value.name}),placeholder:"ê°ì‹¤ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"},null,2),[[g,n.value.name]]),d.value.name?(u(),r("span",sa,m(d.value.name),1)):k("",!0)]),s("div",ta,[e[89]||(e[89]=s("label",null,[I("ê°ì‹¤ ëŒ€í‘œ ì´ë¯¸ì§€ "),s("span",{class:"required"},"*")],-1)),s("div",{class:f(["room-image-upload-area",{"upload-error":d.value.representativeImage}])},[n.value.representativeImagePreview?(u(),r("div",aa,[s("img",{src:n.value.representativeImagePreview,alt:"ê°ì‹¤ ëŒ€í‘œ ì´ë¯¸ì§€"},null,8,oa),s("button",{type:"button",class:"room-remove-image-btn",onClick:me},"âœ•")])):(u(),r("label",la,[s("input",{type:"file",accept:"image/*",onChange:ce,class:"hidden-file-input"},null,32),e[88]||(e[88]=s("div",{class:"room-upload-content"},[s("span",{class:"room-upload-icon"},"ğŸ“·"),s("span",{class:"room-upload-text"},"ì´ë¯¸ì§€ ì—…ë¡œë“œ")],-1))]))],2),d.value.representativeImage?(u(),r("span",na,m(d.value.representativeImage),1)):k("",!0)]),s("div",ia,[e[91]||(e[91]=s("label",null,"ìš´ì˜ ìƒíƒœ",-1)),s("div",{class:f(["room-status-toggle",{disabled:l.value.approvalStatus!=="APPROVED"}])},[s("span",ra,m(n.value.isActive?"ìš´ì˜ ì¤‘":"ìš´ì˜ ì¤‘ì§€"),1),s("div",{class:f(["toggle-switch small",{active:n.value.isActive,disabled:l.value.approvalStatus!=="APPROVED"}]),onClick:Je},[...e[90]||(e[90]=[s("div",{class:"toggle-slider"},null,-1)])],2),l.value.approvalStatus!=="APPROVED"?(u(),r("span",ua,"ìŠ¹ì¸ í›„ ë³€ê²½ ê°€ëŠ¥")):k("",!0)],2)]),s("div",da,[s("div",ca,[e[92]||(e[92]=s("label",null,[I("ì£¼ì¤‘ ìš”ê¸ˆ "),s("span",{class:"required"},"*")],-1)),v(s("input",{type:"number","onUpdate:modelValue":e[20]||(e[20]=i=>n.value.weekdayPrice=i),class:f({"input-error":d.value.weekdayPrice}),onInput:A},null,34),[[g,n.value.weekdayPrice]]),d.value.weekdayPrice?(u(),r("span",ma,m(d.value.weekdayPrice),1)):k("",!0)]),s("div",va,[e[93]||(e[93]=s("label",null,[I("ì£¼ë§ ìš”ê¸ˆ "),s("span",{class:"required"},"*")],-1)),v(s("input",{type:"number","onUpdate:modelValue":e[21]||(e[21]=i=>n.value.weekendPrice=i),class:f({"input-error":d.value.weekendPrice}),onInput:A},null,34),[[g,n.value.weekendPrice]]),d.value.weekendPrice?(u(),r("span",pa,m(d.value.weekendPrice),1)):k("",!0)])]),s("div",ga,[s("div",ba,[e[94]||(e[94]=s("label",null,"ìµœì†Œ ì¸ì›",-1)),v(s("input",{type:"number","onUpdate:modelValue":e[22]||(e[22]=i=>n.value.minGuests=i),class:f({"input-error":d.value.minGuests}),onInput:A},null,34),[[g,n.value.minGuests]]),d.value.minGuests?(u(),r("span",fa,m(d.value.minGuests),1)):k("",!0)]),s("div",ka,[e[95]||(e[95]=s("label",null,"ìµœëŒ€ ì¸ì›",-1)),v(s("input",{type:"number","onUpdate:modelValue":e[23]||(e[23]=i=>n.value.maxGuests=i),class:f({"input-error":d.value.maxGuests}),onInput:A},null,34),[[g,n.value.maxGuests]]),d.value.maxGuests?(u(),r("span",ha,m(d.value.maxGuests),1)):k("",!0)])]),s("div",ya,[s("div",wa,[e[96]||(e[96]=s("label",null,"ì¹¨ëŒ€ ê°œìˆ˜",-1)),v(s("input",{"onUpdate:modelValue":e[24]||(e[24]=i=>n.value.bedCount=i),type:"number",onInput:A},null,544),[[g,n.value.bedCount]])]),s("div",Ia,[e[97]||(e[97]=s("label",null,"ìš•ì‹¤ ê°œìˆ˜",-1)),v(s("input",{"onUpdate:modelValue":e[25]||(e[25]=i=>n.value.bathroomCount=i),type:"number",onInput:A},null,544),[[g,n.value.bathroomCount]])])]),s("div",_a,[e[98]||(e[98]=s("label",null,"ê°ì‹¤ ì„¤ëª…",-1)),v(s("textarea",{"onUpdate:modelValue":e[26]||(e[26]=i=>n.value.description=i),rows:"3"},null,512),[[g,n.value.description]])]),s("div",Pa,[(u(!0),r(C,null,U(a.roomAmenityOptions,(i,p)=>(u(),r("div",{key:p,class:"room-amenity-category"},[s("div",Ca,m(i.label),1),s("div",Aa,[(u(!0),r(C,null,U(i.items,y=>(u(),r("label",{key:y,class:f(["room-amenity-tag",{selected:n.value.amenities.includes(y)}])},[s("input",{type:"checkbox",checked:n.value.amenities.includes(y),onChange:c=>a.toggleRoomAmenity(y)},null,40,Ua),I(" "+m(y),1)],2))),128))])]))),128))]),s("div",{class:"room-form-actions"},[s("button",{class:"btn-outline",onClick:qe},"ì·¨ì†Œ"),s("button",{class:"btn-primary",onClick:ve},"ìˆ˜ì •")])]))]))),128))])):(u(),r("p",{key:1,class:f(["no-rooms",{"no-rooms-error":_.value.rooms}])},[e[99]||(e[99]=I(" ë“±ë¡ëœ ê°ì‹¤ì´ ì—†ìŠµë‹ˆë‹¤. ",-1)),_.value.rooms?(u(),r("span",xa,m(_.value.rooms),1)):k("",!0)],2)),!N.value&&!P.value?(u(),r("button",{key:2,class:"add-room-btn",onClick:Be}," + ê°ì‹¤ ì¶”ê°€í•˜ê¸° ")):k("",!0),N.value&&!P.value?(u(),r("div",Ta,[s("h4",Ga,m(P.value?"ê°ì‹¤ ìˆ˜ì •":"ìƒˆ ê°ì‹¤ ì¶”ê°€"),1),s("div",Ra,[e[100]||(e[100]=s("label",null,[I("ê°ì‹¤ëª… "),s("span",{class:"required"},"*")],-1)),v(s("input",{type:"text","onUpdate:modelValue":e[27]||(e[27]=t=>n.value.name=t),class:f({"input-error":d.value.name}),placeholder:"ê°ì‹¤ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"},null,2),[[g,n.value.name]]),d.value.name?(u(),r("span",Na,m(d.value.name),1)):k("",!0)]),s("div",Sa,[e[102]||(e[102]=s("label",null,[I("ê°ì‹¤ ëŒ€í‘œ ì´ë¯¸ì§€ "),s("span",{class:"required"},"*")],-1)),s("div",{class:f(["room-image-upload-area",{"upload-error":d.value.representativeImage}])},[n.value.representativeImagePreview?(u(),r("div",Oa,[s("img",{src:n.value.representativeImagePreview,alt:"ê°ì‹¤ ëŒ€í‘œ ì´ë¯¸ì§€"},null,8,Ea),s("button",{type:"button",class:"room-remove-image-btn",onClick:me},"âœ•")])):(u(),r("label",Va,[s("input",{type:"file",accept:"image/*",onChange:ce,class:"hidden-file-input"},null,32),e[101]||(e[101]=s("div",{class:"room-upload-content"},[s("span",{class:"room-upload-icon"},"ğŸ“·"),s("span",{class:"room-upload-text"},"ì´ë¯¸ì§€ ì—…ë¡œë“œ")],-1))]))],2),d.value.representativeImage?(u(),r("span",$a,m(d.value.representativeImage),1)):k("",!0)]),s("div",Da,[s("div",La,[e[103]||(e[103]=s("label",null,[I("ì£¼ì¤‘ ìš”ê¸ˆ "),s("span",{class:"required"},"*")],-1)),v(s("input",{type:"number","onUpdate:modelValue":e[28]||(e[28]=t=>n.value.weekdayPrice=t),class:f({"input-error":d.value.weekdayPrice}),onInput:A},null,34),[[g,n.value.weekdayPrice]]),d.value.weekdayPrice?(u(),r("span",Ma,m(d.value.weekdayPrice),1)):k("",!0)]),s("div",Fa,[e[104]||(e[104]=s("label",null,[I("ì£¼ë§ ìš”ê¸ˆ "),s("span",{class:"required"},"*")],-1)),v(s("input",{type:"number","onUpdate:modelValue":e[29]||(e[29]=t=>n.value.weekendPrice=t),class:f({"input-error":d.value.weekendPrice}),onInput:A},null,34),[[g,n.value.weekendPrice]]),d.value.weekendPrice?(u(),r("span",Ha,m(d.value.weekendPrice),1)):k("",!0)])]),s("div",qa,[s("div",Ba,[e[105]||(e[105]=s("label",null,"ìµœì†Œ ì¸ì›",-1)),v(s("input",{type:"number","onUpdate:modelValue":e[30]||(e[30]=t=>n.value.minGuests=t),class:f({"input-error":d.value.minGuests}),onInput:A},null,34),[[g,n.value.minGuests]]),d.value.minGuests?(u(),r("span",ja,m(d.value.minGuests),1)):k("",!0)]),s("div",za,[e[106]||(e[106]=s("label",null,"ìµœëŒ€ ì¸ì›",-1)),v(s("input",{type:"number","onUpdate:modelValue":e[31]||(e[31]=t=>n.value.maxGuests=t),class:f({"input-error":d.value.maxGuests}),onInput:A},null,34),[[g,n.value.maxGuests]]),d.value.maxGuests?(u(),r("span",Ka,m(d.value.maxGuests),1)):k("",!0)])]),s("div",Ja,[s("div",Wa,[e[107]||(e[107]=s("label",null,"ì¹¨ëŒ€ ê°œìˆ˜",-1)),v(s("input",{"onUpdate:modelValue":e[32]||(e[32]=t=>n.value.bedCount=t),type:"number",onInput:A},null,544),[[g,n.value.bedCount]])]),s("div",Ya,[e[108]||(e[108]=s("label",null,"ìš•ì‹¤ ê°œìˆ˜",-1)),v(s("input",{"onUpdate:modelValue":e[33]||(e[33]=t=>n.value.bathroomCount=t),type:"number",onInput:A},null,544),[[g,n.value.bathroomCount]])])]),s("div",Xa,[e[109]||(e[109]=s("label",null,"ê°ì‹¤ ì„¤ëª…",-1)),v(s("textarea",{"onUpdate:modelValue":e[34]||(e[34]=t=>n.value.description=t),rows:"3"},null,512),[[g,n.value.description]])]),s("div",Qa,[s("button",{class:"btn-outline",onClick:e[35]||(e[35]=t=>N.value=!1)},"ì·¨ì†Œ"),s("button",{class:"btn-primary",onClick:ve},m(P.value?"ìˆ˜ì •":"ë“±ë¡"),1)])])):k("",!0)]),s("div",Za,[s("button",{class:"btn-cancel",onClick:e[36]||(e[36]=t=>a.$router.push("/host/accommodation"))},"ì·¨ì†Œ"),s("button",{class:"btn-delete",onClick:We},"ìˆ™ì†Œ ì‚­ì œ"),s("button",{class:"btn-submit",onClick:Me},"ìˆ˜ì • ì™„ë£Œ")])])),J.value?(u(),r("div",{key:3,class:"modal-overlay",onClick:ae},[s("div",{class:"modal-content",onClick:e[37]||(e[37]=ns(()=>{},["stop"]))},[s("p",eo,m(se.value),1),s("button",{class:"modal-btn",onClick:ae},"í™•ì¸")])])):k("",!0)],2)}}},no=es(to,[["__scopeId","data-v-0ea37034"]]);export{no as default};
