import{_ as Ke,s as Je,r as g,y as ce,b as We,c as i,d as b,e as s,m as Ye,H as Qe,K as Xe,z as f,t as v,C as c,A as h,E as p,I as $,F as U,f as T,p as pe,n as Ze,G as D,v as es,k as ss,o as r}from"./index-D-t2vnuJ.js";const ts={key:0,class:"loading-spinner"},as={key:1,class:"page-header"},ls={class:"header-top"},os={class:"title-area"},ns={class:"title-row"},is={class:"header-controls"},rs={class:"toggle-label"},us={key:2,class:"form-content"},ds={class:"form-section"},ms={class:"form-group"},vs={class:"form-group"},cs={class:"form-group"},ps={class:"form-group"},gs={class:"form-section"},fs={class:"form-group"},ks={class:"form-group"},bs={key:0,class:"error-message"},ys={class:"form-group"},ws={class:"form-section"},hs={class:"form-group"},Is={class:"form-group"},Ps={class:"form-group"},_s={class:"form-group"},Cs={class:"form-group"},Us={class:"form-section"},xs={class:"form-group"},Ts={class:"form-section"},As={class:"form-row two-col"},Gs={class:"form-group"},Ns={class:"time-selector-group"},Ss=["value"],Rs=["value"],Os={key:0,class:"error-message"},Es={class:"form-group"},Vs={class:"time-selector-group"},$s=["value"],Ds=["value"],Ls={key:0,class:"error-message"},Ms={class:"form-section"},Fs={class:"form-group"},Hs={class:"amenities-grid"},qs=["checked","onChange"],Bs={class:"amenity-label"},js={class:"form-group mt-4"},zs={class:"theme-category-title"},Ks={class:"theme-tags"},Js=["checked","onChange"],Ws={class:"form-section"},Ys={class:"form-group"},Qs={class:"banner-upload-area"},Xs={key:0,class:"banner-preview-wrapper"},Zs=["src"],et={key:1,class:"upload-box"},st={class:"form-group"},tt={class:"detail-images-container"},at={class:"detail-images-preview"},lt=["src"],ot=["onClick"],nt={key:0,class:"add-detail-image"},it={class:"form-section"},rt={class:"form-group"},ut=["value"],dt={class:"form-group"},mt={class:"form-group"},vt={class:"form-section"},ct={key:0,class:"room-list"},pt={class:"room-header"},gt={class:"room-name"},ft={class:"toggle-label-small"},kt=["onClick"],bt={class:"room-details"},yt={class:"detail-row"},wt={class:"detail-value"},ht={class:"detail-row"},It={class:"detail-value"},Pt={class:"detail-row"},_t={class:"detail-value"},Ct={class:"detail-row"},Ut={class:"detail-value"},xt={class:"room-actions"},Tt=["onClick"],At=["onClick"],Gt={key:1,class:"room-form-inline"},Nt={class:"editing-room-header"},St={class:"editing-target-name"},Rt={class:"form-group"},Ot={key:0,class:"error-message"},Et={class:"form-group"},Vt={key:0,class:"room-image-preview"},$t=["src"],Dt={key:1,class:"room-upload-box"},Lt={key:0,class:"error-message"},Mt={class:"form-group"},Ft={class:"toggle-label-small"},Ht={key:0,class:"toggle-hint-small"},qt={class:"form-row two-col"},Bt={class:"form-group"},jt={key:0,class:"error-message"},zt={class:"form-group"},Kt={key:0,class:"error-message"},Jt={class:"form-row two-col"},Wt={class:"form-group"},Yt={key:0,class:"error-message"},Qt={class:"form-group"},Xt={key:0,class:"error-message"},Zt={class:"form-row two-col"},ea={class:"form-group"},sa={class:"form-group"},ta={class:"form-group"},aa={class:"room-amenities-section"},la={class:"room-amenity-label"},oa={class:"room-amenity-tags"},na=["checked","onChange"],ia={key:0,class:"error-message"},ra={key:3,class:"room-form"},ua={class:"room-form-title"},da={class:"form-group"},ma={key:0,class:"error-message"},va={class:"form-group"},ca={key:0,class:"room-image-preview"},pa=["src"],ga={key:1,class:"room-upload-box"},fa={key:0,class:"error-message"},ka={class:"form-row two-col"},ba={class:"form-group"},ya={key:0,class:"error-message"},wa={class:"form-group"},ha={key:0,class:"error-message"},Ia={class:"form-row two-col"},Pa={class:"form-group"},_a={key:0,class:"error-message"},Ca={class:"form-group"},Ua={key:0,class:"error-message"},xa={class:"form-row two-col"},Ta={class:"form-group"},Aa={class:"form-group"},Ga={class:"form-group"},Na={class:"room-form-actions"},Sa={class:"bottom-actions"},Ra={class:"modal-message"},Oa={__name:"HostAccommodationEdit",setup(Ea){const ge=Je(),j=ss(),S=ge.params.id,R="/api",fe="",Q=a=>a?a.startsWith("blob:")||a.startsWith("http")?a:`${fe}${a}`:"",O=g(!0),X=g(""),Z=g(!1),z=g(!1),ee=g(""),se=g(!1),y=a=>{ee.value=a,z.value=!0},te=()=>{z.value=!1,se.value&&j.push("/host/accommodation")},L=g(null),A=g(null),ae=g(null),le=g(null),ke={GUESTHOUSE:"ê²ŒìŠ¤íŠ¸í•˜ìš°ìŠ¤",PENSION:"íœì…˜",HOTEL:"í˜¸í…”",MOTEL:"ëª¨í…”",RESORT:"ë¦¬ì¡°íŠ¸",HANOK:"í•œì˜¥",CAMPING:"ìº í•‘/ê¸€ë¨í•‘"},be={ê²ŒìŠ¤íŠ¸í•˜ìš°ìŠ¤:"GUESTHOUSE",íœì…˜:"PENSION",í˜¸í…”:"HOTEL",ëª¨í…”:"MOTEL",ë¦¬ì¡°íŠ¸:"RESORT",í•œì˜¥:"HANOK","ìº í•‘/ê¸€ë¨í•‘":"CAMPING"},ye=[{id:1,label:"ë¬´ì„  ì¸í„°ë„·"},{id:2,label:"ì—ì–´ì»¨"},{id:3,label:"ë‚œë°©"},{id:4,label:"TV"}],oe=g({}),K=g([]),we={MEETING:"ë§Œë‚¨/ì†Œì…œ",PERSONA:"í˜ë¥´ì†Œë‚˜/ì„±í–¥",FACILITY:"ì‹œì„¤/í¸ì˜",FOOD:"ì‹ì‚¬",PLAY:"ë†€ê±°ë¦¬"},he=async()=>{try{const a=await fetch(`${R}/themes`);if(!a.ok)throw new Error("í…Œë§ˆ ë¡œë“œ ì‹¤íŒ¨");const e=await a.json();K.value=e;const l={};e.forEach(t=>{const d=t.themeCategory||"ETC";l[d]||(l[d]={label:we[d]||d,items:[]}),l[d].items.push(t.themeName)}),oe.value=l}catch(a){console.error("í…Œë§ˆ ë¡œë“œ ì‹¤íŒ¨:",a),y("í…Œë§ˆ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.")}},Ie=a=>{const e=K.value.find(l=>l.themeName===a);return e?e.id:void 0},Pe=a=>{const e=K.value.find(l=>l.id===a);return e?e.themeName:void 0},_e=["êµ­ë¯¼ì€í–‰","ì‹ í•œì€í–‰","ìš°ë¦¬ì€í–‰","í•˜ë‚˜ì€í–‰","ë†í˜‘","ì¹´ì¹´ì˜¤ë±…í¬","í† ìŠ¤ë±…í¬","ê¸°ì—…ì€í–‰"],o=g({name:"",type:"",phone:"",email:"",businessRegistrationNumber:"",city:"",district:"",township:"",address:"",latitude:null,longitude:null,description:"",shortDescription:"",transportInfo:"",checkInTime:"",checkOutTime:"",parkingInfo:"",sns:"",isActive:!0,approvalStatus:"PENDING",houseRules:"",amenities:[],themes:[],bannerImage:null,detailImages:[],bankName:"",accountHolder:"",accountNumber:""}),x=g([]),G=g([]),M=g(null),E=g(""),F=g(""),H=g(""),q=g(""),B=g(""),ne=Array.from({length:24},(a,e)=>String(e).padStart(2,"0")),ie=["00","30"];ce([F,H],([a,e])=>{a&&e&&(o.value.checkInTime=`${a}:${e}`)}),ce([q,B],([a,e])=>{a&&e&&(o.value.checkOutTime=`${a}:${e}`)});const Ce=a=>{const e=o.value.amenities.indexOf(a);e===-1?o.value.amenities.push(a):o.value.amenities.splice(e,1)},Ue=a=>{const e=o.value.themes.indexOf(a);if(e===-1){if(o.value.themes.length>=6){y("í…Œë§ˆëŠ” ìµœëŒ€ 6ê°œê¹Œì§€ ì„ íƒ ê°€ëŠ¥í•©ë‹ˆë‹¤.");return}o.value.themes.push(a)}else o.value.themes.splice(e,1)},re=a=>o.value.amenities.includes(a),ue=a=>o.value.themes.includes(a),xe=async()=>{try{const a=D(),e=await fetch(`${R}/reservations/accommodation/${S}`,{headers:{Authorization:`Bearer ${a}`}});if(e.ok){const t=(await e.json()).filter(d=>d.reservationStatus===2);return Z.value=t.length>0,Z.value}return!1}catch(a){return console.error("ì˜ˆì•½ í™•ì¸ ì˜¤ë¥˜:",a),!1}},Te=async()=>{O.value=!0,X.value="";try{const a=D(),e=await fetch(`${R}/accommodations/${S}`,{headers:{Authorization:`Bearer ${a}`}});if(!e.ok)throw new Error("ìˆ™ì†Œ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");const l=await e.json();if(o.value={name:l.accommodationsName,type:ke[l.accommodationsCategory]||l.accommodationsCategory,phone:l.phone,email:l.email||"",businessRegistrationNumber:l.businessRegistrationNumber,city:l.city,district:l.district,township:l.township,address:l.addressDetail,latitude:l.latitude,longitude:l.longitude,description:l.accommodationsDescription,shortDescription:l.shortDescription,transportInfo:l.transportInfo,parkingInfo:l.parkingInfo,sns:l.sns,checkInTime:l.checkInTime||"",checkOutTime:l.checkOutTime||"",isActive:l.accommodationStatus===1,approvalStatus:l.approvalStatus||"PENDING",amenities:l.amenityIds||[],themes:l.themeIds?l.themeIds.map(t=>Pe(t)).filter(Boolean):[],bankName:l.bankName,accountNumber:l.accountNumber,accountHolder:l.accountHolder,bannerImage:null,detailImages:[]},l.images){const t=l.images.find(k=>k.imageType==="banner");t&&(o.value.bannerImage=Q(t.imageUrl));const d=l.images.filter(k=>k.imageType==="detail").sort((k,w)=>k.sortOrder-w.sortOrder);G.value=d.map((k,w)=>({id:k.id||w,url:Q(k.imageUrl),file:null,isNew:!1}))}if(l.checkInTime){const[t,d]=l.checkInTime.split(":");F.value=t?t.padStart(2,"0"):"",H.value=d?d.padStart(2,"0"):"00",o.value.checkInTime=l.checkInTime}if(l.checkOutTime){const[t,d]=l.checkOutTime.split(":");q.value=t?t.padStart(2,"0"):"",B.value=d?d.padStart(2,"0"):"00",o.value.checkOutTime=l.checkOutTime}l.rooms&&(x.value=l.rooms.map(t=>({id:t.roomId,name:t.roomName,weekdayPrice:t.price,weekendPrice:t.weekendPrice,minGuests:t.minGuests,maxGuests:t.maxGuests,bedCount:t.bedCount,bathroomCount:t.bathroomCount,description:t.roomDescription,mainImageUrl:t.mainImageUrl,amenities:t.amenities||[],isActive:t.roomStatus===1})))}catch(a){console.error("Load Error:",a),X.value=a.message}finally{O.value=!1,await es(),await Ne(),setTimeout(()=>{Ae()},200)}},Ae=()=>{!window.kakao||!window.kakao.maps||!L.value||window.kakao.maps.load(()=>{le.value=new window.kakao.maps.services.Geocoder;const a=parseFloat(o.value.latitude),e=parseFloat(o.value.longitude);if(isNaN(a)||isNaN(e)){const d=`${o.value.city} ${o.value.district} ${o.value.township} ${o.value.address}`.trim();console.warn("Invalid coordinates, attempting fallback with address:",d),d&&le.value.addressSearch(d,(k,w)=>{if(w===window.kakao.maps.services.Status.OK){const m=k[0].y,_=k[0].x;o.value.latitude=m,o.value.longitude=_;const V=new window.kakao.maps.LatLng(m,_),ze={center:V,level:3};A.value=new window.kakao.maps.Map(L.value,ze),ae.value=new window.kakao.maps.Marker({position:V,map:A.value}),setTimeout(()=>{A.value&&A.value.relayout()},100)}else console.error("Geocoding failed for address:",o.value.address)});return}const l=new window.kakao.maps.LatLng(a,e),t={center:l,level:3};A.value=new window.kakao.maps.Map(L.value,t),ae.value=new window.kakao.maps.Marker({position:l,map:A.value}),setTimeout(()=>{A.value&&A.value.relayout()},100)})},I=g({}),Ge=()=>{I.value={};let a=!0;const e=[];return o.value.description?.trim()||(I.value.description="ìˆ™ì†Œ ì†Œê°œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ìˆ™ì†Œ ì†Œê°œ"),a=!1),o.value.checkInTime||(I.value.checkInTime="ì²´í¬ì¸ ì‹œê°„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ì²´í¬ì¸ ì‹œê°„"),a=!1),o.value.checkOutTime||(I.value.checkOutTime="ì²´í¬ì•„ì›ƒ ì‹œê°„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ì²´í¬ì•„ì›ƒ ì‹œê°„"),a=!1),(!o.value.themes||o.value.themes.length===0)&&(e.push("í…Œë§ˆ (ìµœì†Œ 1ê°œ ì„ íƒ)"),a=!1),x.value.length===0&&(I.value.rooms="ë“±ë¡ëœ ê°ì‹¤ì´ ì—†ìŠµë‹ˆë‹¤.",a=!1),{isValid:a,errorMessages:e}},Ne=()=>new Promise(a=>{if(window.kakao&&window.kakao.maps)a();else{const e=setInterval(()=>{window.kakao&&window.kakao.maps&&(clearInterval(e),a())},100)}}),Se=async()=>{if(N.value){y("ì‘ì„± ì¤‘ì¸ ê°ì‹¤ ì •ë³´ë¥¼ ë¨¼ì € ì €ì¥(ë“±ë¡/ìˆ˜ì •)í•´ì£¼ì„¸ìš”.");return}const{isValid:a,errorMessages:e}=Ge();if(!a){y(`ë‹¤ìŒ í•­ëª©ì„ í™•ì¸í•´ì£¼ì„¸ìš”:
${e.join(", ")}`);return}for(const l of x.value){if(!l.name||!l.name.trim()){y("ê°ì‹¤ëª…ì´ ë¹„ì–´ìˆëŠ” ê°ì‹¤ì´ ìˆìŠµë‹ˆë‹¤.");return}if(!l.weekdayPrice||parseInt(l.weekdayPrice)<0){y(`[${l.name}] ê°ì‹¤ì˜ ì£¼ì¤‘ ìš”ê¸ˆì„ í™•ì¸í•´ì£¼ì„¸ìš”.`);return}if(l.weekendPrice===void 0||l.weekendPrice===""||parseInt(l.weekendPrice)<0){y(`[${l.name}] ê°ì‹¤ì˜ ì£¼ë§ ìš”ê¸ˆì„ í™•ì¸í•´ì£¼ì„¸ìš”.`);return}if(!l.minGuests||parseInt(l.minGuests)<1){y(`[${l.name}] ê°ì‹¤ì˜ ìµœì†Œ ì¸ì›ì€ 1ëª… ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.`);return}if(!l.maxGuests||parseInt(l.maxGuests)<1){y(`[${l.name}] ê°ì‹¤ì˜ ìµœëŒ€ ì¸ì›ì€ 1ëª… ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.`);return}if(parseInt(l.minGuests)>parseInt(l.maxGuests)){y(`[${l.name}] ê°ì‹¤ì˜ ìµœëŒ€ ì¸ì›ì€ ìµœì†Œ ì¸ì›ë³´ë‹¤ ì»¤ì•¼ í•©ë‹ˆë‹¤.`);return}}try{const l=await Promise.all(x.value.map(async m=>{let _=null;return m.representativeImage instanceof File?_=await Y(m.representativeImage):m.representativeImagePreview&&m.representativeImagePreview.startsWith("http")?_=m.representativeImagePreview:m.mainImageUrl&&(_=m.mainImageUrl),{roomId:typeof m.id=="number"&&m.id>1e10?null:m.id,roomName:m.name,price:parseInt(m.weekdayPrice),weekendPrice:parseInt(m.weekendPrice),minGuests:parseInt(m.minGuests),maxGuests:parseInt(m.maxGuests),roomDescription:m.description||"",mainImageUrl:_,bathroomCount:parseInt(m.bathroomCount)||0,roomType:"STANDARD",bedCount:parseInt(m.bedCount)||0,roomStatus:m.isActive?1:0,amenities:m.amenities||[]}})),t=[];if(M.value){const m=await Y(M.value);t.push({imageUrl:m,imageType:"banner",sortOrder:0})}else o.value.bannerImage&&t.push({imageUrl:o.value.bannerImage,imageType:"banner",sortOrder:0});for(let m=0;m<G.value.length;m++){const _=G.value[m];if(_.isNew&&_.file){const V=await Y(_.file);t.push({imageUrl:V,imageType:"detail",sortOrder:m+1})}else t.push({imageUrl:_.url,imageType:"detail",sortOrder:m+1})}const d={accommodationsName:o.value.name,accommodationsCategory:be[o.value.type]||o.value.type,accommodationsDescription:o.value.description,shortDescription:o.value.shortDescription||"",transportInfo:o.value.transportInfo||"",accommodationStatus:o.value.isActive?1:0,parkingInfo:o.value.parkingInfo||"",sns:o.value.sns||"",phone:o.value.phone,checkInTime:o.value.checkInTime,checkOutTime:o.value.checkOutTime,latitude:o.value.latitude,longitude:o.value.longitude,bankName:o.value.bankName,accountNumber:o.value.accountNumber,accountHolder:o.value.accountHolder,rooms:l,images:t,amenityIds:o.value.amenities,themeIds:o.value.themes.map(m=>Ie(m)).filter(m=>m!==void 0)};console.log("Update Request:",d);const k=D(),w=await fetch(`${R}/accommodations/${S}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k}`},body:JSON.stringify(d)});if(w.ok){se.value=!0;try{const m=sessionStorage.getItem("hostResubmitMap"),_=m?JSON.parse(m):{};_[String(S)]=Date.now(),sessionStorage.setItem("hostResubmitMap",JSON.stringify(_))}catch(m){console.warn("Failed to store resubmit timestamp",m)}y("ìˆ™ì†Œ ì •ë³´ê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.")}else w.status===401?(alert("ë¡œê·¸ì¸ ì„¸ì…˜ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”."),j.push("/login")):(console.error("Update failed status:",w.status),y("ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. (Status: "+w.status+")"))}catch(l){console.error("HandleUpdate Error:",l),y("ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: "+l.message)}},N=g(!1),n=g({name:"",weekdayPrice:"",weekendPrice:"",minGuests:"",maxGuests:"",bedCount:"",bathroomCount:"",description:"",amenities:[],representativeImage:null,representativeImagePreview:"",isActive:!0}),u=g({}),P=g(null),C=a=>{const e=a.target.value;/[^0-9]/.test(e)&&(a.target.value=e.replace(/[^0-9]/g,""),a.target.dispatchEvent(new Event("input")))},Re=()=>{u.value={};let a=!0;const e=[];n.value.name?.trim()||(u.value.name="ê°ì‹¤ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ê°ì‹¤ëª…"),a=!1);const l=t=>/^\d+$/.test(t);return(!n.value.weekdayPrice||!l(String(n.value.weekdayPrice))||parseInt(n.value.weekdayPrice)<=0)&&(u.value.weekdayPrice="ì£¼ì¤‘ ìš”ê¸ˆì„ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ì£¼ì¤‘ ìš”ê¸ˆ"),a=!1),(!n.value.weekendPrice||!l(String(n.value.weekendPrice))||parseInt(n.value.weekendPrice)<=0)&&(u.value.weekendPrice="ì£¼ë§ ìš”ê¸ˆì„ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ì£¼ë§ ìš”ê¸ˆ"),a=!1),(!n.value.minGuests||!l(String(n.value.minGuests))||parseInt(n.value.minGuests)<1)&&(u.value.minGuests="ìµœì†Œ ì¸ì›ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ìµœì†Œ ì¸ì›"),a=!1),(!n.value.maxGuests||!l(String(n.value.maxGuests))||parseInt(n.value.maxGuests)<1)&&(u.value.maxGuests="ìµœëŒ€ ì¸ì›ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ìµœëŒ€ ì¸ì›"),a=!1),parseInt(n.value.minGuests)>parseInt(n.value.maxGuests)&&(u.value.maxGuests="ìµœëŒ€ ì¸ì›ì€ ìµœì†Œ ì¸ì›ë³´ë‹¤ ì»¤ì•¼ í•©ë‹ˆë‹¤.",a=!1),n.value.bedCount&&!l(String(n.value.bedCount))&&(u.value.bedCount="ì¹¨ëŒ€ ìˆ˜ëŠ” ìˆ«ìë§Œ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ì¹¨ëŒ€ ìˆ˜"),a=!1),n.value.bathroomCount&&!l(String(n.value.bathroomCount))&&(u.value.bathroomCount="ìš•ì‹¤ ìˆ˜ëŠ” ìˆ«ìë§Œ ì…ë ¥í•´ì£¼ì„¸ìš”.",e.push("ìš•ì‹¤ ìˆ˜"),a=!1),!n.value.representativeImage&&!n.value.representativeImagePreview&&(u.value.representativeImage="ëŒ€í‘œ ì´ë¯¸ì§€ë¥¼ ë“±ë¡í•´ì£¼ì„¸ìš”.",e.push("ëŒ€í‘œ ì´ë¯¸ì§€"),a=!1),u.value._errorFields=e,a},de=a=>{const e=a.target.files[0];e&&(n.value.representativeImage=e,n.value.representativeImagePreview=URL.createObjectURL(e))},me=()=>{n.value.representativeImage=null,n.value.representativeImagePreview=""},ve=()=>{if(!Re()){const l=u.value._errorFields||[];l.length>0?y(`ë‹¤ìŒ í•­ëª©ì„ í™•ì¸í•´ì£¼ì„¸ìš”: ${l.join(", ")}`):y("ê°ì‹¤ ì •ë³´ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.");return}let a=null;if(P.value){const l=x.value.find(t=>t.id===P.value);l&&(a=l.mainImageUrl)}const e={id:P.value||Date.now(),...n.value,weekdayPrice:parseInt(n.value.weekdayPrice),weekendPrice:parseInt(n.value.weekendPrice),minGuests:parseInt(n.value.minGuests),maxGuests:parseInt(n.value.maxGuests),bedCount:parseInt(n.value.bedCount)||0,bathroomCount:parseInt(n.value.bathroomCount)||0,amenities:[...n.value.amenities],mainImageUrl:n.value.representativeImage?null:a,representativeImage:n.value.representativeImage,representativeImagePreview:n.value.representativeImagePreview};if(P.value){const l=x.value.findIndex(t=>t.id===P.value);l!==-1&&(x.value[l]=e)}else x.value.push(e);N.value=!1,W(),y(P.value?"ê°ì‹¤ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.":"ê°ì‹¤ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤."),P.value=null},Oe=a=>{P.value=a.id,n.value={...a},a.mainImageUrl?n.value.representativeImagePreview=a.mainImageUrl:a.representativeImagePreview&&(n.value.representativeImagePreview=a.representativeImagePreview),N.value=!1},Ee=()=>{P.value=null,W()},Ve=()=>{W(),P.value=null,N.value=!0},$e=async a=>{if(confirm("ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?"))try{const e=D(),l=await fetch(`${R}/rooms/${S}/${a}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}});if(l.ok)x.value=x.value.filter(t=>t.id!==a),alert("ê°ì‹¤ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.");else{const t=await l.json().catch(()=>({}));alert(t.message||"ê°ì‹¤ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}}catch(e){console.error("ê°ì‹¤ ì‚­ì œ ì˜¤ë¥˜:",e),alert("ê°ì‹¤ ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}},J=()=>o.value.approvalStatus==="APPROVED",De=()=>{if(!J()){y("ê´€ë¦¬ì ìŠ¹ì¸ í›„ ìš´ì˜ ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.");return}o.value.isActive&&alert("ìˆ™ì†Œ ìš´ì˜ ìƒíƒœê°€ ë¹„í™œì„±í™” ë˜ì—ˆìŠµë‹ˆë‹¤"),o.value.isActive=!o.value.isActive},Le=a=>{if(!J()){y("ê´€ë¦¬ì ìŠ¹ì¸ í›„ ê°ì‹¤ ìš´ì˜ ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.");return}a.isActive&&alert("ê°ì‹¤ ìš´ì˜ ìƒíƒœê°€ ë¹„í™œì„±í™” ë˜ì—ˆìŠµë‹ˆë‹¤ "),a.isActive=!a.isActive},Me=()=>{if(!J()){y("ê´€ë¦¬ì ìŠ¹ì¸ í›„ ê°ì‹¤ ìš´ì˜ ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.");return}n.value.isActive&&alert("ê°ì‹¤ ì‚¬ìš© ì¤‘ì§€"),n.value.isActive=!n.value.isActive},Fe=async()=>{if(await xe()){alert("ì˜ˆì•½ëœ ì •ë³´ê°€ ìˆì–´ ì‚­ì œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");return}if(confirm("ì •ë§ ìˆ™ì†Œë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."))try{const e=D();(await fetch(`${R}/accommodations/${S}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}})).ok?(alert("ìˆ™ì†Œê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."),j.push("/host/accommodation")):alert("ìˆ™ì†Œ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}catch(e){console.error("ìˆ™ì†Œ ì‚­ì œ ì˜¤ë¥˜:",e),alert("ìˆ™ì†Œ ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}},W=()=>{n.value={name:"",weekdayPrice:"",weekendPrice:"",minGuests:"",maxGuests:"",bedCount:"",bathroomCount:"",description:"",amenities:[],representativeImage:null,representativeImagePreview:"",isActive:!0},u.value={}},Y=a=>new Promise((e,l)=>{const t=new FileReader;t.onload=()=>e(t.result),t.onerror=l,t.readAsDataURL(a)}),He=a=>{const e=a.target.files[0];if(e){M.value=e;const l=URL.createObjectURL(e);E.value=l}},qe=()=>{M.value=null,E.value="",o.value.bannerImage=null},Be=a=>{const e=Array.from(a.target.files),l=5-G.value.length;e.slice(0,l).forEach(t=>{G.value.push({id:Date.now()+Math.random(),url:URL.createObjectURL(t),file:t,isNew:!0})}),a.target.value=""},je=a=>{G.value.splice(a,1)};return We(async()=>{await he(),Te()}),(a,e)=>{const l=Xe("RouterLink");return r(),i("div",{class:f(["register-page",{loading:O.value}])},[O.value?(r(),i("div",ts,"Loading...")):(r(),i("div",as,[s("div",ls,[s("div",os,[s("div",ns,[e[39]||(e[39]=s("h1",null,"ìˆ™ì†Œ ì •ë³´ ìˆ˜ì •",-1)),Ye(l,{class:"policy-link",to:{path:"/policy",query:{tab:"host"}},target:"_blank",rel:"noopener"},{default:Qe(()=>[...e[38]||(e[38]=[h(" ìˆ™ì†Œë“±ë¡ ì´ìš©ì•½ê´€ ë°”ë¡œê°€ê¸° ",-1)])]),_:1})])])]),s("div",is,[s("div",{class:f(["approval-status-badge",o.value.approvalStatus.toLowerCase()])},v(o.value.approvalStatus==="APPROVED"?"ìŠ¹ì¸ì™„ë£Œ":o.value.approvalStatus==="PENDING"?"ìŠ¹ì¸ëŒ€ê¸°":"ìŠ¹ì¸ê±°ì ˆ"),3),s("div",{class:f(["toggle-wrapper",{disabled:o.value.approvalStatus!=="APPROVED"}])},[s("span",rs,v(o.value.isActive?"ìš´ì˜ ì¤‘":"ìš´ì˜ ì¤‘ì§€"),1),s("div",{class:f(["toggle-switch",{active:o.value.isActive,disabled:o.value.approvalStatus!=="APPROVED"}]),onClick:De},[...e[40]||(e[40]=[s("div",{class:"toggle-slider"},null,-1)])],2)],2)])])),O.value?b("",!0):(r(),i("div",us,[s("section",ds,[e[45]||(e[45]=s("h3",{class:"subsection-title"},"ê¸°ë³¸ì •ë³´",-1)),s("div",ms,[e[41]||(e[41]=s("label",null,[h("ìˆ™ì†Œëª… "),s("span",{class:"required"},"*")],-1)),c(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.value.name=t),placeholder:"ìˆ™ì†Œëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"},null,512),[[p,o.value.name]])]),s("div",vs,[e[42]||(e[42]=s("label",null,"ìˆ™ì†Œìœ í˜•",-1)),c(s("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.value.type=t),readonly:"",class:"readonly-input"},null,512),[[p,o.value.type]])]),s("div",cs,[e[43]||(e[43]=s("label",null,"ëŒ€í‘œ ì—°ë½ì²˜",-1)),c(s("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>o.value.phone=t),readonly:"",class:"readonly-input"},null,512),[[p,o.value.phone]])]),s("div",ps,[e[44]||(e[44]=s("label",null,"ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸",-1)),c(s("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.value.businessRegistrationNumber=t),readonly:"",class:"readonly-input"},null,512),[[p,o.value.businessRegistrationNumber]])])]),s("section",gs,[e[49]||(e[49]=s("h3",{class:"subsection-title"},"ìˆ™ì†Œ ìƒì„¸ ì •ë³´",-1)),s("div",fs,[e[46]||(e[46]=s("label",null,"í•œ ì¤„ ì„¤ëª…",-1)),c(s("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=t=>o.value.shortDescription=t),placeholder:"ìˆ™ì†Œ ë¦¬ìŠ¤íŠ¸ì— í‘œì‹œë  ì§§ì€ ì†Œê°œê¸€ì…ë‹ˆë‹¤."},null,512),[[p,o.value.shortDescription]])]),s("div",ks,[e[47]||(e[47]=s("label",null,[h("ìˆ™ì†Œ ì†Œê°œ(ìƒì„¸ì„¤ëª…) "),s("span",{class:"required"},"*")],-1)),c(s("textarea",{"onUpdate:modelValue":e[5]||(e[5]=t=>o.value.description=t),rows:"5",class:f({"input-error":I.value.description}),placeholder:"ìˆ™ì†Œì˜ ë§¤ë ¥ í¬ì¸íŠ¸, ì£¼ë³€ í™˜ê²½, í˜¸ìŠ¤íŒ… ìŠ¤íƒ€ì¼ ë“±ì„ ìƒì„¸íˆ ì ì–´ì£¼ì„¸ìš”."},null,2),[[p,o.value.description]]),I.value.description?(r(),i("span",bs,v(I.value.description),1)):b("",!0)]),s("div",ys,[e[48]||(e[48]=s("label",null,"SNS",-1)),c(s("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=t=>o.value.sns=t),placeholder:"@instagram_id"},null,512),[[p,o.value.sns]])])]),s("section",ws,[e[54]||(e[54]=s("h3",{class:"subsection-title"},"ìœ„ì¹˜ ì •ë³´ (ìˆ˜ì • ë¶ˆê°€)",-1)),s("div",hs,[e[50]||(e[50]=s("label",null,"ì‹œ/ë„",-1)),c(s("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=t=>o.value.city=t),readonly:"",class:"readonly-input"},null,512),[[p,o.value.city]])]),s("div",Is,[e[51]||(e[51]=s("label",null,"êµ¬/êµ°",-1)),c(s("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=t=>o.value.district=t),readonly:"",class:"readonly-input"},null,512),[[p,o.value.district]])]),s("div",Ps,[e[52]||(e[52]=s("label",null,"ì/ë©´/ë™",-1)),c(s("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=t=>o.value.township=t),readonly:"",class:"readonly-input"},null,512),[[p,o.value.township]])]),s("div",_s,[e[53]||(e[53]=s("label",null,"ìƒì„¸ì£¼ì†Œ",-1)),c(s("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=t=>o.value.address=t),readonly:"",class:"readonly-input"},null,512),[[p,o.value.address]])]),s("div",Cs,[s("div",{ref_key:"mapContainer",ref:L,class:"kakao-map"},null,512)])]),s("section",Us,[e[56]||(e[56]=s("h3",{class:"subsection-title"},"êµí†µ ë° ì£¼ì°¨ ì •ë³´",-1)),s("div",xs,[e[55]||(e[55]=s("label",null,"ì£¼ì°¨ì •ë³´",-1)),c(s("textarea",{"onUpdate:modelValue":e[11]||(e[11]=t=>o.value.parkingInfo=t),rows:"3",placeholder:"ì˜ˆ: ê±´ë¬¼ ë‚´ ë¬´ë£Œ ì£¼ì°¨ ê°€ëŠ¥"},null,512),[[p,o.value.parkingInfo]])])]),s("section",Ts,[e[61]||(e[61]=s("h3",{class:"subsection-title"},"ì²´í¬ì¸/ì•„ì›ƒ ì •ë³´",-1)),s("div",As,[s("div",Gs,[e[58]||(e[58]=s("label",null,[h("ì²´í¬ì¸ ì‹œê°„ "),s("span",{class:"required"},"*")],-1)),s("div",Ns,[c(s("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>F.value=t),class:"time-select"},[(r(!0),i(U,null,T(pe(ne),t=>(r(),i("option",{key:t,value:t},v(t)+"ì‹œ",9,Ss))),128))],512),[[$,F.value]]),e[57]||(e[57]=s("span",{class:"time-separator"},":",-1)),c(s("select",{"onUpdate:modelValue":e[13]||(e[13]=t=>H.value=t),class:"time-select"},[(r(),i(U,null,T(ie,t=>s("option",{key:t,value:t},v(t)+"ë¶„",9,Rs)),64))],512),[[$,H.value]])]),I.value.checkInTime?(r(),i("span",Os,v(I.value.checkInTime),1)):b("",!0)]),s("div",Es,[e[60]||(e[60]=s("label",null,[h("ì²´í¬ì•„ì›ƒ ì‹œê°„ "),s("span",{class:"required"},"*")],-1)),s("div",Vs,[c(s("select",{"onUpdate:modelValue":e[14]||(e[14]=t=>q.value=t),class:"time-select"},[(r(!0),i(U,null,T(pe(ne),t=>(r(),i("option",{key:t,value:t},v(t)+"ì‹œ",9,$s))),128))],512),[[$,q.value]]),e[59]||(e[59]=s("span",{class:"time-separator"},":",-1)),c(s("select",{"onUpdate:modelValue":e[15]||(e[15]=t=>B.value=t),class:"time-select"},[(r(),i(U,null,T(ie,t=>s("option",{key:t,value:t},v(t)+"ë¶„",9,Ds)),64))],512),[[$,B.value]])]),I.value.checkOutTime?(r(),i("span",Ls,v(I.value.checkOutTime),1)):b("",!0)])])]),s("section",Ms,[e[65]||(e[65]=s("h3",{class:"subsection-title"},"í¸ì˜ ì‹œì„¤ & í…Œë§ˆ",-1)),s("div",Fs,[e[63]||(e[63]=s("label",{class:"mb-2"},"í¸ì˜ ì‹œì„¤",-1)),s("div",Hs,[(r(),i(U,null,T(ye,t=>s("label",{key:t.id,class:f(["amenity-checkbox",{checked:re(t.id)}])},[s("input",{type:"checkbox",checked:re(t.id),onChange:d=>Ce(t.id)},null,40,qs),e[62]||(e[62]=s("span",{class:"checkmark"},null,-1)),s("span",Bs,v(t.label),1)],2)),64))])]),s("div",js,[e[64]||(e[64]=s("label",{class:"mb-2"},"í…Œë§ˆ (ìµœëŒ€ 6ê°œ)",-1)),(r(!0),i(U,null,T(oe.value,(t,d)=>(r(),i("div",{key:d,class:"theme-category"},[s("div",zs,v(t.label),1),s("div",Ks,[(r(!0),i(U,null,T(t.items,k=>(r(),i("label",{key:k,class:f(["theme-tag",{selected:ue(k)}])},[s("input",{type:"checkbox",checked:ue(k),onChange:w=>Ue(k)},null,40,Js),h(" "+v(k),1)],2))),128))])]))),128))])]),s("section",Ws,[e[70]||(e[70]=s("h3",{class:"subsection-title"},"ìˆ™ì†Œ ì´ë¯¸ì§€",-1)),s("div",Ys,[e[67]||(e[67]=s("label",null,[h("ë°°ë„ˆ ì´ë¯¸ì§€ "),s("span",{class:"required"},"*")],-1)),s("div",Qs,[E.value||o.value.bannerImage?(r(),i("div",Xs,[s("img",{src:E.value?E.value:o.value.bannerImage,class:"banner-preview"},null,8,Zs),s("button",{type:"button",class:"remove-image-btn",onClick:qe},"âœ•")])):(r(),i("label",et,[s("input",{type:"file",accept:"image/*",onChange:He},null,32),e[66]||(e[66]=s("div",{class:"upload-placeholder"},[s("span",{class:"upload-icon"},"ğŸ“·"),s("span",{class:"upload-text"},"ë°°ë„ˆ ì´ë¯¸ì§€ ì—…ë¡œë“œ"),s("span",{class:"upload-info"},"ê¶Œì¥ í¬ê¸°: 1200 x 400px")],-1))]))])]),s("div",st,[e[69]||(e[69]=s("label",null,"ìƒì„¸ ì´ë¯¸ì§€ (ìµœëŒ€ 5ì¥)",-1)),s("div",tt,[s("div",at,[(r(!0),i(U,null,T(G.value,(t,d)=>(r(),i("div",{key:t.id,class:"detail-image-item"},[s("img",{src:t.url},null,8,lt),s("button",{type:"button",class:"remove-image-btn",onClick:k=>je(d)},"âœ•",8,ot)]))),128)),G.value.length<5?(r(),i("label",nt,[s("input",{type:"file",accept:"image/*",multiple:"",onChange:Be},null,32),e[68]||(e[68]=s("span",null,"+",-1))])):b("",!0)])])])]),s("section",it,[e[75]||(e[75]=s("h3",{class:"subsection-title"},"ì •ì‚° ê³„ì¢Œ",-1)),s("div",rt,[e[72]||(e[72]=s("label",null,"ì€í–‰ëª…",-1)),c(s("select",{"onUpdate:modelValue":e[16]||(e[16]=t=>o.value.bankName=t)},[e[71]||(e[71]=s("option",{value:"",disabled:""},"ì„ íƒí•´ì£¼ì„¸ìš”",-1)),(r(),i(U,null,T(_e,t=>s("option",{key:t,value:t},v(t),9,ut)),64))],512),[[$,o.value.bankName]])]),s("div",dt,[e[73]||(e[73]=s("label",null,"ì˜ˆê¸ˆì£¼",-1)),c(s("input",{type:"text","onUpdate:modelValue":e[17]||(e[17]=t=>o.value.accountHolder=t),placeholder:"ì˜ˆê¸ˆì£¼ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"},null,512),[[p,o.value.accountHolder]])]),s("div",mt,[e[74]||(e[74]=s("label",null,"ê³„ì¢Œë²ˆí˜¸",-1)),c(s("input",{type:"text","onUpdate:modelValue":e[18]||(e[18]=t=>o.value.accountNumber=t),placeholder:"'-' ì—†ì´ ìˆ«ìë§Œ ì…ë ¥",onInput:C},null,544),[[p,o.value.accountNumber]])])]),s("section",vt,[e[105]||(e[105]=s("h3",{class:"subsection-title"},"ê°ì‹¤ ê´€ë¦¬",-1)),x.value.length>0?(r(),i("div",ct,[(r(!0),i(U,null,T(x.value,t=>(r(),i("div",{key:t.id,class:"room-card"},[P.value!==t.id?(r(),i(U,{key:0},[s("div",pt,[s("h4",gt,v(t.name),1),s("div",{class:f(["room-toggle",{disabled:o.value.approvalStatus!=="APPROVED"}])},[s("span",ft,v(t.isActive?"ìš´ì˜ ì¤‘":"ìš´ì˜ ì¤‘ì§€"),1),s("div",{class:f(["toggle-switch small",{active:t.isActive,disabled:o.value.approvalStatus!=="APPROVED"}]),onClick:d=>Le(t)},[...e[76]||(e[76]=[s("div",{class:"toggle-slider"},null,-1)])],10,kt)],2)]),s("div",bt,[s("div",yt,[e[77]||(e[77]=s("span",{class:"detail-label"},"ì£¼ì¤‘ ìš”ê¸ˆ",-1)),s("span",wt,"â‚©"+v(Number(t.weekdayPrice).toLocaleString()),1)]),s("div",ht,[e[78]||(e[78]=s("span",{class:"detail-label"},"ì£¼ë§ ìš”ê¸ˆ",-1)),s("span",It,"â‚©"+v(Number(t.weekendPrice).toLocaleString()),1)]),s("div",Pt,[e[79]||(e[79]=s("span",{class:"detail-label"},"ì¸ì›",-1)),s("span",_t,v(t.minGuests)+"~"+v(t.maxGuests)+"ëª…",1)]),s("div",Ct,[e[80]||(e[80]=s("span",{class:"detail-label"},"ì¹¨ëŒ€/ìš•ì‹¤",-1)),s("span",Ut,"ì¹¨ëŒ€ "+v(t.bedCount||0)+"ê°œ | ìš•ì‹¤ "+v(t.bathroomCount||0)+"ê°œ",1)])]),s("div",xt,[s("button",{class:"room-btn edit",onClick:d=>Oe(t)},"ìˆ˜ì •",8,Tt),s("button",{class:"room-btn delete",onClick:d=>$e(t.id)},"ì‚­ì œ",8,At)])],64)):(r(),i("div",Gt,[s("div",Nt,[e[81]||(e[81]=s("span",{class:"editing-badge"},"ìˆ˜ì • ì¤‘",-1)),s("h4",St,v(t.name),1)]),s("div",Rt,[e[82]||(e[82]=s("label",null,[h("ê°ì‹¤ëª… "),s("span",{class:"required"},"*")],-1)),c(s("input",{type:"text","onUpdate:modelValue":e[19]||(e[19]=d=>n.value.name=d),class:f({"input-error":u.value.name}),placeholder:"ê°ì‹¤ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"},null,2),[[p,n.value.name]]),u.value.name?(r(),i("span",Ot,v(u.value.name),1)):b("",!0)]),s("div",Et,[e[84]||(e[84]=s("label",null,[h("ê°ì‹¤ ëŒ€í‘œ ì´ë¯¸ì§€ "),s("span",{class:"required"},"*")],-1)),s("div",{class:f(["room-image-upload-area",{"upload-error":u.value.representativeImage}])},[n.value.representativeImagePreview?(r(),i("div",Vt,[s("img",{src:n.value.representativeImagePreview,alt:"ê°ì‹¤ ëŒ€í‘œ ì´ë¯¸ì§€"},null,8,$t),s("button",{type:"button",class:"room-remove-image-btn",onClick:me},"âœ•")])):(r(),i("label",Dt,[s("input",{type:"file",accept:"image/*",onChange:de,class:"hidden-file-input"},null,32),e[83]||(e[83]=s("div",{class:"room-upload-content"},[s("span",{class:"room-upload-icon"},"ğŸ“·"),s("span",{class:"room-upload-text"},"ì´ë¯¸ì§€ ì—…ë¡œë“œ")],-1))]))],2),u.value.representativeImage?(r(),i("span",Lt,v(u.value.representativeImage),1)):b("",!0)]),s("div",Mt,[e[86]||(e[86]=s("label",null,"ìš´ì˜ ìƒíƒœ",-1)),s("div",{class:f(["room-status-toggle",{disabled:o.value.approvalStatus!=="APPROVED"}])},[s("span",Ft,v(n.value.isActive?"ìš´ì˜ ì¤‘":"ìš´ì˜ ì¤‘ì§€"),1),s("div",{class:f(["toggle-switch small",{active:n.value.isActive,disabled:o.value.approvalStatus!=="APPROVED"}]),onClick:Me},[...e[85]||(e[85]=[s("div",{class:"toggle-slider"},null,-1)])],2),o.value.approvalStatus!=="APPROVED"?(r(),i("span",Ht,"ìŠ¹ì¸ í›„ ë³€ê²½ ê°€ëŠ¥")):b("",!0)],2)]),s("div",qt,[s("div",Bt,[e[87]||(e[87]=s("label",null,[h("ì£¼ì¤‘ ìš”ê¸ˆ "),s("span",{class:"required"},"*")],-1)),c(s("input",{type:"number","onUpdate:modelValue":e[20]||(e[20]=d=>n.value.weekdayPrice=d),class:f({"input-error":u.value.weekdayPrice}),onInput:C},null,34),[[p,n.value.weekdayPrice]]),u.value.weekdayPrice?(r(),i("span",jt,v(u.value.weekdayPrice),1)):b("",!0)]),s("div",zt,[e[88]||(e[88]=s("label",null,[h("ì£¼ë§ ìš”ê¸ˆ "),s("span",{class:"required"},"*")],-1)),c(s("input",{type:"number","onUpdate:modelValue":e[21]||(e[21]=d=>n.value.weekendPrice=d),class:f({"input-error":u.value.weekendPrice}),onInput:C},null,34),[[p,n.value.weekendPrice]]),u.value.weekendPrice?(r(),i("span",Kt,v(u.value.weekendPrice),1)):b("",!0)])]),s("div",Jt,[s("div",Wt,[e[89]||(e[89]=s("label",null,"ìµœì†Œ ì¸ì›",-1)),c(s("input",{type:"number","onUpdate:modelValue":e[22]||(e[22]=d=>n.value.minGuests=d),class:f({"input-error":u.value.minGuests}),onInput:C},null,34),[[p,n.value.minGuests]]),u.value.minGuests?(r(),i("span",Yt,v(u.value.minGuests),1)):b("",!0)]),s("div",Qt,[e[90]||(e[90]=s("label",null,"ìµœëŒ€ ì¸ì›",-1)),c(s("input",{type:"number","onUpdate:modelValue":e[23]||(e[23]=d=>n.value.maxGuests=d),class:f({"input-error":u.value.maxGuests}),onInput:C},null,34),[[p,n.value.maxGuests]]),u.value.maxGuests?(r(),i("span",Xt,v(u.value.maxGuests),1)):b("",!0)])]),s("div",Zt,[s("div",ea,[e[91]||(e[91]=s("label",null,"ì¹¨ëŒ€ ê°œìˆ˜",-1)),c(s("input",{"onUpdate:modelValue":e[24]||(e[24]=d=>n.value.bedCount=d),type:"number",onInput:C},null,544),[[p,n.value.bedCount]])]),s("div",sa,[e[92]||(e[92]=s("label",null,"ìš•ì‹¤ ê°œìˆ˜",-1)),c(s("input",{"onUpdate:modelValue":e[25]||(e[25]=d=>n.value.bathroomCount=d),type:"number",onInput:C},null,544),[[p,n.value.bathroomCount]])])]),s("div",ta,[e[93]||(e[93]=s("label",null,"ê°ì‹¤ ì„¤ëª…",-1)),c(s("textarea",{"onUpdate:modelValue":e[26]||(e[26]=d=>n.value.description=d),rows:"3"},null,512),[[p,n.value.description]])]),s("div",aa,[(r(!0),i(U,null,T(a.roomAmenityOptions,(d,k)=>(r(),i("div",{key:k,class:"room-amenity-category"},[s("div",la,v(d.label),1),s("div",oa,[(r(!0),i(U,null,T(d.items,w=>(r(),i("label",{key:w,class:f(["room-amenity-tag",{selected:n.value.amenities.includes(w)}])},[s("input",{type:"checkbox",checked:n.value.amenities.includes(w),onChange:m=>a.toggleRoomAmenity(w)},null,40,na),h(" "+v(w),1)],2))),128))])]))),128))]),s("div",{class:"room-form-actions"},[s("button",{class:"btn-outline",onClick:Ee},"ì·¨ì†Œ"),s("button",{class:"btn-primary",onClick:ve},"ìˆ˜ì •")])]))]))),128))])):(r(),i("p",{key:1,class:f(["no-rooms",{"no-rooms-error":I.value.rooms}])},[e[94]||(e[94]=h(" ë“±ë¡ëœ ê°ì‹¤ì´ ì—†ìŠµë‹ˆë‹¤. ",-1)),I.value.rooms?(r(),i("span",ia,v(I.value.rooms),1)):b("",!0)],2)),!N.value&&!P.value?(r(),i("button",{key:2,class:"add-room-btn",onClick:Ve}," + ê°ì‹¤ ì¶”ê°€í•˜ê¸° ")):b("",!0),N.value&&!P.value?(r(),i("div",ra,[s("h4",ua,v(P.value?"ê°ì‹¤ ìˆ˜ì •":"ìƒˆ ê°ì‹¤ ì¶”ê°€"),1),s("div",da,[e[95]||(e[95]=s("label",null,[h("ê°ì‹¤ëª… "),s("span",{class:"required"},"*")],-1)),c(s("input",{type:"text","onUpdate:modelValue":e[27]||(e[27]=t=>n.value.name=t),class:f({"input-error":u.value.name}),placeholder:"ê°ì‹¤ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"},null,2),[[p,n.value.name]]),u.value.name?(r(),i("span",ma,v(u.value.name),1)):b("",!0)]),s("div",va,[e[97]||(e[97]=s("label",null,[h("ê°ì‹¤ ëŒ€í‘œ ì´ë¯¸ì§€ "),s("span",{class:"required"},"*")],-1)),s("div",{class:f(["room-image-upload-area",{"upload-error":u.value.representativeImage}])},[n.value.representativeImagePreview?(r(),i("div",ca,[s("img",{src:n.value.representativeImagePreview,alt:"ê°ì‹¤ ëŒ€í‘œ ì´ë¯¸ì§€"},null,8,pa),s("button",{type:"button",class:"room-remove-image-btn",onClick:me},"âœ•")])):(r(),i("label",ga,[s("input",{type:"file",accept:"image/*",onChange:de,class:"hidden-file-input"},null,32),e[96]||(e[96]=s("div",{class:"room-upload-content"},[s("span",{class:"room-upload-icon"},"ğŸ“·"),s("span",{class:"room-upload-text"},"ì´ë¯¸ì§€ ì—…ë¡œë“œ")],-1))]))],2),u.value.representativeImage?(r(),i("span",fa,v(u.value.representativeImage),1)):b("",!0)]),s("div",ka,[s("div",ba,[e[98]||(e[98]=s("label",null,[h("ì£¼ì¤‘ ìš”ê¸ˆ "),s("span",{class:"required"},"*")],-1)),c(s("input",{type:"number","onUpdate:modelValue":e[28]||(e[28]=t=>n.value.weekdayPrice=t),class:f({"input-error":u.value.weekdayPrice}),onInput:C},null,34),[[p,n.value.weekdayPrice]]),u.value.weekdayPrice?(r(),i("span",ya,v(u.value.weekdayPrice),1)):b("",!0)]),s("div",wa,[e[99]||(e[99]=s("label",null,[h("ì£¼ë§ ìš”ê¸ˆ "),s("span",{class:"required"},"*")],-1)),c(s("input",{type:"number","onUpdate:modelValue":e[29]||(e[29]=t=>n.value.weekendPrice=t),class:f({"input-error":u.value.weekendPrice}),onInput:C},null,34),[[p,n.value.weekendPrice]]),u.value.weekendPrice?(r(),i("span",ha,v(u.value.weekendPrice),1)):b("",!0)])]),s("div",Ia,[s("div",Pa,[e[100]||(e[100]=s("label",null,"ìµœì†Œ ì¸ì›",-1)),c(s("input",{type:"number","onUpdate:modelValue":e[30]||(e[30]=t=>n.value.minGuests=t),class:f({"input-error":u.value.minGuests}),onInput:C},null,34),[[p,n.value.minGuests]]),u.value.minGuests?(r(),i("span",_a,v(u.value.minGuests),1)):b("",!0)]),s("div",Ca,[e[101]||(e[101]=s("label",null,"ìµœëŒ€ ì¸ì›",-1)),c(s("input",{type:"number","onUpdate:modelValue":e[31]||(e[31]=t=>n.value.maxGuests=t),class:f({"input-error":u.value.maxGuests}),onInput:C},null,34),[[p,n.value.maxGuests]]),u.value.maxGuests?(r(),i("span",Ua,v(u.value.maxGuests),1)):b("",!0)])]),s("div",xa,[s("div",Ta,[e[102]||(e[102]=s("label",null,"ì¹¨ëŒ€ ê°œìˆ˜",-1)),c(s("input",{"onUpdate:modelValue":e[32]||(e[32]=t=>n.value.bedCount=t),type:"number",onInput:C},null,544),[[p,n.value.bedCount]])]),s("div",Aa,[e[103]||(e[103]=s("label",null,"ìš•ì‹¤ ê°œìˆ˜",-1)),c(s("input",{"onUpdate:modelValue":e[33]||(e[33]=t=>n.value.bathroomCount=t),type:"number",onInput:C},null,544),[[p,n.value.bathroomCount]])])]),s("div",Ga,[e[104]||(e[104]=s("label",null,"ê°ì‹¤ ì„¤ëª…",-1)),c(s("textarea",{"onUpdate:modelValue":e[34]||(e[34]=t=>n.value.description=t),rows:"3"},null,512),[[p,n.value.description]])]),s("div",Na,[s("button",{class:"btn-outline",onClick:e[35]||(e[35]=t=>N.value=!1)},"ì·¨ì†Œ"),s("button",{class:"btn-primary",onClick:ve},v(P.value?"ìˆ˜ì •":"ë“±ë¡"),1)])])):b("",!0)]),s("div",Sa,[s("button",{class:"btn-cancel",onClick:e[36]||(e[36]=t=>a.$router.push("/host/accommodation"))},"ì·¨ì†Œ"),s("button",{class:"btn-delete",onClick:Fe},"ìˆ™ì†Œ ì‚­ì œ"),s("button",{class:"btn-submit",onClick:Se},"ìˆ˜ì • ì™„ë£Œ")])])),z.value?(r(),i("div",{key:3,class:"modal-overlay",onClick:te},[s("div",{class:"modal-content",onClick:e[37]||(e[37]=Ze(()=>{},["stop"]))},[s("p",Ra,v(ee.value),1),s("button",{class:"modal-btn",onClick:te},"í™•ì¸")])])):b("",!0)],2)}}},$a=Ke(Oa,[["__scopeId","data-v-6f48f8ed"]]);export{$a as default};
